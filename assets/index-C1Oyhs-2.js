(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))a(r);new MutationObserver(r=>{for(const f of r)if(f.type==="childList")for(const p of f.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&a(p)}).observe(document,{childList:!0,subtree:!0});function o(r){const f={};return r.integrity&&(f.integrity=r.integrity),r.referrerPolicy&&(f.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?f.credentials="include":r.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function a(r){if(r.ep)return;r.ep=!0;const f=o(r);fetch(r.href,f)}})();var rv={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let uv,cv;function fv(){return{geminiUrl:uv,vertexUrl:cv}}function dv(i,t,o,a){var r,f;if(!(i!=null&&i.baseUrl)){const p=fv();return t?(r=p.vertexUrl)!==null&&r!==void 0?r:o:(f=p.geminiUrl)!==null&&f!==void 0?f:a}return i.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Sn{}function X(i,t){const o=/\{([^}]+)\}/g;return i.replace(o,(a,r)=>{if(Object.prototype.hasOwnProperty.call(t,r)){const f=t[r];return f!=null?String(f):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function c(i,t,o){for(let f=0;f<t.length-1;f++){const p=t[f];if(p.endsWith("[]")){const h=p.slice(0,-2);if(!(h in i))if(Array.isArray(o))i[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${p}`);if(Array.isArray(i[h])){const y=i[h];if(Array.isArray(o))for(let g=0;g<y.length;g++){const v=y[g];c(v,t.slice(f+1),o[g])}else for(const g of y)c(g,t.slice(f+1),o)}return}else if(p.endsWith("[0]")){const h=p.slice(0,-3);h in i||(i[h]=[{}]);const y=i[h];c(y[0],t.slice(f+1),o);return}(!i[p]||typeof i[p]!="object")&&(i[p]={}),i=i[p]}const a=t[t.length-1],r=i[a];if(r!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===r)return;if(typeof r=="object"&&typeof o=="object"&&r!==null&&o!==null)Object.assign(r,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(i,o):i[a]=o}function u(i,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return i;for(let a=0;a<t.length;a++){if(typeof i!="object"||i===null)return o;const r=t[a];if(r.endsWith("[]")){const f=r.slice(0,-2);if(f in i){const p=i[f];return Array.isArray(p)?p.map(h=>u(h,t.slice(a+1),o)):o}else return o}else i=i[r]}return i}catch(a){if(a instanceof TypeError)return o;throw a}}function pv(i,t){for(const[o,a]of Object.entries(t)){const r=o.split("."),f=a.split("."),p=new Set;let h=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){h=y;break}if(h!==-1&&f.length>h)for(let y=h;y<f.length;y++){const g=f[y];g!=="*"&&!g.endsWith("[]")&&!g.endsWith("[0]")&&p.add(g)}Eu(i,r,f,0,p)}}function Eu(i,t,o,a,r){if(a>=t.length||typeof i!="object"||i===null)return;const f=t[a];if(f.endsWith("[]")){const p=f.slice(0,-2),h=i;if(p in h&&Array.isArray(h[p]))for(const y of h[p])Eu(y,t,o,a+1,r)}else if(f==="*"){if(typeof i=="object"&&i!==null&&!Array.isArray(i)){const p=i,h=Object.keys(p).filter(g=>!g.startsWith("_")&&!r.has(g)),y={};for(const g of h)y[g]=p[g];for(const[g,v]of Object.entries(y)){const T=[];for(const E of o.slice(a))E==="*"?T.push(g):T.push(E);c(p,T,v)}for(const g of h)delete p[g]}}else{const p=i;f in p&&Eu(p[f],t,o,a+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Hu(i){if(typeof i!="string")throw new Error("fromImageBytes must be a string");return i}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function mv(i){const t={},o=u(i,["operationName"]);o!=null&&c(t,["operationName"],o);const a=u(i,["resourceName"]);return a!=null&&c(t,["_url","resourceName"],a),t}function hv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],yv(p)),t}function gv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],vv(p)),t}function yv(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Sv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function vv(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>Tv(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function Sv(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],Rv(o)),t}function Tv(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],Nv(o)),t}function Ev(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function _v(i){const t={},o=u(i,["operationName"]);return o!=null&&c(t,["_url","operationName"],o),t}function Cv(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],Av(p)),t}function Av(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Oh(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],xv(p)),t}function xv(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function Rv(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Hu(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function Nv(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Hu(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var $p;(function(i){i.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",i.OUTCOME_OK="OUTCOME_OK",i.OUTCOME_FAILED="OUTCOME_FAILED",i.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})($p||($p={}));var Wp;(function(i){i.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",i.PYTHON="PYTHON"})(Wp||(Wp={}));var jp;(function(i){i.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",i.SILENT="SILENT",i.WHEN_IDLE="WHEN_IDLE",i.INTERRUPT="INTERRUPT"})(jp||(jp={}));var Vt;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.STRING="STRING",i.NUMBER="NUMBER",i.INTEGER="INTEGER",i.BOOLEAN="BOOLEAN",i.ARRAY="ARRAY",i.OBJECT="OBJECT",i.NULL="NULL"})(Vt||(Vt={}));var em;(function(i){i.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",i.SIMPLE_SEARCH="SIMPLE_SEARCH",i.ELASTIC_SEARCH="ELASTIC_SEARCH"})(em||(em={}));var tm;(function(i){i.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",i.NO_AUTH="NO_AUTH",i.API_KEY_AUTH="API_KEY_AUTH",i.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",i.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",i.OAUTH="OAUTH",i.OIDC_AUTH="OIDC_AUTH"})(tm||(tm={}));var nm;(function(i){i.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",i.HTTP_IN_QUERY="HTTP_IN_QUERY",i.HTTP_IN_HEADER="HTTP_IN_HEADER",i.HTTP_IN_PATH="HTTP_IN_PATH",i.HTTP_IN_BODY="HTTP_IN_BODY",i.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(nm||(nm={}));var im;(function(i){i.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",i.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",i.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",i.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(im||(im={}));var om;(function(i){i.UNSPECIFIED="UNSPECIFIED",i.BLOCKING="BLOCKING",i.NON_BLOCKING="NON_BLOCKING"})(om||(om={}));var lm;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.MODE_DYNAMIC="MODE_DYNAMIC"})(lm||(lm={}));var am;(function(i){i.MODE_UNSPECIFIED="MODE_UNSPECIFIED",i.AUTO="AUTO",i.ANY="ANY",i.NONE="NONE",i.VALIDATED="VALIDATED"})(am||(am={}));var sm;(function(i){i.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",i.MINIMAL="MINIMAL"})(sm||(sm={}));var rm;(function(i){i.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",i.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",i.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",i.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",i.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",i.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",i.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",i.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",i.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",i.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(rm||(rm={}));var um;(function(i){i.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",i.SEVERITY="SEVERITY",i.PROBABILITY="PROBABILITY"})(um||(um={}));var cm;(function(i){i.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE",i.OFF="OFF"})(cm||(cm={}));var fm;(function(i){i.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",i.STOP="STOP",i.MAX_TOKENS="MAX_TOKENS",i.SAFETY="SAFETY",i.RECITATION="RECITATION",i.LANGUAGE="LANGUAGE",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.SPII="SPII",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.IMAGE_SAFETY="IMAGE_SAFETY",i.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",i.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",i.NO_IMAGE="NO_IMAGE",i.IMAGE_RECITATION="IMAGE_RECITATION",i.IMAGE_OTHER="IMAGE_OTHER"})(fm||(fm={}));var dm;(function(i){i.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH"})(dm||(dm={}));var pm;(function(i){i.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",i.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",i.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",i.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",i.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(pm||(pm={}));var mm;(function(i){i.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",i.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",i.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",i.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",i.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(mm||(mm={}));var hm;(function(i){i.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",i.SAFETY="SAFETY",i.OTHER="OTHER",i.BLOCKLIST="BLOCKLIST",i.PROHIBITED_CONTENT="PROHIBITED_CONTENT",i.IMAGE_SAFETY="IMAGE_SAFETY",i.MODEL_ARMOR="MODEL_ARMOR",i.JAILBREAK="JAILBREAK"})(hm||(hm={}));var gm;(function(i){i.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",i.ON_DEMAND="ON_DEMAND",i.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(gm||(gm={}));var Ua;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.AUDIO="AUDIO"})(Ua||(Ua={}));var ym;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ym||(ym={}));var vm;(function(i){i.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",i.TUNING_MODE_FULL="TUNING_MODE_FULL",i.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(vm||(vm={}));var Sm;(function(i){i.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",i.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",i.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",i.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",i.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",i.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",i.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Sm||(Sm={}));var _u;(function(i){i.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",i.JOB_STATE_QUEUED="JOB_STATE_QUEUED",i.JOB_STATE_PENDING="JOB_STATE_PENDING",i.JOB_STATE_RUNNING="JOB_STATE_RUNNING",i.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",i.JOB_STATE_FAILED="JOB_STATE_FAILED",i.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",i.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",i.JOB_STATE_PAUSED="JOB_STATE_PAUSED",i.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",i.JOB_STATE_UPDATING="JOB_STATE_UPDATING",i.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(_u||(_u={}));var Tm;(function(i){i.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",i.TUNING_TASK_I2V="TUNING_TASK_I2V",i.TUNING_TASK_T2V="TUNING_TASK_T2V",i.TUNING_TASK_R2V="TUNING_TASK_R2V"})(Tm||(Tm={}));var Em;(function(i){i.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",i.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",i.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",i.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",i.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(Em||(Em={}));var Cu;(function(i){i.COLLECTION="COLLECTION"})(Cu||(Cu={}));var _m;(function(i){i.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",i.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",i.BALANCED="BALANCED",i.PRIORITIZE_COST="PRIORITIZE_COST"})(_m||(_m={}));var Cm;(function(i){i.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",i.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Cm||(Cm={}));var Am;(function(i){i.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",i.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",i.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",i.BLOCK_NONE="BLOCK_NONE"})(Am||(Am={}));var xm;(function(i){i.DONT_ALLOW="DONT_ALLOW",i.ALLOW_ADULT="ALLOW_ADULT",i.ALLOW_ALL="ALLOW_ALL"})(xm||(xm={}));var Rm;(function(i){i.auto="auto",i.en="en",i.ja="ja",i.ko="ko",i.hi="hi",i.zh="zh",i.pt="pt",i.es="es"})(Rm||(Rm={}));var Nm;(function(i){i.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",i.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",i.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",i.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",i.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(Nm||(Nm={}));var Mm;(function(i){i.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",i.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",i.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",i.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Mm||(Mm={}));var bm;(function(i){i.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",i.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",i.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",i.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(bm||(bm={}));var wm;(function(i){i.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",i.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",i.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",i.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",i.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",i.EDIT_MODE_STYLE="EDIT_MODE_STYLE",i.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",i.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(wm||(wm={}));var Im;(function(i){i.FOREGROUND="FOREGROUND",i.BACKGROUND="BACKGROUND",i.PROMPT="PROMPT",i.SEMANTIC="SEMANTIC",i.INTERACTIVE="INTERACTIVE"})(Im||(Im={}));var Dm;(function(i){i.ASSET="ASSET",i.STYLE="STYLE"})(Dm||(Dm={}));var Um;(function(i){i.INSERT="INSERT",i.REMOVE="REMOVE",i.REMOVE_STATIC="REMOVE_STATIC",i.OUTPAINT="OUTPAINT"})(Um||(Um={}));var Lm;(function(i){i.OPTIMIZED="OPTIMIZED",i.LOSSLESS="LOSSLESS"})(Lm||(Lm={}));var Gm;(function(i){i.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",i.PREFERENCE_TUNING="PREFERENCE_TUNING"})(Gm||(Gm={}));var Hm;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.STATE_PENDING="STATE_PENDING",i.STATE_ACTIVE="STATE_ACTIVE",i.STATE_FAILED="STATE_FAILED"})(Hm||(Hm={}));var km;(function(i){i.STATE_UNSPECIFIED="STATE_UNSPECIFIED",i.PROCESSING="PROCESSING",i.ACTIVE="ACTIVE",i.FAILED="FAILED"})(km||(km={}));var qm;(function(i){i.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",i.UPLOADED="UPLOADED",i.GENERATED="GENERATED",i.REGISTERED="REGISTERED"})(qm||(qm={}));var Vm;(function(i){i.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",i.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",i.RESPONSE_REJECTED="RESPONSE_REJECTED",i.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Vm||(Vm={}));var Bm;(function(i){i.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",i.TEXT="TEXT",i.IMAGE="IMAGE",i.VIDEO="VIDEO",i.AUDIO="AUDIO",i.DOCUMENT="DOCUMENT"})(Bm||(Bm={}));var zm;(function(i){i.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",i.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",i.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(zm||(zm={}));var Pm;(function(i){i.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",i.ACTIVITY_START="ACTIVITY_START",i.ACTIVITY_END="ACTIVITY_END"})(Pm||(Pm={}));var Om;(function(i){i.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",i.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",i.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Om||(Om={}));var Fm;(function(i){i.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",i.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",i.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Fm||(Fm={}));var Jm;(function(i){i.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",i.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",i.NO_INTERRUPTION="NO_INTERRUPTION"})(Jm||(Jm={}));var Ym;(function(i){i.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",i.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",i.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Ym||(Ym={}));var Km;(function(i){i.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",i.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",i.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",i.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",i.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",i.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",i.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",i.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",i.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",i.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",i.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",i.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",i.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Km||(Km={}));var Xm;(function(i){i.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",i.QUALITY="QUALITY",i.DIVERSITY="DIVERSITY",i.VOCALIZATION="VOCALIZATION"})(Xm||(Xm={}));var eo;(function(i){i.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",i.PLAY="PLAY",i.PAUSE="PAUSE",i.STOP="STOP",i.RESET_CONTEXT="RESET_CONTEXT"})(eo||(eo={}));class Au{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class nl{get text(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let g="",v=!1;const T=[];for(const E of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,I]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(I!==null||I!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,g+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?g:void 0}get data(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let g="";const v=[];for(const T of(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(g+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),g.length>0?btoa(g):void 0}get functionCalls(){var t,o,a,r,f,p,h,y;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const g=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((g==null?void 0:g.length)!==0)return g}get executableCode(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.code}get codeExecutionResult(){var t,o,a,r,f,p,h,y,g;if(((r=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(p=(f=this.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(g=v==null?void 0:v[0])===null||g===void 0?void 0:g.output}}class Qm{}class Zm{}class Mv{}class bv{}class wv{}class Iv{}class $m{}class Wm{}class jm{}class Dv{}class La{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new La;let r;const f=t;return o?r=gv(f):r=hv(f),Object.assign(a,r),a}}class eh{}class th{}class nh{}class ih{}class Uv{}class Lv{}class Gv{}class ku{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new ku,f=Cv(t);return Object.assign(a,f),a}}class Hv{}class kv{}class qv{}class oh{}class Vv{get text(){var t,o,a;let r="",f=!1;const p=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,g]of Object.entries(h))y!=="text"&&y!=="thought"&&g!==null&&p.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;f=!0,r+=h.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?r:void 0}get data(){var t,o,a;let r="";const f=[];for(const p of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(p))h!=="inlineData"&&y!==null&&f.push(h);p.inlineData&&typeof p.inlineData.data=="string"&&(r+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Bv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class qu{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new qu,f=Oh(t);return Object.assign(a,f),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Se(i,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(i.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Fh(i,t){const o=Se(i,t);return o?o.startsWith("publishers/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}`:o.startsWith("models/")&&i.isVertexAI()?`projects/${i.getProject()}/locations/${i.getLocation()}/publishers/google/${o}`:o:""}function Jh(i){return Array.isArray(i)?i.map(t=>Ga(t)):[Ga(i)]}function Ga(i){if(typeof i=="object"&&i!==null)return i;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof i}`)}function Yh(i){const t=Ga(i);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Kh(i){const t=Ga(i);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function lh(i){if(i==null)throw new Error("PartUnion is required");if(typeof i=="object")return i;if(typeof i=="string")return{text:i};throw new Error(`Unsupported part type: ${typeof i}`)}function Xh(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("PartListUnion is required");return Array.isArray(i)?i.map(t=>lh(t)):[lh(i)]}function xu(i){return i!=null&&typeof i=="object"&&"parts"in i&&Array.isArray(i.parts)}function ah(i){return i!=null&&typeof i=="object"&&"functionCall"in i}function sh(i){return i!=null&&typeof i=="object"&&"functionResponse"in i}function at(i){if(i==null)throw new Error("ContentUnion is required");return xu(i)?i:{role:"user",parts:Xh(i)}}function Vu(i,t){if(!t)return[];if(i.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=at(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(i.isVertexAI()){const o=at(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>at(o)):[at(t)]}function Bt(i){if(i==null||Array.isArray(i)&&i.length===0)throw new Error("contents are required");if(!Array.isArray(i)){if(ah(i)||sh(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[at(i)]}const t=[],o=[],a=xu(i[0]);for(const r of i){const f=xu(r);if(f!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(f)t.push(r);else{if(ah(r)||sh(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(r)}}return a||t.push({role:"user",parts:Xh(o)}),t}function zv(i,t){i.includes("null")&&(t.nullable=!0);const o=i.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Vt).includes(o[0].toUpperCase())?o[0].toUpperCase():Vt.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Vt).includes(a.toUpperCase())?a.toUpperCase():Vt.TYPE_UNSPECIFIED})}}function no(i){const t={},o=["items"],a=["anyOf"],r=["properties"];if(i.type&&i.anyOf)throw new Error("type and anyOf cannot be both populated.");const f=i.anyOf;f!=null&&f.length==2&&(f[0].type==="null"?(t.nullable=!0,i=f[1]):f[1].type==="null"&&(t.nullable=!0,i=f[0])),i.type instanceof Array&&zv(i.type,t);for(const[p,h]of Object.entries(i))if(h!=null)if(p=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Vt).includes(h.toUpperCase())?h.toUpperCase():Vt.TYPE_UNSPECIFIED}else if(o.includes(p))t[p]=no(h);else if(a.includes(p)){const y=[];for(const g of h){if(g.type=="null"){t.nullable=!0;continue}y.push(no(g))}t[p]=y}else if(r.includes(p)){const y={};for(const[g,v]of Object.entries(h))y[g]=no(v);t[p]=y}else{if(p==="additionalProperties")continue;t[p]=h}return t}function Bu(i){return no(i)}function zu(i){if(typeof i=="object")return i;if(typeof i=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:i}}};throw new Error(`Unsupported speechConfig type: ${typeof i}`)}function Pu(i){if("multiSpeakerVoiceConfig"in i)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return i}function oo(i){if(i.functionDeclarations)for(const t of i.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=no(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=no(t.response));return i}function lo(i){if(i==null)throw new Error("tools is required");if(!Array.isArray(i))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of i)t.push(o);return t}function Pv(i,t,o,a=1){const r=!t.startsWith(`${o}/`)&&t.split("/").length===a;return i.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${i.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${i.getProject()}/locations/${i.getLocation()}/${t}`:r?`projects/${i.getProject()}/locations/${i.getLocation()}/${o}/${t}`:t:r?`${o}/${t}`:t}function Tn(i,t){if(typeof t!="string")throw new Error("name must be a string");return Pv(i,t,"cachedContents")}function Qh(i){switch(i){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return i}}function Yn(i){return Hu(i)}function Ov(i){return i!=null&&typeof i=="object"&&"name"in i}function Fv(i){return i!=null&&typeof i=="object"&&"video"in i}function Jv(i){return i!=null&&typeof i=="object"&&"uri"in i}function Zh(i){var t;let o;if(Ov(i)&&(o=i.name),!(Jv(i)&&(o=i.uri,o===void 0))&&!(Fv(i)&&(o=(t=i.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof i=="string"&&(o=i),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const r=o.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${o}`);o=r[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function $h(i,t){let o;return i.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Wh(i){for(const t of["models","tunedModels","publisherModels"])if(Yv(i,t))return i[t];return[]}function Yv(i,t){return i!==null&&typeof i=="object"&&t in i}function Kv(i,t={}){const o=i,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function Xv(i,t={}){const o=[],a=new Set;for(const r of i){const f=r.name;if(a.has(f))throw new Error(`Duplicate function name ${f} found in MCP tools. Please ensure function names are unique.`);a.add(f);const p=Kv(r,t);p.functionDeclarations&&o.push(...p.functionDeclarations)}return{functionDeclarations:o}}function jh(i,t){let o;if(typeof t=="string")if(i.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(i.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,r=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(i.isVertexAI()){if(r>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function Qv(i){if(typeof i!="string")return i;const t=i;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function eg(i){if(typeof i!="object"||i===null)return{};const t=i,o=t.inlinedResponses;if(typeof o!="object"||o===null)return i;const r=o.inlinedResponses;if(!Array.isArray(r)||r.length===0)return i;let f=!1;for(const p of r){if(typeof p!="object"||p===null)continue;const y=p.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){f=!0;break}}return f&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),i}function ao(i,t){const o=t;if(!i.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function tg(i){const t=i;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zv(i){const t={},o=u(i,["responsesFile"]);o!=null&&c(t,["fileName"],o);const a=u(i,["inlinedResponses","inlinedResponses"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>wS(p))),c(t,["inlinedResponses"],f)}const r=u(i,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["inlinedEmbedContentResponses"],f)}return t}function $v(i){const t={},o=u(i,["predictionsFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsDestination","outputUriPrefix"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigqueryDestination","outputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function Wv(i){const t={},o=u(i,["format"]);o!=null&&c(t,["predictionsFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsDestination","outputUriPrefix"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigqueryDestination","outputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(i,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ia(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata","displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["metadata","state"]);r!=null&&c(t,["state"],tg(r));const f=u(i,["metadata","createTime"]);f!=null&&c(t,["createTime"],f);const p=u(i,["metadata","endTime"]);p!=null&&c(t,["endTime"],p);const h=u(i,["metadata","updateTime"]);h!=null&&c(t,["updateTime"],h);const y=u(i,["metadata","model"]);y!=null&&c(t,["model"],y);const g=u(i,["metadata","output"]);return g!=null&&c(t,["dest"],Zv(eg(g))),t}function Ru(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["state"]);r!=null&&c(t,["state"],tg(r));const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["createTime"]);p!=null&&c(t,["createTime"],p);const h=u(i,["startTime"]);h!=null&&c(t,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(t,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(t,["updateTime"],g);const v=u(i,["model"]);v!=null&&c(t,["model"],v);const T=u(i,["inputConfig"]);T!=null&&c(t,["src"],jv(T));const E=u(i,["outputConfig"]);E!=null&&c(t,["dest"],$v(eg(E)));const C=u(i,["completionStats"]);return C!=null&&c(t,["completionStats"],C),t}function jv(i){const t={},o=u(i,["instancesFormat"]);o!=null&&c(t,["format"],o);const a=u(i,["gcsSource","uris"]);a!=null&&c(t,["gcsUri"],a);const r=u(i,["bigquerySource","inputUri"]);return r!=null&&c(t,["bigqueryUri"],r),t}function eS(i,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&c(o,["fileName"],a);const r=u(t,["inlinedRequests"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>bS(i,p))),c(o,["requests","requests"],f)}return o}function tS(i){const t={},o=u(i,["format"]);o!=null&&c(t,["instancesFormat"],o);const a=u(i,["gcsUri"]);a!=null&&c(t,["gcsSource","uris"],a);const r=u(i,["bigqueryUri"]);if(r!=null&&c(t,["bigquerySource","inputUri"],r),u(i,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(i,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function nS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function iS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function oS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function lS(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],aS(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(i,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function aS(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function ng(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>kS(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function sS(i,t){const o={},a=u(i,["displayName"]);if(t!==void 0&&a!=null&&c(t,["batch","displayName"],a),u(i,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function rS(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["dest"]);return t!==void 0&&r!=null&&c(t,["outputConfig"],Wv(Qv(r))),o}function rh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],eS(i,jh(i,r)));const f=u(t,["config"]);return f!=null&&sS(f,o),o}function uS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Se(i,a));const r=u(t,["src"]);r!=null&&c(o,["inputConfig"],tS(jh(i,r)));const f=u(t,["config"]);return f!=null&&rS(f,o),o}function cS(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["batch","displayName"],a),o}function fS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["src"]);r!=null&&c(o,["batch","inputConfig"],vS(i,r));const f=u(t,["config"]);return f!=null&&cS(f,o),o}function dS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function pS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function mS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function hS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);return f!=null&&c(t,["error"],f),t}function gS(i,t){const o={},a=u(t,["contents"]);if(a!=null){let f=Vu(i,a);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["requests[]","request","content"],f)}const r=u(t,["config"]);return r!=null&&(c(o,["_self"],yS(r,o)),pv(o,{"requests[].*":"requests[].request.*"})),o}function yS(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function vS(i,t){const o={},a=u(t,["fileName"]);a!=null&&c(o,["file_name"],a);const r=u(t,["inlinedRequests"]);return r!=null&&c(o,["requests"],gS(i,r)),o}function SS(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function TS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function ES(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function _S(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],ng(at(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Bu(z));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&c(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Fe=>qS(Fe))),c(o,["safetySettings"],_e)}const P=u(t,["tools"]);if(o!==void 0&&P!=null){let _e=lo(P);Array.isArray(_e)&&(_e=_e.map(Fe=>BS(oo(Fe)))),c(o,["tools"],_e)}const Q=u(t,["toolConfig"]);if(o!==void 0&&Q!=null&&c(o,["toolConfig"],VS(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=u(t,["cachedContent"]);o!==void 0&&ee!=null&&c(o,["cachedContent"],Tn(i,ee));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],zu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&c(a,["thinkingConfig"],ce);const Te=u(t,["imageConfig"]);Te!=null&&c(a,["imageConfig"],MS(Te));const Ue=u(t,["enableEnhancedCivicAnswers"]);if(Ue!=null&&c(a,["enableEnhancedCivicAnswers"],Ue),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function CS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>lS(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(i,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function AS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function xS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],ao(i,a)),o}function RS(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function NS(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function MS(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function bS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["request","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let h=Bt(r);Array.isArray(h)&&(h=h.map(y=>ng(y))),c(o,["request","contents"],h)}const f=u(t,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(t,["config"]);return p!=null&&c(o,["request","generationConfig"],_S(i,p,u(o,["request"],{}))),o}function wS(i){const t={},o=u(i,["response"]);o!=null&&c(t,["response"],CS(o));const a=u(i,["error"]);return a!=null&&c(t,["error"],a),t}function IS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);if(t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),u(i,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function DS(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);t!==void 0&&r!=null&&c(t,["_query","pageToken"],r);const f=u(i,["filter"]);return t!==void 0&&f!=null&&c(t,["_query","filter"],f),o}function US(i){const t={},o=u(i,["config"]);return o!=null&&IS(o,t),t}function LS(i){const t={},o=u(i,["config"]);return o!=null&&DS(o,t),t}function GS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["operations"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ia(p))),c(t,["batchJobs"],f)}return t}function HS(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["batchPredictionJobs"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>Ru(p))),c(t,["batchJobs"],f)}return t}function kS(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],SS(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],TS(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],nS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function qS(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function VS(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],ES(a)),t}function BS(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],RS(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],NS(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vn;(function(i){i.PAGED_ITEM_BATCH_JOBS="batchJobs",i.PAGED_ITEM_MODELS="models",i.PAGED_ITEM_TUNING_JOBS="tuningJobs",i.PAGED_ITEM_FILES="files",i.PAGED_ITEM_CACHED_CONTENTS="cachedContents",i.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",i.PAGED_ITEM_DOCUMENTS="documents"})(vn||(vn={}));class mi{constructor(t,o,a,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,r)}init(t,o,a){var r,f;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let p={config:{}};!a||Object.keys(a).length===0?p={config:{}}:typeof a=="object"?p=Object.assign({},a):p=a,p.config&&(p.config.pageToken=o.nextPageToken),this.paramsInternal=p,this.pageInternalSize=(f=(r=p.config)===null||r===void 0?void 0:r.pageSize)!==null&&f!==void 0?f:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zS extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(vn.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=rh(this.apiClient,t),a=o._url,r=X("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,g=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}g.push(T)}return h.requests=g,delete o.config,delete o._url,delete o._query,{path:r,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},r=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${r}`),a.dest===void 0){const f=this.getGcsUri(t),p=this.getBigqueryUri(t);if(f)f.endsWith(".jsonl")?a.dest=`${f.slice(0,-6)}/dest`:a.dest=`${f}_dest_${r}`;else if(p)a.dest=`${p}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=uS(this.apiClient,t);return h=X("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const g=rh(this.apiClient,t);return h=X("{model}:batchGenerateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ia(v))}}async createEmbeddingsInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fS(this.apiClient,t);return f=X("{model}:asyncBatchEmbedContent",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>Ia(y))}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=xS(this.apiClient,t);return h=X("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Ru(v))}else{const g=AS(this.apiClient,t);return h=X("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Ia(v))}}async cancel(t){var o,a,r,f;let p="",h={};if(this.apiClient.isVertexAI()){const y=oS(this.apiClient,t);p=X("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=iS(this.apiClient,t);p=X("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:p,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal})}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=LS(t);return h=X("batchPredictionJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=HS(v),E=new oh;return Object.assign(E,T),E})}else{const g=US(t);return h=X("batches",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=GS(v),E=new oh;return Object.assign(E,T),E})}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=pS(this.apiClient,t);return h=X("batchPredictionJobs/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>hS(v))}else{const g=dS(this.apiClient,t);return h=X("batches/{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>mS(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PS(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function uh(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>fT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function OS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let v=Bt(p);Array.isArray(v)&&(v=v.map(T=>uh(T))),c(t,["contents"],v)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],uh(at(h)));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>pT(T))),c(t,["tools"],v)}const g=u(i,["toolConfig"]);if(t!==void 0&&g!=null&&c(t,["toolConfig"],dT(g)),u(i,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function FS(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);t!==void 0&&r!=null&&c(t,["expireTime"],r);const f=u(i,["displayName"]);t!==void 0&&f!=null&&c(t,["displayName"],f);const p=u(i,["contents"]);if(t!==void 0&&p!=null){let T=Bt(p);Array.isArray(T)&&(T=T.map(E=>E)),c(t,["contents"],T)}const h=u(i,["systemInstruction"]);t!==void 0&&h!=null&&c(t,["systemInstruction"],at(h));const y=u(i,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>mT(E))),c(t,["tools"],T)}const g=u(i,["toolConfig"]);t!==void 0&&g!=null&&c(t,["toolConfig"],g);const v=u(i,["kmsKeyName"]);return t!==void 0&&v!=null&&c(t,["encryption_spec","kmsKeyName"],v),o}function JS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&OS(r,o),o}function YS(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["model"],Fh(i,a));const r=u(t,["config"]);return r!=null&&FS(r,o),o}function KS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Tn(i,a)),o}function XS(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Tn(i,a)),o}function QS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function ZS(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function $S(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function WS(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function jS(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function eT(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function tT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Tn(i,a)),o}function nT(i,t){const o={},a=u(t,["name"]);return a!=null&&c(o,["_url","name"],Tn(i,a)),o}function iT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function oT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function lT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function aT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function sT(i){const t={},o=u(i,["config"]);return o!=null&&lT(o,t),t}function rT(i){const t={},o=u(i,["config"]);return o!=null&&aT(o,t),t}function uT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function cT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["cachedContents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["cachedContents"],f)}return t}function fT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],$S(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],WS(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],PS(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function dT(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],jS(a)),t}function pT(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],iT(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],oT(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function mT(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>eT(E))),c(t,["functionDeclarations"],T)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function hT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function gT(i,t){const o={},a=u(i,["ttl"]);t!==void 0&&a!=null&&c(t,["ttl"],a);const r=u(i,["expireTime"]);return t!==void 0&&r!=null&&c(t,["expireTime"],r),o}function yT(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Tn(i,a));const r=u(t,["config"]);return r!=null&&hT(r,o),o}function vT(i,t){const o={},a=u(t,["name"]);a!=null&&c(o,["_url","name"],Tn(i,a));const r=u(t,["config"]);return r!=null&&gT(r,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ST extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(vn.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=YS(this.apiClient,t);return h=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=JS(this.apiClient,t);return h=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=nT(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=tT(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=XS(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=ZS(v),E=new nh;return Object.assign(E,T),E})}else{const g=KS(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=QS(v),E=new nh;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=vT(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>v)}else{const g=yT(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>v)}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=rT(t);return h=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=cT(v),E=new ih;return Object.assign(E,T),E})}else{const g=sT(t);return h=X("cachedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=uT(v),E=new ih;return Object.assign(E,T),E})}}}function Ha(i,t){var o={};for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&t.indexOf(a)<0&&(o[a]=i[a]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,a=Object.getOwnPropertySymbols(i);r<a.length;r++)t.indexOf(a[r])<0&&Object.prototype.propertyIsEnumerable.call(i,a[r])&&(o[a[r]]=i[a[r]]);return o}function ch(i){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&i[t],a=0;if(o)return o.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&a>=i.length&&(i=void 0),{value:i&&i[a++],done:!i}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function oe(i){return this instanceof oe?(this.v=i,this):new oe(i)}function Jt(i,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(i,t||[]),r,f=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",p),r[Symbol.asyncIterator]=function(){return this},r;function p(C){return function(I){return Promise.resolve(I).then(C,T)}}function h(C,I){a[C]&&(r[C]=function(G){return new Promise(function(L,z){f.push([C,G,L,z])>1||y(C,G)})},I&&(r[C]=I(r[C])))}function y(C,I){try{g(a[C](I))}catch(G){E(f[0][3],G)}}function g(C){C.value instanceof oe?Promise.resolve(C.value.v).then(v,T):E(f[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,I){C(I),f.shift(),f.length&&y(f[0][0],f[0][1])}}function Yt(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=i[Symbol.asyncIterator],o;return t?t.call(i):(i=typeof ch=="function"?ch(i):i[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(f){o[f]=i[f]&&function(p){return new Promise(function(h,y){p=i[f](p),r(h,y,p.done,p.value)})}}function r(f,p,h,y){Promise.resolve(y).then(function(g){f({value:g,done:h})},p)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TT(i){var t;if(i.candidates==null||i.candidates.length===0)return!1;const o=(t=i.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ig(o)}function ig(i){if(i.parts===void 0||i.parts.length===0)return!1;for(const t of i.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function ET(i){if(i.length!==0){for(const t of i)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function fh(i){if(i===void 0||i.length===0)return[];const t=[],o=i.length;let a=0;for(;a<o;)if(i[a].role==="user")t.push(i[a]),a++;else{const r=[];let f=!0;for(;a<o&&i[a].role==="model";)r.push(i[a]),f&&!ig(i[a])&&(f=!1),a++;f?t.push(...r):t.pop()}return t}class _T{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new CT(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class CT{constructor(t,o,a,r={},f=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=r,this.history=f,this.sendPromise=Promise.resolve(),ET(f)}async sendMessage(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var f,p,h;const y=await r,g=(p=(f=y.candidates)===null||f===void 0?void 0:f[0])===null||p===void 0?void 0:p.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(T))!==null&&h!==void 0?h:[]);const C=g?[g]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(t){var o;await this.sendPromise;const a=at(t.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const f=await r;return this.processStreamResponse(f,a)}getHistory(t=!1){const o=t?fh(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Jt(this,arguments,function*(){var r,f,p,h,y,g;const v=[];try{for(var T=!0,E=Yt(t),C;C=yield oe(E.next()),r=C.done,!r;T=!0){h=C.value,T=!1;const I=h;if(TT(I)){const G=(g=(y=I.candidates)===null||y===void 0?void 0:y[0])===null||g===void 0?void 0:g.content;G!==void 0&&v.push(G)}yield yield oe(I)}}catch(I){f={error:I}}finally{try{!T&&!r&&(p=E.return)&&(yield oe(p.call(E)))}finally{if(f)throw f.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let r=[];o.length>0&&o.every(f=>f.role!==void 0)?r=o:r.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...fh(a)):this.history.push(t),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,sl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AT(i){const t={},o=u(i,["file"]);return o!=null&&c(t,["file"],o),t}function xT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function RT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Zh(o)),t}function NT(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function MT(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","file"],Zh(o)),t}function bT(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function wT(i){const t={},o=u(i,["config"]);return o!=null&&bT(o,t),t}function IT(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["files"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["files"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DT extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(vn.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=wT(t);return f=X("files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=IT(y),v=new Hv;return Object.assign(v,g),v})}}async createInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=AT(t);return f=X("upload/v1beta/files",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=xT(y),v=new kv;return Object.assign(v,g),v})}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=MT(t);return f=X("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=RT(t);return f=X("files/{file}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=NT(y),v=new qv;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Da(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function UT(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>QT(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function LT(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function GT(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function HT(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function kT(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(i,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const Y=u(i,["speechConfig"]);Y!=null&&c(t,["speechConfig"],Y);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const P=u(i,["temperature"]);P!=null&&c(t,["temperature"],P);const Q=u(i,["thinkingConfig"]);Q!=null&&c(t,["thinkingConfig"],Q);const ee=u(i,["topK"]);ee!=null&&c(t,["topK"],ee);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function qT(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function VT(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function BT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],UT(at(I)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ee=lo(G);Array.isArray(ee)&&(ee=ee.map(J=>$T(oo(J)))),c(t,["setup","tools"],ee)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],ZT(L));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const P=u(i,["contextWindowCompression"]);t!==void 0&&P!=null&&c(t,["setup","contextWindowCompression"],P);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function zT(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],kT(a));const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],at(I));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let J=lo(G);Array.isArray(J)&&(J=J.map(ue=>WT(oo(ue)))),c(t,["setup","tools"],J)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],L);const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const P=u(i,["contextWindowCompression"]);t!==void 0&&P!=null&&c(t,["setup","contextWindowCompression"],P);const Q=u(i,["proactivity"]);t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q);const ee=u(i,["explicitVadSignal"]);return t!==void 0&&ee!=null&&c(t,["setup","explicitVadSignal"],ee),o}function PT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Se(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],BT(r,o)),o}function OT(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Se(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],zT(r,o)),o}function FT(i){const t={},o=u(i,["musicGenerationConfig"]);return o!=null&&c(t,["musicGenerationConfig"],o),t}function JT(i){const t={},o=u(i,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["weightedPrompts"],a)}return t}function YT(i){const t={},o=u(i,["media"]);if(o!=null){let g=Jh(o);Array.isArray(g)&&(g=g.map(v=>Da(v))),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Da(Kh(a)));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Da(Yh(f)));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function KT(i){const t={},o=u(i,["media"]);if(o!=null){let g=Jh(o);Array.isArray(g)&&(g=g.map(v=>v)),c(t,["mediaChunks"],g)}const a=u(i,["audio"]);a!=null&&c(t,["audio"],Kh(a));const r=u(i,["audioStreamEnd"]);r!=null&&c(t,["audioStreamEnd"],r);const f=u(i,["video"]);f!=null&&c(t,["video"],Yh(f));const p=u(i,["text"]);p!=null&&c(t,["text"],p);const h=u(i,["activityStart"]);h!=null&&c(t,["activityStart"],h);const y=u(i,["activityEnd"]);return y!=null&&c(t,["activityEnd"],y),t}function XT(i){const t={},o=u(i,["setupComplete"]);o!=null&&c(t,["setupComplete"],o);const a=u(i,["serverContent"]);a!=null&&c(t,["serverContent"],a);const r=u(i,["toolCall"]);r!=null&&c(t,["toolCall"],r);const f=u(i,["toolCallCancellation"]);f!=null&&c(t,["toolCallCancellation"],f);const p=u(i,["usageMetadata"]);p!=null&&c(t,["usageMetadata"],jT(p));const h=u(i,["goAway"]);h!=null&&c(t,["goAway"],h);const y=u(i,["sessionResumptionUpdate"]);y!=null&&c(t,["sessionResumptionUpdate"],y);const g=u(i,["voiceActivityDetectionSignal"]);g!=null&&c(t,["voiceActivityDetectionSignal"],g);const v=u(i,["voiceActivity"]);return v!=null&&c(t,["voiceActivity"],eE(v)),t}function QT(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],LT(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],GT(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],Da(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function ZT(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function $T(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],qT(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],VT(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function WT(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>HT(E))),c(t,["functionDeclarations"],T)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function jT(i){const t={},o=u(i,["promptTokenCount"]);o!=null&&c(t,["promptTokenCount"],o);const a=u(i,["cachedContentTokenCount"]);a!=null&&c(t,["cachedContentTokenCount"],a);const r=u(i,["candidatesTokenCount"]);r!=null&&c(t,["responseTokenCount"],r);const f=u(i,["toolUsePromptTokenCount"]);f!=null&&c(t,["toolUsePromptTokenCount"],f);const p=u(i,["thoughtsTokenCount"]);p!=null&&c(t,["thoughtsTokenCount"],p);const h=u(i,["totalTokenCount"]);h!=null&&c(t,["totalTokenCount"],h);const y=u(i,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["promptTokensDetails"],C)}const g=u(i,["cacheTokensDetails"]);if(g!=null){let C=g;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["cacheTokensDetails"],C)}const v=u(i,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["responseTokensDetails"],C)}const T=u(i,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(I=>I)),c(t,["toolUsePromptTokensDetails"],C)}const E=u(i,["trafficType"]);return E!=null&&c(t,["trafficType"],E),t}function eE(i){const t={},o=u(i,["type"]);return o!=null&&c(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tE(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function nE(i){const t={},o=u(i,["content"]);o!=null&&c(t,["content"],o);const a=u(i,["citationMetadata"]);a!=null&&c(t,["citationMetadata"],iE(a));const r=u(i,["tokenCount"]);r!=null&&c(t,["tokenCount"],r);const f=u(i,["finishReason"]);f!=null&&c(t,["finishReason"],f);const p=u(i,["avgLogprobs"]);p!=null&&c(t,["avgLogprobs"],p);const h=u(i,["groundingMetadata"]);h!=null&&c(t,["groundingMetadata"],h);const y=u(i,["index"]);y!=null&&c(t,["index"],y);const g=u(i,["logprobsResult"]);g!=null&&c(t,["logprobsResult"],g);const v=u(i,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),c(t,["safetyRatings"],E)}const T=u(i,["urlContextMetadata"]);return T!=null&&c(t,["urlContextMetadata"],T),t}function iE(i){const t={},o=u(i,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>r)),c(t,["citations"],a)}return t}function oE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let f=Bt(r);Array.isArray(f)&&(f=f.map(p=>p)),c(o,["contents"],f)}return o}function lE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["tokensInfo"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["tokensInfo"],r)}return t}function aE(i){const t={},o=u(i,["values"]);o!=null&&c(t,["values"],o);const a=u(i,["statistics"]);return a!=null&&c(t,["statistics"],sE(a)),t}function sE(i){const t={},o=u(i,["truncated"]);o!=null&&c(t,["truncated"],o);const a=u(i,["token_count"]);return a!=null&&c(t,["tokenCount"],a),t}function Ba(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>g_(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function rE(i){const t={},o=u(i,["controlType"]);o!=null&&c(t,["controlType"],o);const a=u(i,["enableControlImageComputation"]);return a!=null&&c(t,["computeControl"],a),t}function uE(i){const t={};if(u(i,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(i,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(i,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return t}function cE(i,t){const o={},a=u(i,["systemInstruction"]);t!==void 0&&a!=null&&c(t,["systemInstruction"],at(a));const r=u(i,["tools"]);if(t!==void 0&&r!=null){let p=r;Array.isArray(p)&&(p=p.map(h=>sg(h))),c(t,["tools"],p)}const f=u(i,["generationConfig"]);return t!==void 0&&f!=null&&c(t,["generationConfig"],t_(f)),o}function fE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(h=>Ba(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&uE(f),o}function dE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&cE(f,o),o}function pE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);a!=null&&c(t,["totalTokens"],a);const r=u(i,["cachedContentTokenCount"]);return r!=null&&c(t,["cachedContentTokenCount"],r),t}function mE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["totalTokens"]);return a!=null&&c(t,["totalTokens"],a),t}function hE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Se(i,a)),o}function gE(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Se(i,a)),o}function yE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function vE(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}function SE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const Y=u(i,["editMode"]);t!==void 0&&Y!=null&&c(t,["parameters","editMode"],Y);const O=u(i,["baseSteps"]);return t!==void 0&&O!=null&&c(t,["parameters","editConfig","baseSteps"],O),o}function TE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["referenceImages"]);if(f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>__(y))),c(o,["instances[0]","referenceImages"],h)}const p=u(t,["config"]);return p!=null&&SE(p,o),o}function EE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>za(f))),c(t,["generatedImages"],r)}return t}function _E(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["requests[]","taskType"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["requests[]","title"],r);const f=u(i,["outputDimensionality"]);if(t!==void 0&&f!=null&&c(t,["requests[]","outputDimensionality"],f),u(i,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(i,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function CE(i,t){const o={},a=u(i,["taskType"]);t!==void 0&&a!=null&&c(t,["instances[]","task_type"],a);const r=u(i,["title"]);t!==void 0&&r!=null&&c(t,["instances[]","title"],r);const f=u(i,["outputDimensionality"]);t!==void 0&&f!=null&&c(t,["parameters","outputDimensionality"],f);const p=u(i,["mimeType"]);t!==void 0&&p!=null&&c(t,["instances[]","mimeType"],p);const h=u(i,["autoTruncate"]);return t!==void 0&&h!=null&&c(t,["parameters","autoTruncate"],h),o}function AE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let h=Vu(i,r);Array.isArray(h)&&(h=h.map(y=>y)),c(o,["requests[]","content"],h)}const f=u(t,["config"]);f!=null&&_E(f,o);const p=u(t,["model"]);return p!==void 0&&c(o,["requests[]","model"],Se(i,p)),o}function xE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let p=Vu(i,r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["instances[]","content"],p)}const f=u(t,["config"]);return f!=null&&CE(f,o),o}function RE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function NE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions[]","embeddings"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>aE(p))),c(t,["embeddings"],f)}const r=u(i,["metadata"]);return r!=null&&c(t,["metadata"],r),t}function ME(i){const t={},o=u(i,["endpoint"]);o!=null&&c(t,["name"],o);const a=u(i,["deployedModelId"]);return a!=null&&c(t,["deployedModelId"],a),t}function bE(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function wE(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function IE(i){const t={},o=u(i,["allowedFunctionNames"]);o!=null&&c(t,["allowedFunctionNames"],o);const a=u(i,["mode"]);if(a!=null&&c(t,["mode"],a),u(i,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function DE(i){const t={},o=u(i,["description"]);o!=null&&c(t,["description"],o);const a=u(i,["name"]);a!=null&&c(t,["name"],a);const r=u(i,["parameters"]);r!=null&&c(t,["parameters"],r);const f=u(i,["parametersJsonSchema"]);f!=null&&c(t,["parametersJsonSchema"],f);const p=u(i,["response"]);p!=null&&c(t,["response"],p);const h=u(i,["responseJsonSchema"]);if(h!=null&&c(t,["responseJsonSchema"],h),u(i,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function UE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],Ba(at(r)));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Bu(z));const Y=u(t,["responseJsonSchema"]);if(Y!=null&&c(a,["responseJsonSchema"],Y),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const O=u(t,["safetySettings"]);if(o!==void 0&&O!=null){let _e=O;Array.isArray(_e)&&(_e=_e.map(Fe=>C_(Fe))),c(o,["safetySettings"],_e)}const P=u(t,["tools"]);if(o!==void 0&&P!=null){let _e=lo(P);Array.isArray(_e)&&(_e=_e.map(Fe=>w_(oo(Fe)))),c(o,["tools"],_e)}const Q=u(t,["toolConfig"]);if(o!==void 0&&Q!=null&&c(o,["toolConfig"],b_(Q)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ee=u(t,["cachedContent"]);o!==void 0&&ee!=null&&c(o,["cachedContent"],Tn(i,ee));const J=u(t,["responseModalities"]);J!=null&&c(a,["responseModalities"],J);const ue=u(t,["mediaResolution"]);ue!=null&&c(a,["mediaResolution"],ue);const Z=u(t,["speechConfig"]);if(Z!=null&&c(a,["speechConfig"],zu(Z)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ce=u(t,["thinkingConfig"]);ce!=null&&c(a,["thinkingConfig"],ce);const Te=u(t,["imageConfig"]);Te!=null&&c(a,["imageConfig"],a_(Te));const Ue=u(t,["enableEnhancedCivicAnswers"]);if(Ue!=null&&c(a,["enableEnhancedCivicAnswers"],Ue),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function LE(i,t,o){const a={},r=u(t,["systemInstruction"]);o!==void 0&&r!=null&&c(o,["systemInstruction"],at(r));const f=u(t,["temperature"]);f!=null&&c(a,["temperature"],f);const p=u(t,["topP"]);p!=null&&c(a,["topP"],p);const h=u(t,["topK"]);h!=null&&c(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&c(a,["candidateCount"],y);const g=u(t,["maxOutputTokens"]);g!=null&&c(a,["maxOutputTokens"],g);const v=u(t,["stopSequences"]);v!=null&&c(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&c(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&c(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&c(a,["presencePenalty"],C);const I=u(t,["frequencyPenalty"]);I!=null&&c(a,["frequencyPenalty"],I);const G=u(t,["seed"]);G!=null&&c(a,["seed"],G);const L=u(t,["responseMimeType"]);L!=null&&c(a,["responseMimeType"],L);const z=u(t,["responseSchema"]);z!=null&&c(a,["responseSchema"],Bu(z));const Y=u(t,["responseJsonSchema"]);Y!=null&&c(a,["responseJsonSchema"],Y);const O=u(t,["routingConfig"]);O!=null&&c(a,["routingConfig"],O);const P=u(t,["modelSelectionConfig"]);P!=null&&c(a,["modelConfig"],P);const Q=u(t,["safetySettings"]);if(o!==void 0&&Q!=null){let F=Q;Array.isArray(F)&&(F=F.map(ne=>ne)),c(o,["safetySettings"],F)}const ee=u(t,["tools"]);if(o!==void 0&&ee!=null){let F=lo(ee);Array.isArray(F)&&(F=F.map(ne=>sg(oo(ne)))),c(o,["tools"],F)}const J=u(t,["toolConfig"]);o!==void 0&&J!=null&&c(o,["toolConfig"],J);const ue=u(t,["labels"]);o!==void 0&&ue!=null&&c(o,["labels"],ue);const Z=u(t,["cachedContent"]);o!==void 0&&Z!=null&&c(o,["cachedContent"],Tn(i,Z));const ce=u(t,["responseModalities"]);ce!=null&&c(a,["responseModalities"],ce);const Te=u(t,["mediaResolution"]);Te!=null&&c(a,["mediaResolution"],Te);const Ue=u(t,["speechConfig"]);Ue!=null&&c(a,["speechConfig"],zu(Ue));const _e=u(t,["audioTimestamp"]);_e!=null&&c(a,["audioTimestamp"],_e);const Fe=u(t,["thinkingConfig"]);Fe!=null&&c(a,["thinkingConfig"],Fe);const ft=u(t,["imageConfig"]);if(ft!=null&&c(a,["imageConfig"],s_(ft)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const k=u(t,["modelArmorConfig"]);return o!==void 0&&k!=null&&c(o,["modelArmorConfig"],k),a}function dh(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(h=>Ba(h))),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],UE(i,f,o)),o}function ph(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["contents"]);if(r!=null){let p=Bt(r);Array.isArray(p)&&(p=p.map(h=>h)),c(o,["contents"],p)}const f=u(t,["config"]);return f!=null&&c(o,["generationConfig"],LE(i,f,o)),o}function mh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(g=>nE(g))),c(t,["candidates"],y)}const r=u(i,["modelVersion"]);r!=null&&c(t,["modelVersion"],r);const f=u(i,["promptFeedback"]);f!=null&&c(t,["promptFeedback"],f);const p=u(i,["responseId"]);p!=null&&c(t,["responseId"],p);const h=u(i,["usageMetadata"]);return h!=null&&c(t,["usageMetadata"],h),t}function hh(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["candidates"]);if(a!=null){let g=a;Array.isArray(g)&&(g=g.map(v=>v)),c(t,["candidates"],g)}const r=u(i,["createTime"]);r!=null&&c(t,["createTime"],r);const f=u(i,["modelVersion"]);f!=null&&c(t,["modelVersion"],f);const p=u(i,["promptFeedback"]);p!=null&&c(t,["promptFeedback"],p);const h=u(i,["responseId"]);h!=null&&c(t,["responseId"],h);const y=u(i,["usageMetadata"]);return y!=null&&c(t,["usageMetadata"],y),t}function GE(i,t){const o={};if(u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["aspectRatio"]);t!==void 0&&r!=null&&c(t,["parameters","aspectRatio"],r);const f=u(i,["guidanceScale"]);if(t!==void 0&&f!=null&&c(t,["parameters","guidanceScale"],f),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const p=u(i,["safetyFilterLevel"]);t!==void 0&&p!=null&&c(t,["parameters","safetySetting"],p);const h=u(i,["personGeneration"]);t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h);const y=u(i,["includeSafetyAttributes"]);t!==void 0&&y!=null&&c(t,["parameters","includeSafetyAttributes"],y);const g=u(i,["includeRaiReason"]);t!==void 0&&g!=null&&c(t,["parameters","includeRaiReason"],g);const v=u(i,["language"]);t!==void 0&&v!=null&&c(t,["parameters","language"],v);const T=u(i,["outputMimeType"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","mimeType"],T);const E=u(i,["outputCompressionQuality"]);if(t!==void 0&&E!=null&&c(t,["parameters","outputOptions","compressionQuality"],E),u(i,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const C=u(i,["imageSize"]);if(t!==void 0&&C!=null&&c(t,["parameters","sampleImageSize"],C),u(i,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function HE(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["negativePrompt"]);t!==void 0&&r!=null&&c(t,["parameters","negativePrompt"],r);const f=u(i,["numberOfImages"]);t!==void 0&&f!=null&&c(t,["parameters","sampleCount"],f);const p=u(i,["aspectRatio"]);t!==void 0&&p!=null&&c(t,["parameters","aspectRatio"],p);const h=u(i,["guidanceScale"]);t!==void 0&&h!=null&&c(t,["parameters","guidanceScale"],h);const y=u(i,["seed"]);t!==void 0&&y!=null&&c(t,["parameters","seed"],y);const g=u(i,["safetyFilterLevel"]);t!==void 0&&g!=null&&c(t,["parameters","safetySetting"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["includeSafetyAttributes"]);t!==void 0&&T!=null&&c(t,["parameters","includeSafetyAttributes"],T);const E=u(i,["includeRaiReason"]);t!==void 0&&E!=null&&c(t,["parameters","includeRaiReason"],E);const C=u(i,["language"]);t!==void 0&&C!=null&&c(t,["parameters","language"],C);const I=u(i,["outputMimeType"]);t!==void 0&&I!=null&&c(t,["parameters","outputOptions","mimeType"],I);const G=u(i,["outputCompressionQuality"]);t!==void 0&&G!=null&&c(t,["parameters","outputOptions","compressionQuality"],G);const L=u(i,["addWatermark"]);t!==void 0&&L!=null&&c(t,["parameters","addWatermark"],L);const z=u(i,["labels"]);t!==void 0&&z!=null&&c(t,["labels"],z);const Y=u(i,["imageSize"]);t!==void 0&&Y!=null&&c(t,["parameters","sampleImageSize"],Y);const O=u(i,["enhancePrompt"]);return t!==void 0&&O!=null&&c(t,["parameters","enhancePrompt"],O),o}function kE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&GE(f,o),o}function qE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["config"]);return f!=null&&HE(f,o),o}function VE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>$E(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],lg(r)),t}function BE(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>za(p))),c(t,["generatedImages"],f)}const r=u(i,["positivePromptSafetyAttributes"]);return r!=null&&c(t,["positivePromptSafetyAttributes"],ag(r)),t}function zE(i,t){const o={},a=u(i,["numberOfVideos"]);if(t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a),u(i,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(i,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(i,["durationSeconds"]);if(t!==void 0&&r!=null&&c(t,["parameters","durationSeconds"],r),u(i,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const f=u(i,["aspectRatio"]);t!==void 0&&f!=null&&c(t,["parameters","aspectRatio"],f);const p=u(i,["resolution"]);t!==void 0&&p!=null&&c(t,["parameters","resolution"],p);const h=u(i,["personGeneration"]);if(t!==void 0&&h!=null&&c(t,["parameters","personGeneration"],h),u(i,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(i,["negativePrompt"]);t!==void 0&&y!=null&&c(t,["parameters","negativePrompt"],y);const g=u(i,["enhancePrompt"]);if(t!==void 0&&g!=null&&c(t,["parameters","enhancePrompt"],g),u(i,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=u(i,["lastFrame"]);t!==void 0&&v!=null&&c(t,["instances[0]","lastFrame"],Pa(v));const T=u(i,["referenceImages"]);if(t!==void 0&&T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>O_(C))),c(t,["instances[0]","referenceImages"],E)}if(u(i,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(i,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function PE(i,t){const o={},a=u(i,["numberOfVideos"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["outputGcsUri"]);t!==void 0&&r!=null&&c(t,["parameters","storageUri"],r);const f=u(i,["fps"]);t!==void 0&&f!=null&&c(t,["parameters","fps"],f);const p=u(i,["durationSeconds"]);t!==void 0&&p!=null&&c(t,["parameters","durationSeconds"],p);const h=u(i,["seed"]);t!==void 0&&h!=null&&c(t,["parameters","seed"],h);const y=u(i,["aspectRatio"]);t!==void 0&&y!=null&&c(t,["parameters","aspectRatio"],y);const g=u(i,["resolution"]);t!==void 0&&g!=null&&c(t,["parameters","resolution"],g);const v=u(i,["personGeneration"]);t!==void 0&&v!=null&&c(t,["parameters","personGeneration"],v);const T=u(i,["pubsubTopic"]);t!==void 0&&T!=null&&c(t,["parameters","pubsubTopic"],T);const E=u(i,["negativePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","negativePrompt"],E);const C=u(i,["enhancePrompt"]);t!==void 0&&C!=null&&c(t,["parameters","enhancePrompt"],C);const I=u(i,["generateAudio"]);t!==void 0&&I!=null&&c(t,["parameters","generateAudio"],I);const G=u(i,["lastFrame"]);t!==void 0&&G!=null&&c(t,["instances[0]","lastFrame"],Kt(G));const L=u(i,["referenceImages"]);if(t!==void 0&&L!=null){let O=L;Array.isArray(O)&&(O=O.map(P=>F_(P))),c(t,["instances[0]","referenceImages"],O)}const z=u(i,["mask"]);t!==void 0&&z!=null&&c(t,["instances[0]","mask"],P_(z));const Y=u(i,["compressionQuality"]);return t!==void 0&&Y!=null&&c(t,["parameters","compressionQuality"],Y),o}function OE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response","generateVideoResponse"]);return p!=null&&c(t,["response"],KE(p)),t}function FE(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],XE(p)),t}function JE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Pa(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],rg(p));const h=u(t,["source"]);h!=null&&QE(h,o);const y=u(t,["config"]);return y!=null&&zE(y,o),o}function YE(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["prompt"]);r!=null&&c(o,["instances[0]","prompt"],r);const f=u(t,["image"]);f!=null&&c(o,["instances[0]","image"],Kt(f));const p=u(t,["video"]);p!=null&&c(o,["instances[0]","video"],ug(p));const h=u(t,["source"]);h!=null&&ZE(h,o);const y=u(t,["config"]);return y!=null&&PE(y,o),o}function KE(i){const t={},o=u(i,["generatedSamples"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>jE(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function XE(i){const t={},o=u(i,["videos"]);if(o!=null){let f=o;Array.isArray(f)&&(f=f.map(p=>e_(p))),c(t,["generatedVideos"],f)}const a=u(i,["raiMediaFilteredCount"]);a!=null&&c(t,["raiMediaFilteredCount"],a);const r=u(i,["raiMediaFilteredReasons"]);return r!=null&&c(t,["raiMediaFilteredReasons"],r),t}function QE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Pa(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],rg(f)),o}function ZE(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Kt(r));const f=u(i,["video"]);return t!==void 0&&f!=null&&c(t,["instances[0]","video"],ug(f)),o}function $E(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],r_(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);return r!=null&&c(t,["safetyAttributes"],lg(r)),t}function za(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["image"],og(o));const a=u(i,["raiFilteredReason"]);a!=null&&c(t,["raiFilteredReason"],a);const r=u(i,["_self"]);r!=null&&c(t,["safetyAttributes"],ag(r));const f=u(i,["prompt"]);return f!=null&&c(t,["enhancedPrompt"],f),t}function WE(i){const t={},o=u(i,["_self"]);o!=null&&c(t,["mask"],og(o));const a=u(i,["labels"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(t,["labels"],r)}return t}function jE(i){const t={},o=u(i,["video"]);return o!=null&&c(t,["video"],B_(o)),t}function e_(i){const t={},o=u(i,["_self"]);return o!=null&&c(t,["video"],z_(o)),t}function t_(i){const t={},o=u(i,["modelSelectionConfig"]);o!=null&&c(t,["modelConfig"],o);const a=u(i,["responseJsonSchema"]);a!=null&&c(t,["responseJsonSchema"],a);const r=u(i,["audioTimestamp"]);r!=null&&c(t,["audioTimestamp"],r);const f=u(i,["candidateCount"]);f!=null&&c(t,["candidateCount"],f);const p=u(i,["enableAffectiveDialog"]);p!=null&&c(t,["enableAffectiveDialog"],p);const h=u(i,["frequencyPenalty"]);h!=null&&c(t,["frequencyPenalty"],h);const y=u(i,["logprobs"]);y!=null&&c(t,["logprobs"],y);const g=u(i,["maxOutputTokens"]);g!=null&&c(t,["maxOutputTokens"],g);const v=u(i,["mediaResolution"]);v!=null&&c(t,["mediaResolution"],v);const T=u(i,["presencePenalty"]);T!=null&&c(t,["presencePenalty"],T);const E=u(i,["responseLogprobs"]);E!=null&&c(t,["responseLogprobs"],E);const C=u(i,["responseMimeType"]);C!=null&&c(t,["responseMimeType"],C);const I=u(i,["responseModalities"]);I!=null&&c(t,["responseModalities"],I);const G=u(i,["responseSchema"]);G!=null&&c(t,["responseSchema"],G);const L=u(i,["routingConfig"]);L!=null&&c(t,["routingConfig"],L);const z=u(i,["seed"]);z!=null&&c(t,["seed"],z);const Y=u(i,["speechConfig"]);Y!=null&&c(t,["speechConfig"],Y);const O=u(i,["stopSequences"]);O!=null&&c(t,["stopSequences"],O);const P=u(i,["temperature"]);P!=null&&c(t,["temperature"],P);const Q=u(i,["thinkingConfig"]);Q!=null&&c(t,["thinkingConfig"],Q);const ee=u(i,["topK"]);ee!=null&&c(t,["topK"],ee);const J=u(i,["topP"]);if(J!=null&&c(t,["topP"],J),u(i,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function n_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Se(i,a)),o}function i_(i,t){const o={},a=u(t,["model"]);return a!=null&&c(o,["_url","name"],Se(i,a)),o}function o_(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function l_(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function a_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);if(a!=null&&c(t,["imageSize"],a),u(i,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(i,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(i,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function s_(i){const t={},o=u(i,["aspectRatio"]);o!=null&&c(t,["aspectRatio"],o);const a=u(i,["imageSize"]);a!=null&&c(t,["imageSize"],a);const r=u(i,["personGeneration"]);r!=null&&c(t,["personGeneration"],r);const f=u(i,["outputMimeType"]);f!=null&&c(t,["imageOutputOptions","mimeType"],f);const p=u(i,["outputCompressionQuality"]);return p!=null&&c(t,["imageOutputOptions","compressionQuality"],p),t}function r_(i){const t={},o=u(i,["bytesBase64Encoded"]);o!=null&&c(t,["imageBytes"],Yn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function og(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["imageBytes"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function Pa(i){const t={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=u(i,["imageBytes"]);o!=null&&c(t,["bytesBase64Encoded"],Yn(o));const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function Kt(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["imageBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function u_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],$h(i,h)),a}function c_(i,t,o){const a={},r=u(t,["pageSize"]);o!==void 0&&r!=null&&c(o,["_query","pageSize"],r);const f=u(t,["pageToken"]);o!==void 0&&f!=null&&c(o,["_query","pageToken"],f);const p=u(t,["filter"]);o!==void 0&&p!=null&&c(o,["_query","filter"],p);const h=u(t,["queryBase"]);return o!==void 0&&h!=null&&c(o,["_url","models_url"],$h(i,h)),a}function f_(i,t){const o={},a=u(t,["config"]);return a!=null&&u_(i,a,o),o}function d_(i,t){const o={},a=u(t,["config"]);return a!=null&&c_(i,a,o),o}function p_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Wh(r);Array.isArray(f)&&(f=f.map(p=>Nu(p))),c(t,["models"],f)}return t}function m_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["_self"]);if(r!=null){let f=Wh(r);Array.isArray(f)&&(f=f.map(p=>Mu(p))),c(t,["models"],f)}return t}function h_(i){const t={},o=u(i,["maskMode"]);o!=null&&c(t,["maskMode"],o);const a=u(i,["segmentationClasses"]);a!=null&&c(t,["maskClasses"],a);const r=u(i,["maskDilation"]);return r!=null&&c(t,["dilation"],r),t}function Nu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["version"]);f!=null&&c(t,["version"],f);const p=u(i,["_self"]);p!=null&&c(t,["tunedModelInfo"],I_(p));const h=u(i,["inputTokenLimit"]);h!=null&&c(t,["inputTokenLimit"],h);const y=u(i,["outputTokenLimit"]);y!=null&&c(t,["outputTokenLimit"],y);const g=u(i,["supportedGenerationMethods"]);g!=null&&c(t,["supportedActions"],g);const v=u(i,["temperature"]);v!=null&&c(t,["temperature"],v);const T=u(i,["maxTemperature"]);T!=null&&c(t,["maxTemperature"],T);const E=u(i,["topP"]);E!=null&&c(t,["topP"],E);const C=u(i,["topK"]);C!=null&&c(t,["topK"],C);const I=u(i,["thinking"]);return I!=null&&c(t,["thinking"],I),t}function Mu(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["displayName"]);a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);r!=null&&c(t,["description"],r);const f=u(i,["versionId"]);f!=null&&c(t,["version"],f);const p=u(i,["deployedModels"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>ME(E))),c(t,["endpoints"],T)}const h=u(i,["labels"]);h!=null&&c(t,["labels"],h);const y=u(i,["_self"]);y!=null&&c(t,["tunedModelInfo"],D_(y));const g=u(i,["defaultCheckpointId"]);g!=null&&c(t,["defaultCheckpointId"],g);const v=u(i,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(E=>E)),c(t,["checkpoints"],T)}return t}function g_(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],bE(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],wE(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],tE(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function y_(i){const t={},o=u(i,["productImage"]);return o!=null&&c(t,["image"],Kt(o)),t}function v_(i,t){const o={},a=u(i,["numberOfImages"]);t!==void 0&&a!=null&&c(t,["parameters","sampleCount"],a);const r=u(i,["baseSteps"]);t!==void 0&&r!=null&&c(t,["parameters","baseSteps"],r);const f=u(i,["outputGcsUri"]);t!==void 0&&f!=null&&c(t,["parameters","storageUri"],f);const p=u(i,["seed"]);t!==void 0&&p!=null&&c(t,["parameters","seed"],p);const h=u(i,["safetyFilterLevel"]);t!==void 0&&h!=null&&c(t,["parameters","safetySetting"],h);const y=u(i,["personGeneration"]);t!==void 0&&y!=null&&c(t,["parameters","personGeneration"],y);const g=u(i,["addWatermark"]);t!==void 0&&g!=null&&c(t,["parameters","addWatermark"],g);const v=u(i,["outputMimeType"]);t!==void 0&&v!=null&&c(t,["parameters","outputOptions","mimeType"],v);const T=u(i,["outputCompressionQuality"]);t!==void 0&&T!=null&&c(t,["parameters","outputOptions","compressionQuality"],T);const E=u(i,["enhancePrompt"]);t!==void 0&&E!=null&&c(t,["parameters","enhancePrompt"],E);const C=u(i,["labels"]);return t!==void 0&&C!=null&&c(t,["labels"],C),o}function S_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["source"]);r!=null&&E_(r,o);const f=u(t,["config"]);return f!=null&&v_(f,o),o}function T_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>za(r))),c(t,["generatedImages"],a)}return t}function E_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["personImage"]);t!==void 0&&r!=null&&c(t,["instances[0]","personImage","image"],Kt(r));const f=u(i,["productImages"]);if(t!==void 0&&f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>y_(h))),c(t,["instances[0]","productImages"],p)}return o}function __(i){const t={},o=u(i,["referenceImage"]);o!=null&&c(t,["referenceImage"],Kt(o));const a=u(i,["referenceId"]);a!=null&&c(t,["referenceId"],a);const r=u(i,["referenceType"]);r!=null&&c(t,["referenceType"],r);const f=u(i,["maskImageConfig"]);f!=null&&c(t,["maskImageConfig"],h_(f));const p=u(i,["controlImageConfig"]);p!=null&&c(t,["controlImageConfig"],rE(p));const h=u(i,["styleImageConfig"]);h!=null&&c(t,["styleImageConfig"],h);const y=u(i,["subjectImageConfig"]);return y!=null&&c(t,["subjectImageConfig"],y),t}function lg(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function ag(i){const t={},o=u(i,["safetyAttributes","categories"]);o!=null&&c(t,["categories"],o);const a=u(i,["safetyAttributes","scores"]);a!=null&&c(t,["scores"],a);const r=u(i,["contentType"]);return r!=null&&c(t,["contentType"],r),t}function C_(i){const t={},o=u(i,["category"]);if(o!=null&&c(t,["category"],o),u(i,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(i,["threshold"]);return a!=null&&c(t,["threshold"],a),t}function A_(i){const t={},o=u(i,["image"]);return o!=null&&c(t,["image"],Kt(o)),t}function x_(i,t){const o={},a=u(i,["mode"]);t!==void 0&&a!=null&&c(t,["parameters","mode"],a);const r=u(i,["maxPredictions"]);t!==void 0&&r!=null&&c(t,["parameters","maxPredictions"],r);const f=u(i,["confidenceThreshold"]);t!==void 0&&f!=null&&c(t,["parameters","confidenceThreshold"],f);const p=u(i,["maskDilation"]);t!==void 0&&p!=null&&c(t,["parameters","maskDilation"],p);const h=u(i,["binaryColorThreshold"]);t!==void 0&&h!=null&&c(t,["parameters","binaryColorThreshold"],h);const y=u(i,["labels"]);return t!==void 0&&y!=null&&c(t,["labels"],y),o}function R_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["source"]);r!=null&&M_(r,o);const f=u(t,["config"]);return f!=null&&x_(f,o),o}function N_(i){const t={},o=u(i,["predictions"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(r=>WE(r))),c(t,["generatedMasks"],a)}return t}function M_(i,t){const o={},a=u(i,["prompt"]);t!==void 0&&a!=null&&c(t,["instances[0]","prompt"],a);const r=u(i,["image"]);t!==void 0&&r!=null&&c(t,["instances[0]","image"],Kt(r));const f=u(i,["scribbleImage"]);return t!==void 0&&f!=null&&c(t,["instances[0]","scribble"],A_(f)),o}function b_(i){const t={},o=u(i,["retrievalConfig"]);o!=null&&c(t,["retrievalConfig"],o);const a=u(i,["functionCallingConfig"]);return a!=null&&c(t,["functionCallingConfig"],IE(a)),t}function w_(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],o_(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],l_(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}function sg(i){const t={},o=u(i,["retrieval"]);o!=null&&c(t,["retrieval"],o);const a=u(i,["computerUse"]);if(a!=null&&c(t,["computerUse"],a),u(i,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const r=u(i,["codeExecution"]);r!=null&&c(t,["codeExecution"],r);const f=u(i,["enterpriseWebSearch"]);f!=null&&c(t,["enterpriseWebSearch"],f);const p=u(i,["functionDeclarations"]);if(p!=null){let T=p;Array.isArray(T)&&(T=T.map(E=>DE(E))),c(t,["functionDeclarations"],T)}const h=u(i,["googleMaps"]);h!=null&&c(t,["googleMaps"],h);const y=u(i,["googleSearch"]);y!=null&&c(t,["googleSearch"],y);const g=u(i,["googleSearchRetrieval"]);g!=null&&c(t,["googleSearchRetrieval"],g);const v=u(i,["urlContext"]);return v!=null&&c(t,["urlContext"],v),t}function I_(i){const t={},o=u(i,["baseModel"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function D_(i){const t={},o=u(i,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&c(t,["baseModel"],o);const a=u(i,["createTime"]);a!=null&&c(t,["createTime"],a);const r=u(i,["updateTime"]);return r!=null&&c(t,["updateTime"],r),t}function U_(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function L_(i,t){const o={},a=u(i,["displayName"]);t!==void 0&&a!=null&&c(t,["displayName"],a);const r=u(i,["description"]);t!==void 0&&r!=null&&c(t,["description"],r);const f=u(i,["defaultCheckpointId"]);return t!==void 0&&f!=null&&c(t,["defaultCheckpointId"],f),o}function G_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","name"],Se(i,a));const r=u(t,["config"]);return r!=null&&U_(r,o),o}function H_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["config"]);return r!=null&&L_(r,o),o}function k_(i,t){const o={},a=u(i,["outputGcsUri"]);t!==void 0&&a!=null&&c(t,["parameters","storageUri"],a);const r=u(i,["safetyFilterLevel"]);t!==void 0&&r!=null&&c(t,["parameters","safetySetting"],r);const f=u(i,["personGeneration"]);t!==void 0&&f!=null&&c(t,["parameters","personGeneration"],f);const p=u(i,["includeRaiReason"]);t!==void 0&&p!=null&&c(t,["parameters","includeRaiReason"],p);const h=u(i,["outputMimeType"]);t!==void 0&&h!=null&&c(t,["parameters","outputOptions","mimeType"],h);const y=u(i,["outputCompressionQuality"]);t!==void 0&&y!=null&&c(t,["parameters","outputOptions","compressionQuality"],y);const g=u(i,["enhanceInputImage"]);t!==void 0&&g!=null&&c(t,["parameters","upscaleConfig","enhanceInputImage"],g);const v=u(i,["imagePreservationFactor"]);t!==void 0&&v!=null&&c(t,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["numberOfImages"]);t!==void 0&&E!=null&&c(t,["parameters","sampleCount"],E);const C=u(i,["mode"]);return t!==void 0&&C!=null&&c(t,["parameters","mode"],C),o}function q_(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["_url","model"],Se(i,a));const r=u(t,["image"]);r!=null&&c(o,["instances[0]","image"],Kt(r));const f=u(t,["upscaleFactor"]);f!=null&&c(o,["parameters","upscaleConfig","upscaleFactor"],f);const p=u(t,["config"]);return p!=null&&k_(p,o),o}function V_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["predictions"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>za(f))),c(t,["generatedImages"],r)}return t}function B_(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["encodedVideo"]);a!=null&&c(t,["videoBytes"],Yn(a));const r=u(i,["encoding"]);return r!=null&&c(t,["mimeType"],r),t}function z_(i){const t={},o=u(i,["gcsUri"]);o!=null&&c(t,["uri"],o);const a=u(i,["bytesBase64Encoded"]);a!=null&&c(t,["videoBytes"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}function P_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["_self"],Kt(o));const a=u(i,["maskMode"]);return a!=null&&c(t,["maskMode"],a),t}function O_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Pa(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function F_(i){const t={},o=u(i,["image"]);o!=null&&c(t,["image"],Kt(o));const a=u(i,["referenceType"]);return a!=null&&c(t,["referenceType"],a),t}function rg(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["uri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["encodedVideo"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["encoding"],r),t}function ug(i){const t={},o=u(i,["uri"]);o!=null&&c(t,["gcsUri"],o);const a=u(i,["videoBytes"]);a!=null&&c(t,["bytesBase64Encoded"],Yn(a));const r=u(i,["mimeType"]);return r!=null&&c(t,["mimeType"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function J_(i,t){const o={},a=u(i,["displayName"]);return t!==void 0&&a!=null&&c(t,["displayName"],a),o}function Y_(i){const t={},o=u(i,["config"]);return o!=null&&J_(o,t),t}function K_(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function X_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&K_(a,t),t}function Q_(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function Z_(i,t){const o={},a=u(i,["customMetadata"]);if(t!==void 0&&a!=null){let f=a;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["customMetadata"],f)}const r=u(i,["chunkingConfig"]);return t!==void 0&&r!=null&&c(t,["chunkingConfig"],r),o}function $_(i){const t={},o=u(i,["name"]);o!=null&&c(t,["name"],o);const a=u(i,["metadata"]);a!=null&&c(t,["metadata"],a);const r=u(i,["done"]);r!=null&&c(t,["done"],r);const f=u(i,["error"]);f!=null&&c(t,["error"],f);const p=u(i,["response"]);return p!=null&&c(t,["response"],j_(p)),t}function W_(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["fileName"]);a!=null&&c(t,["fileName"],a);const r=u(i,["config"]);return r!=null&&Z_(r,t),t}function j_(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["parent"]);a!=null&&c(t,["parent"],a);const r=u(i,["documentName"]);return r!=null&&c(t,["documentName"],r),t}function eC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function tC(i){const t={},o=u(i,["config"]);return o!=null&&eC(o,t),t}function nC(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["fileSearchStores"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["fileSearchStores"],f)}return t}function cg(i,t){const o={},a=u(i,["mimeType"]);t!==void 0&&a!=null&&c(t,["mimeType"],a);const r=u(i,["displayName"]);t!==void 0&&r!=null&&c(t,["displayName"],r);const f=u(i,["customMetadata"]);if(t!==void 0&&f!=null){let h=f;Array.isArray(h)&&(h=h.map(y=>y)),c(t,["customMetadata"],h)}const p=u(i,["chunkingConfig"]);return t!==void 0&&p!=null&&c(t,["chunkingConfig"],p),o}function iC(i){const t={},o=u(i,["fileSearchStoreName"]);o!=null&&c(t,["_url","file_search_store_name"],o);const a=u(i,["config"]);return a!=null&&cg(a,t),t}function oC(i){const t={},o=u(i,["sdkHttpResponse"]);return o!=null&&c(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lC="Content-Type",aC="X-Server-Timeout",sC="User-Agent",bu="x-goog-api-client",rC="1.38.0",uC=`google-genai-sdk/${rC}`,cC="v1beta1",fC="v1beta";class dC{constructor(t){var o,a,r;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const f={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(f.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?f.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(f.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),f.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:cC}else{if(!this.clientOptions.apiKey)throw new sl({message:"API key must be set when using the Gemini API.",status:403});f.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:fC,f.baseUrl="https://generativelanguage.googleapis.com/"}f.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=f,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(f,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const r=[this.getRequestUrlInternal(o)];return a&&r.push(this.getBaseResourcePath()),t!==""&&r.push(t),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Cu.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[p,h]of Object.entries(t.queryParams))r.searchParams.append(p,String(h));let f={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else f.body=t.body;return f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.unaryApiCall(r,f,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[r,f]of Object.entries(o))typeof f=="object"?a[r]=Object.assign(Object.assign({},a[r]),f):f!==void 0&&(a[r]=f);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),r=this.constructUrl(t.path,o,a);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let f={};return f.body=t.body,f=await this.includeExtraHttpOptionsToRequestInit(f,o,r.toString(),t.abortSignal),this.streamApiCall(r,f,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,r){if(o&&o.timeout||r){const f=new AbortController,p=f.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>f.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}r&&r.addEventListener("abort",()=>{f.abort()}),t.signal=p}return o&&o.extraBody!==null&&pC(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await gh(r),new Au(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async r=>(await gh(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(t){return Jt(this,arguments,function*(){var a;const r=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),f=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let p="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:g,value:v}=yield oe(r.read());if(g){if(p.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=f.decode(v,{stream:!0});try{const I=JSON.parse(T);if("error"in I){const G=JSON.parse(JSON.stringify(I.error)),L=G.status,z=G.code,Y=`got status: ${L}. ${JSON.stringify(I)}`;if(z>=400&&z<600)throw new sl({message:Y,status:z})}}catch(I){if(I.name==="ApiError")throw I}p+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const L of y){const z=p.indexOf(L);z!==-1&&(E===-1||z<E)&&(E=z,C=L.length)}if(E===-1)break;const I=p.substring(0,E);p=p.substring(E+C);const G=I.trim();if(G.startsWith(h)){const L=G.substring(h.length).trim();try{const z=new Response(L,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield oe(new Au(z))}catch(z){throw new Error(`exception parsing stream chunk ${L}. ${z}`)}}}}}finally{r.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=uC+" "+this.clientOptions.userAgentExtra;return t[sC]=o,t[bu]=o,t[lC]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[r,f]of Object.entries(t.headers))a.append(r,f);t.timeout&&t.timeout>0&&a.append(aC,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const r={};o!=null&&(r.mimeType=o.mimeType,r.name=o.name,r.displayName=o.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const f=this.clientOptions.uploader,p=await f.stat(t);r.sizeBytes=String(p.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:p.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=h;const y={file:r},g=this.getFileName(t),v=X("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,g,y,o==null?void 0:o.httpOptions);return f.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,a){var r;const f=this.clientOptions.uploader,p=await f.stat(o),h=String(p.size),y=(r=a==null?void 0:a.mimeType)!==null&&r!==void 0?r:p.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const g=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&cg(a,T);const E=await this.fetchUploadUrl(g,h,y,v,T,a==null?void 0:a.httpOptions);return f.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,r,f,p){var h;let y={};p?y=p:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},r?{"X-Goog-Upload-File-Name":r}:{})};const g=await this.request({path:t,body:JSON.stringify(f),httpMethod:"POST",httpOptions:y});if(!g||!(g!=null&&g.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=g==null?void 0:g.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function gh(i){var t;if(i===void 0)throw new Error("response is undefined");if(!i.ok){const o=i.status;let a;!((t=i.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await i.json():a={error:{message:await i.text(),code:i.status,status:i.statusText}};const r=JSON.stringify(a);throw o>=400&&o<600?new sl({message:r,status:o}):new Error(r)}}function pC(i,t){if(!t||Object.keys(t).length===0)return;if(i.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof i.body=="string"&&i.body.length>0)try{const f=JSON.parse(i.body);if(typeof f=="object"&&f!==null&&!Array.isArray(f))o=f;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(f,p){const h=Object.assign({},f);for(const y in p)if(Object.prototype.hasOwnProperty.call(p,y)){const g=p[y],v=h[y];g&&typeof g=="object"&&!Array.isArray(g)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,g):(v&&g&&typeof v!=typeof g&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof g}. Overwriting.`),h[y]=g)}return h}const r=a(o,t);i.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const mC="mcp_used/unknown";let hC=!1;function fg(i){for(const t of i)if(gC(t)||typeof t=="object"&&"inputSchema"in t)return!0;return hC}function dg(i){var t;const o=(t=i[bu])!==null&&t!==void 0?t:"";i[bu]=(o+` ${mC}`).trimStart()}function gC(i){return i!==null&&typeof i=="object"&&i instanceof Ou}function yC(i){return Jt(this,arguments,function*(o,a=100){let r,f=0;for(;f<a;){const p=yield oe(o.listTools({cursor:r}));for(const h of p.tools)yield yield oe(h),f++;if(!p.nextCursor)break;r=p.nextCursor}})}class Ou{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Ou(t,o)}async initialize(){var t,o,a,r;if(this.mcpTools.length>0)return;const f={},p=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Yt(yC(v))),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const T=r;p.push(T);const E=T.name;if(f[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);f[E]=v}}catch(T){o={error:T}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=p,this.functionNameToMcpClient=f}async tool(){return await this.initialize(),Xv(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[a.name];let f;this.config.timeout&&(f={timeout:this.config.timeout});const p=await r.callTool({name:a.name,arguments:a.args},void 0,f);o.push({functionResponse:{name:a.name,response:p.isError?{error:p}:p}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function vC(i,t,o){const a=new Bv;let r;o.data instanceof Blob?r=JSON.parse(await o.data.text()):r=JSON.parse(o.data),Object.assign(a,r),t(a)}class SC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),f=this.apiClient.getApiVersion(),p=_C(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${f}.GenerativeService.BidiGenerateMusic?key=${h}`;let g=()=>{};const v=new Promise(O=>{g=O}),T=t.callbacks,E=function(){g({})},C=this.apiClient,I={onopen:E,onmessage:O=>{vC(C,T.onmessage,O)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(O){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(O){}},G=this.webSocketFactory.create(y,EC(p),I);G.connect(),await v;const Y={setup:{model:Se(this.apiClient,t.model)}};return G.send(JSON.stringify(Y)),new TC(G,this.apiClient)}}class TC{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=JT(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=FT(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(eo.PLAY)}pause(){this.sendPlaybackControl(eo.PAUSE)}stop(){this.sendPlaybackControl(eo.STOP)}resetContext(){this.sendPlaybackControl(eo.RESET_CONTEXT)}close(){this.conn.close()}}function EC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function _C(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const CC="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function AC(i,t,o){const a=new Vv;let r;o.data instanceof Blob?r=await o.data.text():o.data instanceof ArrayBuffer?r=new TextDecoder().decode(o.data):r=o.data;const f=JSON.parse(r);if(i.isVertexAI()){const p=XT(f);Object.assign(a,p)}else Object.assign(a,f);t(a)}class xC{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new SC(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,r,f,p,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),g=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&fg(t.config.tools)&&dg(T);const E=bC(T);if(this.apiClient.isVertexAI()){const Z=this.apiClient.getProject(),ce=this.apiClient.getLocation(),Te=this.apiClient.getApiKey(),Ue=!!Z&&!!ce||!!Te;this.apiClient.getCustomBaseUrl()&&!Ue?v=y:(v=`${y}/ws/google.cloud.aiplatform.${g}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Z=this.apiClient.getApiKey();let ce="BidiGenerateContent",Te="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),g!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ce="BidiGenerateContentConstrained",Te="access_token"),v=`${y}/ws/google.ai.generativelanguage.${g}.GenerativeService.${ce}?${Te}=${Z}`}let C=()=>{};const I=new Promise(Z=>{C=Z}),G=t.callbacks,L=function(){var Z;(Z=G==null?void 0:G.onopen)===null||Z===void 0||Z.call(G),C({})},z=this.apiClient,Y={onopen:L,onmessage:Z=>{AC(z,G.onmessage,Z)},onerror:(o=G==null?void 0:G.onerror)!==null&&o!==void 0?o:function(Z){},onclose:(a=G==null?void 0:G.onclose)!==null&&a!==void 0?a:function(Z){}},O=this.webSocketFactory.create(v,MC(E),Y);O.connect(),await I;let P=Se(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&P.startsWith("publishers/")){const Z=this.apiClient.getProject(),ce=this.apiClient.getLocation();Z&&ce&&(P=`projects/${Z}/locations/${ce}/`+P)}let Q={};this.apiClient.isVertexAI()&&((r=t.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[Ua.AUDIO]}:t.config.responseModalities=[Ua.AUDIO]),!((f=t.config)===null||f===void 0)&&f.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ee=(h=(p=t.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[],J=[];for(const Z of ee)if(this.isCallableTool(Z)){const ce=Z;J.push(await ce.tool())}else J.push(Z);J.length>0&&(t.config.tools=J);const ue={model:P,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?Q=OT(this.apiClient,ue):Q=PT(this.apiClient,ue),delete Q.config,O.send(JSON.stringify(Q)),new NC(O,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const RC={turnComplete:!0};class NC{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=Bt(o.turns),t.isVertexAI()||(a=a.map(r=>Ba(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const f of a){if(typeof f!="object"||f===null||!("name"in f)||!("response"in f))throw new Error(`Could not parse function response, type '${typeof f}'.`);if(!t.isVertexAI()&&!("id"in f))throw new Error(CC)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},RC),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:KT(t)}:o={realtimeInput:YT(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function MC(i){const t={};return i.forEach((o,a)=>{t[a]=o}),t}function bC(i){const t=new Headers;for(const[o,a]of Object.entries(i))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const yh=10;function vh(i){var t,o,a;if(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let r=!1;for(const p of(o=i==null?void 0:i.tools)!==null&&o!==void 0?o:[])if(io(p)){r=!0;break}if(!r)return!0;const f=(a=i==null?void 0:i.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return f&&(f<0||!Number.isInteger(f))||f==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",f),!0):!1}function io(i){return"callTool"in i&&typeof i.callTool=="function"}function wC(i){var t,o,a;return(a=(o=(t=i.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(r=>io(r)))!==null&&a!==void 0?a:!1}function Sh(i){var t;const o=[];return!((t=i==null?void 0:i.config)===null||t===void 0)&&t.tools&&i.config.tools.forEach((a,r)=>{if(io(a))return;const f=a;f.functionDeclarations&&f.functionDeclarations.length>0&&o.push(r)}),o}function Th(i){var t;return!(!((t=i==null?void 0:i.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class IC extends Sn{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,r,f,p,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!wC(o)||vh(o.config))return await this.generateContentInternal(y);const g=Sh(o);if(g.length>0){const G=g.map(L=>`tools[${L}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${G}.`)}let v,T;const E=Bt(y.contents),C=(f=(r=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&f!==void 0?f:yh;let I=0;for(;I<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const G=v.candidates[0].content,L=[];for(const z of(h=(p=o.config)===null||p===void 0?void 0:p.tools)!==null&&h!==void 0?h:[])if(io(z)){const O=await z.callTool(v.functionCalls);L.push(...O)}I++,T={role:"user",parts:L},y.contents=Bt(y.contents),y.contents.push(G),y.contents.push(T),Th(y.config)&&(E.push(G),E.push(T))}return Th(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,r,f,p,h;if(this.maybeMoveToResponseJsonSchem(o),vh(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=Sh(o);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const g=(f=(r=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||f===void 0?void 0:f.streamFunctionCallArguments,v=(h=(p=o==null?void 0:o.config)===null||p===void 0?void 0:p.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(g&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var r;let f;const p=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?f=y==null?void 0:y.safetyAttributes:p.push(y);let h;return f?h={generatedImages:p,positivePromptSafetyAttributes:f,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:p,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const p={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!p.config.queryBase){if(!((a=p.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");p.config.filter="labels.tune-type:*"}return new mi(vn.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(p),p)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const r={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(r)},this.generateVideos=async o=>{var a,r,f,p,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((r=o.video)===null||r===void 0)&&r.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((p=(f=o.source)===null||f===void 0?void 0:f.video)===null||p===void 0)&&p.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,r;const f=(o=t.config)===null||o===void 0?void 0:o.tools;if(!f)return t;const p=await Promise.all(f.map(async y=>io(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:p})};if(h.config.tools=p,t.config&&t.config.tools&&fg(t.config.tools)){const y=(r=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&r!==void 0?r:{};let g=Object.assign({},y);Object.keys(g).length===0&&(g=this.apiClient.getDefaultHeaders()),dg(g),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:g})}return h}async initAfcToolsMap(t){var o,a,r;const f=new Map;for(const p of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(io(p)){const h=p,y=await h.tool();for(const g of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!g.name)throw new Error("Function declaration name is required.");if(f.has(g.name))throw new Error(`Duplicate tool declaration name: ${g.name}`);f.set(g.name,h)}}return f}async processAfcStream(t){var o,a,r;const f=(r=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&r!==void 0?r:yh;let p=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(g,v,T){return Jt(this,arguments,function*(){for(var E,C,I,G,L,z;h<f;){p&&(h++,p=!1);const Q=yield oe(g.processParamsMaybeAddMcpUsage(T)),ee=yield oe(g.generateContentStreamInternal(Q)),J=[],ue=[];try{for(var Y=!0,O=(C=void 0,Yt(ee)),P;P=yield oe(O.next()),E=P.done,!E;Y=!0){G=P.value,Y=!1;const Z=G;if(yield yield oe(Z),Z.candidates&&(!((L=Z.candidates[0])===null||L===void 0)&&L.content)){ue.push(Z.candidates[0].content);for(const ce of(z=Z.candidates[0].content.parts)!==null&&z!==void 0?z:[])if(h<f&&ce.functionCall){if(!ce.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ce.functionCall.name)){const Te=yield oe(v.get(ce.functionCall.name).callTool([ce.functionCall]));J.push(...Te)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ce.functionCall.name}`)}}}}catch(Z){C={error:Z}}finally{try{!Y&&!E&&(I=O.return)&&(yield oe(I.call(O)))}finally{if(C)throw C.error}}if(J.length>0){p=!0;const Z=new nl;Z.candidates=[{content:{role:"user",parts:J}}],yield yield oe(Z);const ce=[];ce.push(...ue),ce.push({role:"user",parts:J});const Te=Bt(T.contents).concat(ce);T.contents=Te}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=ph(this.apiClient,t);return h=X("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=hh(v),E=new nl;return Object.assign(E,T),E})}else{const g=dh(this.apiClient,t);return h=X("{model}:generateContent",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=mh(v),E=new nl;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=ph(this.apiClient,t);return h=X("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),p.then(function(T){return Jt(this,arguments,function*(){var E,C,I,G;try{for(var L=!0,z=Yt(T),Y;Y=yield oe(z.next()),E=Y.done,!E;L=!0){G=Y.value,L=!1;const O=G,P=hh(yield oe(O.json()));P.sdkHttpResponse={headers:O.headers};const Q=new nl;Object.assign(Q,P),yield yield oe(Q)}}catch(O){C={error:O}}finally{try{!L&&!E&&(I=z.return)&&(yield oe(I.call(z)))}finally{if(C)throw C.error}}})})}else{const g=dh(this.apiClient,t);return h=X("{model}:streamGenerateContent?alt=sse",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}),p.then(function(T){return Jt(this,arguments,function*(){var E,C,I,G;try{for(var L=!0,z=Yt(T),Y;Y=yield oe(z.next()),E=Y.done,!E;L=!0){G=Y.value,L=!1;const O=G,P=mh(yield oe(O.json()));P.sdkHttpResponse={headers:O.headers};const Q=new nl;Object.assign(Q,P),yield yield oe(Q)}}catch(O){C={error:O}}finally{try{!L&&!E&&(I=z.return)&&(yield oe(I.call(z)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=xE(this.apiClient,t);return h=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=NE(v),E=new Qm;return Object.assign(E,T),E})}else{const g=AE(this.apiClient,t);return h=X("{model}:batchEmbedContents",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=RE(v),E=new Qm;return Object.assign(E,T),E})}}async generateImagesInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=qE(this.apiClient,t);return h=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=BE(v),E=new Zm;return Object.assign(E,T),E})}else{const g=kE(this.apiClient,t);return h=X("{model}:predict",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=VE(v),E=new Zm;return Object.assign(E,T),E})}}async editImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=TE(this.apiClient,t);return f=X("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=EE(y),v=new Mv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=q_(this.apiClient,t);return f=X("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=V_(y),v=new bv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=S_(this.apiClient,t);return f=X("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=T_(y),v=new wv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=R_(this.apiClient,t);return f=X("{model}:predict",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=N_(y),v=new Iv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=i_(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const g=n_(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=d_(this.apiClient,t);return h=X("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=m_(v),E=new $m;return Object.assign(E,T),E})}else{const g=f_(this.apiClient,t);return h=X("{models_url}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=p_(v),E=new $m;return Object.assign(E,T),E})}}async update(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=H_(this.apiClient,t);return h=X("{model}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>Mu(v))}else{const g=G_(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"PATCH",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>Nu(v))}}async delete(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=gE(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=vE(v),E=new Wm;return Object.assign(E,T),E})}else{const g=hE(this.apiClient,t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"DELETE",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=yE(v),E=new Wm;return Object.assign(E,T),E})}}async countTokens(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=dE(this.apiClient,t);return h=X("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=mE(v),E=new jm;return Object.assign(E,T),E})}else{const g=fE(this.apiClient,t);return h=X("{model}:countTokens",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=pE(v),E=new jm;return Object.assign(E,T),E})}}async computeTokens(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=oE(this.apiClient,t);return f=X("{model}:computeTokens",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const g=lE(y),v=new Dv;return Object.assign(v,g),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=YE(this.apiClient,t);return h=X("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p.then(v=>{const T=FE(v),E=new La;return Object.assign(E,T),E})}else{const g=JE(this.apiClient,t);return h=X("{model}:predictLongRunning",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p.then(v=>{const T=OE(v),E=new La;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class DC extends Sn{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=o.name.split("/operations/")[0];let f;a&&"httpOptions"in a&&(f=a.httpOptions);const p=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:r,config:{httpOptions:f}});return o._fromAPIResponse({apiResponse:p,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=_v(t);return h=X("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),p}else{const g=Ev(t);return h=X("{operationName}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json()),p}}async fetchPredictVideosOperationInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=mv(t);return f=X("{resourceName}:fetchPredictOperation",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function UC(i){const t={},o=u(i,["data"]);if(o!=null&&c(t,["data"],o),u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function LC(i){const t={},o=u(i,["parts"]);if(o!=null){let r=o;Array.isArray(r)&&(r=r.map(f=>OC(f))),c(t,["parts"],r)}const a=u(i,["role"]);return a!=null&&c(t,["role"],a),t}function GC(i,t,o){const a={},r=u(t,["expireTime"]);o!==void 0&&r!=null&&c(o,["expireTime"],r);const f=u(t,["newSessionExpireTime"]);o!==void 0&&f!=null&&c(o,["newSessionExpireTime"],f);const p=u(t,["uses"]);o!==void 0&&p!=null&&c(o,["uses"],p);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&c(o,["bidiGenerateContentSetup"],PC(i,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&c(o,["fieldMask"],y),a}function HC(i,t){const o={},a=u(t,["config"]);return a!=null&&c(o,["config"],GC(i,a,o)),o}function kC(i){const t={};if(u(i,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(i,["fileUri"]);o!=null&&c(t,["fileUri"],o);const a=u(i,["mimeType"]);return a!=null&&c(t,["mimeType"],a),t}function qC(i){const t={},o=u(i,["id"]);o!=null&&c(t,["id"],o);const a=u(i,["args"]);a!=null&&c(t,["args"],a);const r=u(i,["name"]);if(r!=null&&c(t,["name"],r),u(i,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(i,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function VC(i){const t={};if(u(i,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(i,["enableWidget"]);return o!=null&&c(t,["enableWidget"],o),t}function BC(i){const t={};if(u(i,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(i,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(i,["timeRangeFilter"]);return o!=null&&c(t,["timeRangeFilter"],o),t}function zC(i,t){const o={},a=u(i,["generationConfig"]);t!==void 0&&a!=null&&c(t,["setup","generationConfig"],a);const r=u(i,["responseModalities"]);t!==void 0&&r!=null&&c(t,["setup","generationConfig","responseModalities"],r);const f=u(i,["temperature"]);t!==void 0&&f!=null&&c(t,["setup","generationConfig","temperature"],f);const p=u(i,["topP"]);t!==void 0&&p!=null&&c(t,["setup","generationConfig","topP"],p);const h=u(i,["topK"]);t!==void 0&&h!=null&&c(t,["setup","generationConfig","topK"],h);const y=u(i,["maxOutputTokens"]);t!==void 0&&y!=null&&c(t,["setup","generationConfig","maxOutputTokens"],y);const g=u(i,["mediaResolution"]);t!==void 0&&g!=null&&c(t,["setup","generationConfig","mediaResolution"],g);const v=u(i,["seed"]);t!==void 0&&v!=null&&c(t,["setup","generationConfig","seed"],v);const T=u(i,["speechConfig"]);t!==void 0&&T!=null&&c(t,["setup","generationConfig","speechConfig"],Pu(T));const E=u(i,["thinkingConfig"]);t!==void 0&&E!=null&&c(t,["setup","generationConfig","thinkingConfig"],E);const C=u(i,["enableAffectiveDialog"]);t!==void 0&&C!=null&&c(t,["setup","generationConfig","enableAffectiveDialog"],C);const I=u(i,["systemInstruction"]);t!==void 0&&I!=null&&c(t,["setup","systemInstruction"],LC(at(I)));const G=u(i,["tools"]);if(t!==void 0&&G!=null){let ee=lo(G);Array.isArray(ee)&&(ee=ee.map(J=>JC(oo(J)))),c(t,["setup","tools"],ee)}const L=u(i,["sessionResumption"]);t!==void 0&&L!=null&&c(t,["setup","sessionResumption"],FC(L));const z=u(i,["inputAudioTranscription"]);t!==void 0&&z!=null&&c(t,["setup","inputAudioTranscription"],z);const Y=u(i,["outputAudioTranscription"]);t!==void 0&&Y!=null&&c(t,["setup","outputAudioTranscription"],Y);const O=u(i,["realtimeInputConfig"]);t!==void 0&&O!=null&&c(t,["setup","realtimeInputConfig"],O);const P=u(i,["contextWindowCompression"]);t!==void 0&&P!=null&&c(t,["setup","contextWindowCompression"],P);const Q=u(i,["proactivity"]);if(t!==void 0&&Q!=null&&c(t,["setup","proactivity"],Q),u(i,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function PC(i,t){const o={},a=u(t,["model"]);a!=null&&c(o,["setup","model"],Se(i,a));const r=u(t,["config"]);return r!=null&&c(o,["config"],zC(r,o)),o}function OC(i){const t={},o=u(i,["mediaResolution"]);o!=null&&c(t,["mediaResolution"],o);const a=u(i,["codeExecutionResult"]);a!=null&&c(t,["codeExecutionResult"],a);const r=u(i,["executableCode"]);r!=null&&c(t,["executableCode"],r);const f=u(i,["fileData"]);f!=null&&c(t,["fileData"],kC(f));const p=u(i,["functionCall"]);p!=null&&c(t,["functionCall"],qC(p));const h=u(i,["functionResponse"]);h!=null&&c(t,["functionResponse"],h);const y=u(i,["inlineData"]);y!=null&&c(t,["inlineData"],UC(y));const g=u(i,["text"]);g!=null&&c(t,["text"],g);const v=u(i,["thought"]);v!=null&&c(t,["thought"],v);const T=u(i,["thoughtSignature"]);T!=null&&c(t,["thoughtSignature"],T);const E=u(i,["videoMetadata"]);return E!=null&&c(t,["videoMetadata"],E),t}function FC(i){const t={},o=u(i,["handle"]);if(o!=null&&c(t,["handle"],o),u(i,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function JC(i){const t={};if(u(i,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(i,["computerUse"]);o!=null&&c(t,["computerUse"],o);const a=u(i,["fileSearch"]);a!=null&&c(t,["fileSearch"],a);const r=u(i,["codeExecution"]);if(r!=null&&c(t,["codeExecution"],r),u(i,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const f=u(i,["functionDeclarations"]);if(f!=null){let v=f;Array.isArray(v)&&(v=v.map(T=>T)),c(t,["functionDeclarations"],v)}const p=u(i,["googleMaps"]);p!=null&&c(t,["googleMaps"],VC(p));const h=u(i,["googleSearch"]);h!=null&&c(t,["googleSearch"],BC(h));const y=u(i,["googleSearchRetrieval"]);y!=null&&c(t,["googleSearchRetrieval"],y);const g=u(i,["urlContext"]);return g!=null&&c(t,["urlContext"],g),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function YC(i){const t=[];for(const o in i)if(Object.prototype.hasOwnProperty.call(i,o)){const a=i[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const r=Object.keys(a).map(f=>`${o}.${f}`);t.push(...r)}else t.push(o)}return t.join(",")}function KC(i,t){let o=null;const a=i.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const f=a.setup;typeof f=="object"&&f!==null?(i.bidiGenerateContentSetup=f,o=f):delete i.bidiGenerateContentSetup}else a!==void 0&&delete i.bidiGenerateContentSetup;const r=i.fieldMask;if(o){const f=YC(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)f?i.fieldMask=f:delete i.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const p=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];r.length>0&&(h=r.map(g=>p.includes(g)?`generationConfig.${g}`:g));const y=[];f&&y.push(f),h.length>0&&y.push(...h),y.length>0?i.fieldMask=y.join(","):delete i.fieldMask}else delete i.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?i.fieldMask=r.join(","):delete i.fieldMask;return i}class XC extends Sn{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=HC(this.apiClient,t);f=X("auth_tokens",h._url),p=h._query,delete h.config,delete h._url,delete h._query;const y=KC(h,t.config);return r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(g=>g.json()),r.then(g=>g)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function QC(i,t){const o={},a=u(i,["force"]);return t!==void 0&&a!=null&&c(t,["_query","force"],a),o}function ZC(i){const t={},o=u(i,["name"]);o!=null&&c(t,["_url","name"],o);const a=u(i,["config"]);return a!=null&&QC(a,t),t}function $C(i){const t={},o=u(i,["name"]);return o!=null&&c(t,["_url","name"],o),t}function WC(i,t){const o={},a=u(i,["pageSize"]);t!==void 0&&a!=null&&c(t,["_query","pageSize"],a);const r=u(i,["pageToken"]);return t!==void 0&&r!=null&&c(t,["_query","pageToken"],r),o}function jC(i){const t={},o=u(i,["parent"]);o!=null&&c(t,["_url","parent"],o);const a=u(i,["config"]);return a!=null&&WC(a,t),t}function eA(i){const t={},o=u(i,["sdkHttpResponse"]);o!=null&&c(t,["sdkHttpResponse"],o);const a=u(i,["nextPageToken"]);a!=null&&c(t,["nextPageToken"],a);const r=u(i,["documents"]);if(r!=null){let f=r;Array.isArray(f)&&(f=f.map(p=>p)),c(t,["documents"],f)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tA extends Sn{constructor(t){super(),this.apiClient=t,this.list=async o=>new mi(vn.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=$C(t);return f=X("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=ZC(t);r=X("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=jC(t);return f=X("{parent}/documents",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=eA(y),v=new Uv;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nA extends Sn{constructor(t,o=new tA(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new mi(vn.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Y_(t);return f=X("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Q_(t);return f=X("{name}",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(t){var o,a;let r="",f={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=X_(t);r=X("{name}",p._url),f=p._query,delete p._url,delete p._query,await this.apiClient.request({path:r,queryParams:f,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=tC(t);return f=X("fileSearchStores",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=nC(y),v=new Lv;return Object.assign(v,g),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=iC(t);return f=X("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=oC(y),v=new Gv;return Object.assign(v,g),v})}}async importFile(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=W_(t);return f=X("{file_search_store_name}:importFile",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),r.then(y=>{const g=$_(y),v=new ku;return Object.assign(v,g),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let pg=function(){const{crypto:i}=globalThis;if(i!=null&&i.randomUUID)return pg=i.randomUUID.bind(i),i.randomUUID();const t=new Uint8Array(1),o=i?()=>i.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const iA=()=>pg();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wu(i){return typeof i=="object"&&i!==null&&("name"in i&&i.name==="AbortError"||"message"in i&&String(i.message).includes("FetchRequestCanceledException"))}const Iu=i=>{if(i instanceof Error)return i;if(typeof i=="object"&&i!==null){try{if(Object.prototype.toString.call(i)==="[object Error]"){const t=new Error(i.message,i.cause?{cause:i.cause}:{});return i.stack&&(t.stack=i.stack),i.cause&&!t.cause&&(t.cause=i.cause),i.name&&(t.name=i.name),t}}catch{}try{return new Error(JSON.stringify(i))}catch{}}return new Error(i)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class zt extends Error{}class ct extends zt{constructor(t,o,a,r){super(`${ct.makeMessage(t,o,a)}`),this.status=t,this.headers=r,this.error=o}static makeMessage(t,o,a){const r=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&r?`${t} ${r}`:t?`${t} status code (no body)`:r||"(no status code or body)"}static generate(t,o,a,r){if(!t||!r)return new Oa({message:a,cause:Iu(o)});const f=o;return t===400?new hg(t,f,a,r):t===401?new gg(t,f,a,r):t===403?new yg(t,f,a,r):t===404?new vg(t,f,a,r):t===409?new Sg(t,f,a,r):t===422?new Tg(t,f,a,r):t===429?new Eg(t,f,a,r):t>=500?new _g(t,f,a,r):new ct(t,f,a,r)}}class Du extends ct{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class Oa extends ct{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class mg extends Oa{constructor({message:t}={}){super({message:t??"Request timed out."})}}class hg extends ct{}class gg extends ct{}class yg extends ct{}class vg extends ct{}class Sg extends ct{}class Tg extends ct{}class Eg extends ct{}class _g extends ct{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const oA=/^[a-z][a-z0-9+.-]*:/i,lA=i=>oA.test(i);let Uu=i=>(Uu=Array.isArray,Uu(i));const aA=Uu;let sA=aA;const Eh=sA;function rA(i){if(!i)return!0;for(const t in i)return!1;return!0}function uA(i,t){return Object.prototype.hasOwnProperty.call(i,t)}const cA=(i,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new zt(`${i} must be an integer`);if(t<0)throw new zt(`${i} must be a positive integer`);return t},fA=i=>{try{return JSON.parse(i)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dA=i=>new Promise(t=>setTimeout(t,i));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ji="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pA(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const mA=()=>{var i,t,o,a,r;const f=pA();if(f==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":Ch(Deno.build.os),"X-Stainless-Arch":_h(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(i=Deno.version)===null||i===void 0?void 0:i.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(f==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":Ch((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":_h((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(r=globalThis.process.version)!==null&&r!==void 0?r:"unknown"};const p=hA();return p?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${p.browser}`,"X-Stainless-Runtime-Version":p.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":ji,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function hA(){if(typeof navigator>"u"||!navigator)return null;const i=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of i){const a=o.exec(navigator.userAgent);if(a){const r=a[1]||0,f=a[2]||0,p=a[3]||0;return{browser:t,version:`${r}.${f}.${p}`}}}return null}const _h=i=>i==="x32"?"x32":i==="x86_64"||i==="x64"?"x64":i==="arm"?"arm":i==="aarch64"||i==="arm64"?"arm64":i?`other:${i}`:"unknown",Ch=i=>(i=i.toLowerCase(),i.includes("ios")?"iOS":i==="android"?"Android":i==="darwin"?"MacOS":i==="win32"?"Windows":i==="freebsd"?"FreeBSD":i==="openbsd"?"OpenBSD":i==="linux"?"Linux":i?`Other:${i}`:"Unknown");let Ra;const gA=()=>Ra??(Ra=mA());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yA(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cg(...i){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...i)}function vA(i){let t=Symbol.asyncIterator in i?i[Symbol.asyncIterator]():i[Symbol.iterator]();return Cg({start(){},async pull(o){const{done:a,value:r}=await t.next();a?o.close():o.enqueue(r)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Ag(i){if(i[Symbol.asyncIterator])return i;const t=i.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function SA(i){var t,o;if(i===null||typeof i!="object")return;if(i[Symbol.asyncIterator]){await((o=(t=i[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=i.getReader(),r=a.cancel();a.releaseLock(),await r}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const TA=({headers:i,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xg=()=>{var i;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((i=t==null?void 0:t.versions)===null||i===void 0?void 0:i.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function fu(i,t,o){return xg(),new File(i,t??"unknown_file",o)}function EA(i){return(typeof i=="object"&&i!==null&&("name"in i&&i.name&&String(i.name)||"url"in i&&i.url&&String(i.url)||"filename"in i&&i.filename&&String(i.filename)||"path"in i&&i.path&&String(i.path))||"").split(/[\\/]/).pop()||void 0}const _A=i=>i!=null&&typeof i=="object"&&typeof i[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Rg=i=>i!=null&&typeof i=="object"&&typeof i.size=="number"&&typeof i.type=="string"&&typeof i.text=="function"&&typeof i.slice=="function"&&typeof i.arrayBuffer=="function",CA=i=>i!=null&&typeof i=="object"&&typeof i.name=="string"&&typeof i.lastModified=="number"&&Rg(i),AA=i=>i!=null&&typeof i=="object"&&typeof i.url=="string"&&typeof i.blob=="function";async function xA(i,t,o){if(xg(),i=await i,CA(i))return i instanceof File?i:fu([await i.arrayBuffer()],i.name);if(AA(i)){const r=await i.blob();return t||(t=new URL(i.url).pathname.split(/[\\/]/).pop()),fu(await Lu(r),t,o)}const a=await Lu(i);if(t||(t=EA(i)),!(o!=null&&o.type)){const r=a.find(f=>typeof f=="object"&&"type"in f&&f.type);typeof r=="string"&&(o=Object.assign(Object.assign({},o),{type:r}))}return fu(a,t,o)}async function Lu(i){var t,o,a,r,f;let p=[];if(typeof i=="string"||ArrayBuffer.isView(i)||i instanceof ArrayBuffer)p.push(i);else if(Rg(i))p.push(i instanceof Blob?i:await i.arrayBuffer());else if(_A(i))try{for(var h=!0,y=Yt(i),g;g=await y.next(),t=g.done,!t;h=!0){r=g.value,h=!1;const v=r;p.push(...await Lu(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(f=i==null?void 0:i.constructor)===null||f===void 0?void 0:f.name;throw new Error(`Unexpected data type: ${typeof i}${v?`; constructor: ${v}`:""}${RA(i)}`)}return p}function RA(i){return typeof i!="object"||i===null?"":`; props: [${Object.getOwnPropertyNames(i).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ng{constructor(t){this._client=t}}Ng._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Mg(i){return i.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const Ah=Object.freeze(Object.create(null)),NA=(i=Mg)=>(function(o,...a){if(o.length===1)return o[0];let r=!1;const f=[],p=o.reduce((v,T,E)=>{var C,I,G;/[?#]/.test(T)&&(r=!0);const L=a[E];let z=(r?encodeURIComponent:i)(""+L);return E!==a.length&&(L==null||typeof L=="object"&&L.toString===((G=Object.getPrototypeOf((I=Object.getPrototypeOf((C=L.hasOwnProperty)!==null&&C!==void 0?C:Ah))!==null&&I!==void 0?I:Ah))===null||G===void 0?void 0:G.toString))&&(z=L+"",f.push({start:v.length+T.length,length:z.length,error:`Value of type ${Object.prototype.toString.call(L).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":z)},""),h=p.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let g;for(;(g=y.exec(h))!==null;)f.push({start:g.index,length:g[0].length,error:`Value "${g[0]}" can't be safely passed as a path parameter`});if(f.sort((v,T)=>v.start-T.start),f.length>0){let v=0;const T=f.reduce((E,C)=>{const I=" ".repeat(C.start-v),G="^".repeat(C.length);return v=C.start+C.length,E+I+G},"");throw new zt(`Path parameters result in path with invalid segments:
${f.map(E=>E.error).join(`
`)}
${p}
${T}`)}return p}),Na=NA(Mg);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bg extends Ng{create(t,o){var a;const{api_version:r=this._client.apiVersion}=t,f=Ha(t,["api_version"]);if("model"in f&&"agent_config"in f)throw new zt("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in f&&"generation_config"in f)throw new zt("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Na`/${r}/interactions`,Object.assign(Object.assign({body:f},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.delete(Na`/${r}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:r=this._client.apiVersion}=o??{};return this._client.post(Na`/${r}/interactions/${t}/cancel`,a)}get(t,o={},a){var r;const f=o??{},{api_version:p=this._client.apiVersion}=f,h=Ha(f,["api_version"]);return this._client.get(Na`/${p}/interactions/${t}`,Object.assign(Object.assign({query:h},a),{stream:(r=o==null?void 0:o.stream)!==null&&r!==void 0?r:!1}))}}bg._key=Object.freeze(["interactions"]);class wg extends bg{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MA(i){let t=0;for(const r of i)t+=r.length;const o=new Uint8Array(t);let a=0;for(const r of i)o.set(r,a),a+=r.length;return o}let Ma;function Fu(i){let t;return(Ma??(t=new globalThis.TextEncoder,Ma=t.encode.bind(t)))(i)}let ba;function xh(i){let t;return(ba??(t=new globalThis.TextDecoder,ba=t.decode.bind(t)))(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Fa{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Fu(t):t;this.buffer=MA([this.buffer,o]);const a=[];let r;for(;(r=bA(this.buffer,this.carriageReturnIndex))!=null;){if(r.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=r.index;continue}if(this.carriageReturnIndex!=null&&(r.index!==this.carriageReturnIndex+1||r.carriage)){a.push(xh(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const f=this.carriageReturnIndex!==null?r.preceding-1:r.preceding,p=xh(this.buffer.subarray(0,f));a.push(p),this.buffer=this.buffer.subarray(r.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}Fa.NEWLINE_CHARS=new Set([`
`,"\r"]);Fa.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function bA(i,t){for(let r=t??0;r<i.length;r++){if(i[r]===10)return{preceding:r,index:r+1,carriage:!1};if(i[r]===13)return{preceding:r,index:r+1,carriage:!0}}return null}function wA(i){for(let a=0;a<i.length-1;a++){if(i[a]===10&&i[a+1]===10||i[a]===13&&i[a+1]===13)return a+2;if(i[a]===13&&i[a+1]===10&&a+3<i.length&&i[a+2]===13&&i[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ka={off:0,error:200,warn:300,info:400,debug:500},Rh=(i,t,o)=>{if(i){if(uA(ka,i))return i;ut(o).warn(`${t} was set to ${JSON.stringify(i)}, expected one of ${JSON.stringify(Object.keys(ka))}`)}};function al(){}function wa(i,t,o){return!t||ka[i]>ka[o]?al:t[i].bind(t)}const IA={error:al,warn:al,info:al,debug:al};let Nh=new WeakMap;function ut(i){var t;const o=i.logger,a=(t=i.logLevel)!==null&&t!==void 0?t:"off";if(!o)return IA;const r=Nh.get(o);if(r&&r[0]===a)return r[1];const f={error:wa("error",o,a),warn:wa("warn",o,a),info:wa("info",o,a),debug:wa("debug",o,a)};return Nh.set(o,[a,f]),f}const di=i=>(i.options&&(i.options=Object.assign({},i.options),delete i.options.headers),i.headers&&(i.headers=Object.fromEntries((i.headers instanceof Headers?[...i.headers]:Object.entries(i.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in i&&(i.retryOfRequestLogID&&(i.retryOf=i.retryOfRequestLogID),delete i.retryOfRequestLogID),i);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class to{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let r=!1;const f=a?ut(a):console;function p(){return Jt(this,arguments,function*(){var y,g,v,T;if(r)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,I=Yt(DA(t,o)),G;G=yield oe(I.next()),y=G.done,!y;C=!0){T=G.value,C=!1;const L=T;if(!E)if(L.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield oe(JSON.parse(L.data))}catch(z){throw f.error("Could not parse message into JSON:",L.data),f.error("From chunk:",L.raw),z}}}catch(L){g={error:L}}finally{try{!C&&!y&&(v=I.return)&&(yield oe(v.call(I)))}finally{if(g)throw g.error}}E=!0}catch(L){if(wu(L))return yield oe(void 0);throw L}finally{E||o.abort()}})}return new to(p,o,a)}static fromReadableStream(t,o,a){let r=!1;function f(){return Jt(this,arguments,function*(){var y,g,v,T;const E=new Fa,C=Ag(t);try{for(var I=!0,G=Yt(C),L;L=yield oe(G.next()),y=L.done,!y;I=!0){T=L.value,I=!1;const z=T;for(const Y of E.decode(z))yield yield oe(Y)}}catch(z){g={error:z}}finally{try{!I&&!y&&(v=G.return)&&(yield oe(v.call(G)))}finally{if(g)throw g.error}}for(const z of E.flush())yield yield oe(z)})}function p(){return Jt(this,arguments,function*(){var y,g,v,T;if(r)throw new zt("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");r=!0;let E=!1;try{try{for(var C=!0,I=Yt(f()),G;G=yield oe(I.next()),y=G.done,!y;C=!0){T=G.value,C=!1;const L=T;E||L&&(yield yield oe(JSON.parse(L)))}}catch(L){g={error:L}}finally{try{!C&&!y&&(v=I.return)&&(yield oe(v.call(I)))}finally{if(g)throw g.error}}E=!0}catch(L){if(wu(L))return yield oe(void 0);throw L}finally{E||o.abort()}})}return new to(p,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),r=f=>({next:()=>{if(f.length===0){const p=a.next();t.push(p),o.push(p)}return f.shift()}});return[new to(()=>r(t),this.controller,this.client),new to(()=>r(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Cg({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:r,done:f}=await o.next();if(f)return a.close();const p=Fu(JSON.stringify(r)+`
`);a.enqueue(p)}catch(r){a.error(r)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function DA(i,t){return Jt(this,arguments,function*(){var a,r,f,p;if(!i.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new zt("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new zt("Attempted to iterate over a response with no body");const h=new LA,y=new Fa,g=Ag(i.body);try{for(var v=!0,T=Yt(UA(g)),E;E=yield oe(T.next()),a=E.done,!a;v=!0){p=E.value,v=!1;const C=p;for(const I of y.decode(C)){const G=h.decode(I);G&&(yield yield oe(G))}}}catch(C){r={error:C}}finally{try{!v&&!a&&(f=T.return)&&(yield oe(f.call(T)))}finally{if(r)throw r.error}}for(const C of y.flush()){const I=h.decode(C);I&&(yield yield oe(I))}})}function UA(i){return Jt(this,arguments,function*(){var o,a,r,f;let p=new Uint8Array;try{for(var h=!0,y=Yt(i),g;g=yield oe(y.next()),o=g.done,!o;h=!0){f=g.value,h=!1;const v=f;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Fu(v):v;let E=new Uint8Array(p.length+T.length);E.set(p),E.set(T,p.length),p=E;let C;for(;(C=wA(p))!==-1;)yield yield oe(p.slice(0,C)),p=p.slice(C)}}catch(v){a={error:v}}finally{try{!h&&!o&&(r=y.return)&&(yield oe(r.call(y)))}finally{if(a)throw a.error}}p.length>0&&(yield yield oe(p))})}class LA{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const f={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],f}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,r]=GA(t,":");return r.startsWith(" ")&&(r=r.substring(1)),o==="event"?this.event=r:o==="data"&&this.data.push(r),null}}function GA(i,t){const o=i.indexOf(t);return o!==-1?[i.substring(0,o),t,i.substring(o+t.length)]:[i,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function HA(i,t){const{response:o,requestLogID:a,retryOfRequestLogID:r,startTime:f}=t,p=await(async()=>{var h;if(t.options.stream)return ut(i).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,i):to.fromSSEResponse(o,t.controller,i);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),g=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(g==null?void 0:g.includes("application/json"))||(g==null?void 0:g.endsWith("+json"))?await o.json():await o.text()})();return ut(i).debug(`[${a}] response parsed`,di({retryOfRequestLogID:r,url:o.url,status:o.status,body:p,durationMs:Date.now()-f})),p}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ju extends Promise{constructor(t,o,a=HA){super(r=>{r(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ju(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ig=Symbol("brand.privateNullableHeaders");function*kA(i){if(!i)return;if(Ig in i){const{values:a,nulls:r}=i;yield*a.entries();for(const f of r)yield[f,null];return}let t=!1,o;i instanceof Headers?o=i.entries():Eh(i)?o=i:(t=!0,o=Object.entries(i??{}));for(let a of o){const r=a[0];if(typeof r!="string")throw new TypeError("expected header name to be a string");const f=Eh(a[1])?a[1]:[a[1]];let p=!1;for(const h of f)h!==void 0&&(t&&!p&&(p=!0,yield[r,null]),yield[r,h])}}const il=i=>{const t=new Headers,o=new Set;for(const a of i){const r=new Set;for(const[f,p]of kA(a)){const h=f.toLowerCase();r.has(h)||(t.delete(f),r.add(h)),p===null?(t.delete(f),o.add(h)):(t.append(f,p),o.delete(h))}}return{[Ig]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const du=i=>{var t,o,a,r,f,p;if(typeof globalThis.process<"u")return(a=(o=(t=rv)===null||t===void 0?void 0:t[i])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(p=(f=(r=globalThis.Deno.env)===null||r===void 0?void 0:r.get)===null||f===void 0?void 0:f.call(r,i))===null||p===void 0?void 0:p.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Dg;class Ja{constructor(t){var o,a,r,f,p,h,y,{baseURL:g=du("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=du("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=t,E=Ha(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:g||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:Ja.DEFAULT_TIMEOUT,this.logger=(r=C.logger)!==null&&r!==void 0?r:console;const I="warn";this.logLevel=I,this.logLevel=(p=(f=Rh(C.logLevel,"ClientOptions.logLevel",this))!==null&&f!==void 0?f:Rh(du("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&p!==void 0?p:I,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:yA(),this.encoder=TA,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=il([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return il([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return il([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new zt(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${ji}`}defaultIdempotencyKey(){return`stainless-node-retry-${iA()}`}makeStatusError(t,o,a,r){return ct.generate(t,o,a,r)}buildURL(t,o,a){const r=!this.baseURLOverridden()&&a||this.baseURL,f=lA(t)?new URL(t):new URL(r+(r.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),p=this.defaultQuery();return rA(p)||(o=Object.assign(Object.assign({},p),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(f.search=this.stringifyQuery(o)),f.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(r=>Object.assign({method:t,path:o},r)))}request(t,o=null){return new Ju(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var r,f,p;const h=await t,y=(r=h.maxRetries)!==null&&r!==void 0?r:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:g,url:v,timeout:T}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(g,{url:v,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,I=Date.now();if(ut(this).debug(`[${E}] sending request`,di({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:g.headers})),!((f=h.signal)===null||f===void 0)&&f.aborted)throw new Du;const G=new AbortController,L=await this.fetchWithTimeout(v,g,T,G).catch(Iu),z=Date.now();if(L instanceof globalThis.Error){const O=`retrying, ${o} attempts remaining`;if(!((p=h.signal)===null||p===void 0)&&p.aborted)throw new Du;const P=wu(L)||/timed? ?out/i.test(String(L)+("cause"in L?String(L.cause):""));if(o)return ut(this).info(`[${E}] connection ${P?"timed out":"failed"} - ${O}`),ut(this).debug(`[${E}] connection ${P?"timed out":"failed"} (${O})`,di({retryOfRequestLogID:a,url:v,durationMs:z-I,message:L.message})),this.retryRequest(h,o,a??E);throw ut(this).info(`[${E}] connection ${P?"timed out":"failed"} - error; no more retries left`),ut(this).debug(`[${E}] connection ${P?"timed out":"failed"} (error; no more retries left)`,di({retryOfRequestLogID:a,url:v,durationMs:z-I,message:L.message})),P?new mg:new Oa({cause:L})}const Y=`[${E}${C}] ${g.method} ${v} ${L.ok?"succeeded":"failed"} with status ${L.status} in ${z-I}ms`;if(!L.ok){const O=await this.shouldRetry(L);if(o&&O){const Z=`retrying, ${o} attempts remaining`;return await SA(L.body),ut(this).info(`${Y} - ${Z}`),ut(this).debug(`[${E}] response error (${Z})`,di({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,durationMs:z-I})),this.retryRequest(h,o,a??E,L.headers)}const P=O?"error; no more retries left":"error; not retryable";ut(this).info(`${Y} - ${P}`);const Q=await L.text().catch(Z=>Iu(Z).message),ee=fA(Q),J=ee?void 0:Q;throw ut(this).debug(`[${E}] response error (${P})`,di({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,message:J,durationMs:Date.now()-I})),this.makeStatusError(L.status,ee,J,L.headers)}return ut(this).info(Y),ut(this).debug(`[${E}] response start`,di({retryOfRequestLogID:a,url:L.url,status:L.status,headers:L.headers,durationMs:z-I})),{response:L,options:h,controller:G,requestLogID:E,retryOfRequestLogID:a,startTime:I}}async fetchWithTimeout(t,o,a,r){const f=o||{},{signal:p,method:h}=f,y=Ha(f,["signal","method"]);p&&p.addEventListener("abort",()=>r.abort());const g=setTimeout(()=>r.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:r.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(g)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,r){var f;let p;const h=r==null?void 0:r.get("retry-after-ms");if(h){const g=parseFloat(h);Number.isNaN(g)||(p=g)}const y=r==null?void 0:r.get("retry-after");if(y&&!p){const g=parseFloat(y);Number.isNaN(g)?p=Date.parse(y)-Date.now():p=g*1e3}if(!(p&&0<=p&&p<60*1e3)){const g=(f=t.maxRetries)!==null&&f!==void 0?f:this.maxRetries;p=this.calculateDefaultRetryTimeoutMillis(o,g)}return await dA(p),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const f=o-t,p=Math.min(.5*Math.pow(2,f),8),h=1-Math.random()*.25;return p*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,r,f;const p=Object.assign({},t),{method:h,path:y,query:g,defaultBaseURL:v}=p,T=this.buildURL(y,g,v);"timeout"in p&&cA("timeout",p.timeout),p.timeout=(a=p.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:p}),I=await this.buildHeaders({options:t,method:h,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:I},p.signal&&{signal:p.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(r=this.fetchOptions)!==null&&r!==void 0?r:{}),(f=p.fetchOptions)!==null&&f!==void 0?f:{}),url:T,timeout:p.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:r}){let f={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),f[this.idempotencyHeader]=t.idempotencyKey);const p=await this.authHeaders(t);let h=il([f,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(r)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),gA()),this._options.defaultHeaders,a,t.headers,p]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=il([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:vA(t)}:this.encoder({body:t,headers:a})}}Ja.DEFAULT_TIMEOUT=6e4;class je extends Ja{constructor(){super(...arguments),this.interactions=new wg(this)}}Dg=je;je.GeminiNextGenAPIClient=Dg;je.GeminiNextGenAPIClientError=zt;je.APIError=ct;je.APIConnectionError=Oa;je.APIConnectionTimeoutError=mg;je.APIUserAbortError=Du;je.NotFoundError=vg;je.ConflictError=Sg;je.RateLimitError=Eg;je.BadRequestError=hg;je.AuthenticationError=gg;je.InternalServerError=_g;je.PermissionDeniedError=yg;je.UnprocessableEntityError=Tg;je.toFile=xA;je.Interactions=wg;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function qA(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function VA(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function BA(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function zA(i,t){const o={},a=u(i,["sdkHttpResponse"]);return a!=null&&c(o,["sdkHttpResponse"],a),o}function PA(i,t,o){const a={};if(u(i,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(i,["tunedModelDisplayName"]);if(t!==void 0&&r!=null&&c(t,["displayName"],r),u(i,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const f=u(i,["epochCount"]);t!==void 0&&f!=null&&c(t,["tuningTask","hyperparameters","epochCount"],f);const p=u(i,["learningRateMultiplier"]);if(p!=null&&c(a,["tuningTask","hyperparameters","learningRateMultiplier"],p),u(i,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(i,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(i,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const h=u(i,["batchSize"]);t!==void 0&&h!=null&&c(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(i,["learningRate"]);if(t!==void 0&&y!=null&&c(t,["tuningTask","hyperparameters","learningRate"],y),u(i,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(i,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return a}function OA(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec"],Mh(C))}else if(r==="PREFERENCE_TUNING"){const C=u(i,["validationDataset"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec"],Mh(C))}const f=u(i,["tunedModelDisplayName"]);t!==void 0&&f!=null&&c(t,["tunedModelDisplayName"],f);const p=u(i,["description"]);t!==void 0&&p!=null&&c(t,["description"],p);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","epochCount"],C)}else if(h==="PREFERENCE_TUNING"){const C=u(i,["epochCount"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],C)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],C)}else if(y==="PREFERENCE_TUNING"){const C=u(i,["learningRateMultiplier"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],C)}let g=u(o,["config","method"]);if(g===void 0&&(g="SUPERVISED_FINE_TUNING"),g==="SUPERVISED_FINE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","exportLastCheckpointOnly"],C)}else if(g==="PREFERENCE_TUNING"){const C=u(i,["exportLastCheckpointOnly"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],C)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["supervisedTuningSpec","hyperParameters","adapterSize"],C)}else if(v==="PREFERENCE_TUNING"){const C=u(i,["adapterSize"]);t!==void 0&&C!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],C)}if(u(i,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(i,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=u(i,["labels"]);t!==void 0&&T!=null&&c(t,["labels"],T);const E=u(i,["beta"]);return t!==void 0&&E!=null&&c(t,["preferenceOptimizationSpec","hyperParameters","beta"],E),a}function FA(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&tx(f);const p=u(i,["config"]);return p!=null&&PA(p,o),o}function JA(i,t){const o={},a=u(i,["baseModel"]);a!=null&&c(o,["baseModel"],a);const r=u(i,["preTunedModel"]);r!=null&&c(o,["preTunedModel"],r);const f=u(i,["trainingDataset"]);f!=null&&nx(f,o,t);const p=u(i,["config"]);return p!=null&&OA(p,o,t),o}function YA(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function KA(i,t){const o={},a=u(i,["name"]);return a!=null&&c(o,["_url","name"],a),o}function XA(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function QA(i,t,o){const a={},r=u(i,["pageSize"]);t!==void 0&&r!=null&&c(t,["_query","pageSize"],r);const f=u(i,["pageToken"]);t!==void 0&&f!=null&&c(t,["_query","pageToken"],f);const p=u(i,["filter"]);return t!==void 0&&p!=null&&c(t,["_query","filter"],p),a}function ZA(i,t){const o={},a=u(i,["config"]);return a!=null&&XA(a,o),o}function $A(i,t){const o={},a=u(i,["config"]);return a!=null&&QA(a,o),o}function WA(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tunedModels"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Ug(h))),c(o,["tuningJobs"],p)}return o}function jA(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["nextPageToken"]);r!=null&&c(o,["nextPageToken"],r);const f=u(i,["tuningJobs"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(h=>Gu(h))),c(o,["tuningJobs"],p)}return o}function ex(i,t){const o={},a=u(i,["name"]);a!=null&&c(o,["model"],a);const r=u(i,["name"]);return r!=null&&c(o,["endpoint"],r),o}function tx(i,t){const o={};if(u(i,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(i,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(i,["examples"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(f=>f)),c(o,["examples","examples"],r)}return o}function nx(i,t,o){const a={};let r=u(o,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(r==="PREFERENCE_TUNING"){const p=u(i,["gcsUri"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}let f=u(o,["config","method"]);if(f===void 0&&(f="SUPERVISED_FINE_TUNING"),f==="SUPERVISED_FINE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["supervisedTuningSpec","trainingDatasetUri"],p)}else if(f==="PREFERENCE_TUNING"){const p=u(i,["vertexDatasetResource"]);t!==void 0&&p!=null&&c(t,["preferenceOptimizationSpec","trainingDatasetUri"],p)}if(u(i,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function Ug(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Qh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(i,["tuningTask","startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["tuningTask","completeTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["description"]);v!=null&&c(o,["description"],v);const T=u(i,["baseModel"]);T!=null&&c(o,["baseModel"],T);const E=u(i,["_self"]);return E!=null&&c(o,["tunedModel"],ex(E)),o}function Gu(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["state"]);f!=null&&c(o,["state"],Qh(f));const p=u(i,["createTime"]);p!=null&&c(o,["createTime"],p);const h=u(i,["startTime"]);h!=null&&c(o,["startTime"],h);const y=u(i,["endTime"]);y!=null&&c(o,["endTime"],y);const g=u(i,["updateTime"]);g!=null&&c(o,["updateTime"],g);const v=u(i,["error"]);v!=null&&c(o,["error"],v);const T=u(i,["description"]);T!=null&&c(o,["description"],T);const E=u(i,["baseModel"]);E!=null&&c(o,["baseModel"],E);const C=u(i,["tunedModel"]);C!=null&&c(o,["tunedModel"],C);const I=u(i,["preTunedModel"]);I!=null&&c(o,["preTunedModel"],I);const G=u(i,["supervisedTuningSpec"]);G!=null&&c(o,["supervisedTuningSpec"],G);const L=u(i,["preferenceOptimizationSpec"]);L!=null&&c(o,["preferenceOptimizationSpec"],L);const z=u(i,["tuningDataStats"]);z!=null&&c(o,["tuningDataStats"],z);const Y=u(i,["encryptionSpec"]);Y!=null&&c(o,["encryptionSpec"],Y);const O=u(i,["partnerModelTuningSpec"]);O!=null&&c(o,["partnerModelTuningSpec"],O);const P=u(i,["customBaseModel"]);P!=null&&c(o,["customBaseModel"],P);const Q=u(i,["experiment"]);Q!=null&&c(o,["experiment"],Q);const ee=u(i,["labels"]);ee!=null&&c(o,["labels"],ee);const J=u(i,["outputUri"]);J!=null&&c(o,["outputUri"],J);const ue=u(i,["pipelineJob"]);ue!=null&&c(o,["pipelineJob"],ue);const Z=u(i,["serviceAccount"]);Z!=null&&c(o,["serviceAccount"],Z);const ce=u(i,["tunedModelDisplayName"]);ce!=null&&c(o,["tunedModelDisplayName"],ce);const Te=u(i,["veoTuningSpec"]);return Te!=null&&c(o,["veoTuningSpec"],Te),o}function ix(i,t){const o={},a=u(i,["sdkHttpResponse"]);a!=null&&c(o,["sdkHttpResponse"],a);const r=u(i,["name"]);r!=null&&c(o,["name"],r);const f=u(i,["metadata"]);f!=null&&c(o,["metadata"],f);const p=u(i,["done"]);p!=null&&c(o,["done"],p);const h=u(i,["error"]);return h!=null&&c(o,["error"],h),o}function Mh(i,t){const o={},a=u(i,["gcsUri"]);a!=null&&c(o,["validationDatasetUri"],a);const r=u(i,["vertexDatasetResource"]);return r!=null&&c(o,["validationDatasetUri"],r),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ox extends Sn{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new mi(vn.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const r={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(r.checkpointId=o.config.preTunedModelCheckpointId);const f=Object.assign(Object.assign({},o),{preTunedModel:r});return f.baseModel=void 0,await this.tuneInternal(f)}else{const r=Object.assign({},o);return await this.tuneInternal(r)}else{const r=Object.assign({},o),f=await this.tuneMldevInternal(r);let p="";return f.metadata!==void 0&&f.metadata.tunedModel!==void 0?p=f.metadata.tunedModel:f.name!==void 0&&f.name.includes("/operations/")&&(p=f.name.split("/operations/")[0]),{name:p,state:_u.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=KA(t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Gu(v))}else{const g=YA(t);return h=X("{name}",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>Ug(v))}}async listInternal(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=$A(t);return h=X("tuningJobs",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=jA(v),E=new eh;return Object.assign(E,T),E})}else{const g=ZA(t);return h=X("tunedModels",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"GET",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=WA(v),E=new eh;return Object.assign(E,T),E})}}async cancel(t){var o,a,r,f;let p,h="",y={};if(this.apiClient.isVertexAI()){const g=VA(t);return h=X("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=zA(v),E=new th;return Object.assign(E,T),E})}else{const g=qA(t);return h=X("{name}:cancel",g._url),y=g._query,delete g._url,delete g._query,p=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(g),httpMethod:"POST",httpOptions:(r=t.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(f=t.config)===null||f===void 0?void 0:f.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),p.then(v=>{const T=BA(v),E=new th;return Object.assign(E,T),E})}}async tuneInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI()){const h=JA(t,t);return f=X("tuningJobs",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Gu(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let r,f="",p={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=FA(t);return f=X("tunedModels",h._url),p=h._query,delete h._url,delete h._query,r=this.apiClient.request({path:f,queryParams:p,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(g=>{const v=g;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>ix(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lx{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const ax=1024*1024*8,sx=3,rx=1e3,ux=2,qa="x-goog-upload-status";async function cx(i,t,o){var a;const r=await Lg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function fx(i,t,o){var a;const r=await Lg(i,t,o),f=await(r==null?void 0:r.json());if(((a=r==null?void 0:r.headers)===null||a===void 0?void 0:a[qa])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const p=Oh(f),h=new qu;return Object.assign(h,p),h}async function Lg(i,t,o){var a,r;let f=0,p=0,h=new Au(new Response),y="upload";for(f=i.size;p<f;){const g=Math.min(ax,f-p),v=i.slice(p,p+g);p+g>=f&&(y+=", finalize");let T=0,E=rx;for(;T<sx&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(p),"Content-Length":String(g)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[qa]));)T++,await px(E),E=E*ux;if(p+=g,((r=h==null?void 0:h.headers)===null||r===void 0?void 0:r[qa])!=="active")break;if(f<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function dx(i){return{size:i.size,type:i.type}}function px(i){return new Promise(t=>setTimeout(t,i))}class mx{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await cx(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await fx(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await dx(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class hx{create(t,o,a){return new gx(t,o,a)}}class gx{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const bh="x-goog-api-key";class yx{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(bh)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(bh,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vx="gl-node/";class Gg{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new je({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=dv(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const r=new yx(this.apiKey);this.apiClient=new dC({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:vx+"web",uploader:new mx,downloader:new lx}),this.models=new IC(this.apiClient),this.live=new xC(this.apiClient,r,new hx),this.batches=new zS(this.apiClient),this.chats=new _T(this.models,this.apiClient),this.caches=new ST(this.apiClient),this.files=new DT(this.apiClient),this.operations=new DC(this.apiClient),this.authTokens=new XC(this.apiClient),this.tunings=new ox(this.apiClient),this.fileSearchStores=new nA(this.apiClient)}}const Hg={async checkAnswer(i,t,o="ar"){if(!i||i.trim()==="")return{score:0,isCorrect:!1};const a=r=>r?r.replace(/[]/g,"").replace(//g,"").replace(/[^\u0621-\u064A\s0-9a-zA-Z]/g,"").trim().toLowerCase():"";if(a(i)===a(t))return{score:100,isCorrect:!0};try{const r=new Gg({apiKey:void 0}),f=`Compare these two ${o==="ar"?"Arabic":"English"} phrases for semantic similarity:
            Phrase 1: "${i}"
            Phrase 2: "${t}"
            
            Rules:
            1. Return a similarity score from 0 to 100.
            2. Ignore spelling mistakes or dialect differences.
            3. Return only valid JSON.`,p=await r.models.generateContent({model:"gemini-3-pro-preview",contents:f,config:{responseMimeType:"application/json",responseSchema:{type:Vt.OBJECT,properties:{score:{type:Vt.NUMBER,description:"Similarity score 0-100"}},required:["score"]}}}),y=JSON.parse(p.text).score||0;return{score:y,isCorrect:y>=70}}catch(r){return console.error("AI Check Failed:",r),{score:0,isCorrect:a(i)===a(t)}}}},Va={getSubjectData(i){const t=localStorage.getItem(`exam_stats_${i}`);return t?JSON.parse(t):{examsTaken:0,accuracy:0,totalScore:0,wrongQuestions:[],stars:[]}},saveExamResult(i,t,o){const a=this.getSubjectData(i);a.examsTaken+=1,a.totalScore+=t,a.accuracy=Math.round(a.totalScore/a.examsTaken),o.forEach(r=>{if(!r.isCorrect){const f=a.wrongQuestions.find(p=>p.id===r.id);f?f.count+=1:a.wrongQuestions.push({id:r.id,text:r.text,count:1})}}),a.wrongQuestions.sort((r,f)=>f.count-r.count),localStorage.setItem(`exam_stats_${i}`,JSON.stringify(a))},toggleStar(i,t){const o=this.getSubjectData(i);return o.stars.includes(t)?o.stars=o.stars.filter(a=>a!==t):o.stars.push(t),localStorage.setItem(`exam_stats_${i}`,JSON.stringify(o)),o.stars.includes(t)},isStarred(i,t){return this.getSubjectData(i).stars.includes(t)},getGlobalStats(){return{accuracy:85}}};class kg{constructor(t,o,a="ar"){this.subjectId=t,this.data=o,this.lang=a,this.currentIndex=0,this.userAnswers={},this.startTime=Date.now(),this.isFinished=!1,this.resultsCache={}}get currentQuestion(){return this.data.questions[this.currentIndex]}get progress(){return Math.round((this.currentIndex+1)/this.data.questions.length*100)}setAnswer(t){this.userAnswers[this.currentIndex]=t}next(){return this.currentIndex<this.data.questions.length-1?(this.currentIndex++,!0):!1}prev(){return this.currentIndex>0?(this.currentIndex--,!0):!1}async calculateResults(){var f,p;const t=[];let o=0;for(let h=0;h<this.data.questions.length;h++){const y=this.data.questions[h],g=this.userAnswers[h]!==void 0?this.userAnswers[h]:"";let v=!1;y.type==="fill-in-the-blank"?v=(await Hg.checkAnswer(g,y.correctAnswer,this.lang)).isCorrect:v=String(g)===String(y.correctAnswer),v&&o++,t.push({id:y.id,text:y.questionText[this.lang],userAnswer:(y.type==="multiple-choice"||y.type==="true-false")&&y.options?(f=y.options[g])==null?void 0:f[this.lang]:g,correctAnswer:(y.type==="multiple-choice"||y.type==="true-false")&&y.options?(p=y.options[y.correctAnswer])==null?void 0:p[this.lang]:y.correctAnswer,isCorrect:v,type:y.type})}const a=Math.round(o/this.data.questions.length*100),r=Math.floor((Date.now()-this.startTime)/1e3);return Va.saveExamResult(this.subjectId,a,t),{score:a,timeSpent:r,correctCount:o,wrongCount:this.data.questions.length-o,review:t}}}let De="ar",ke=null,Ya={};const pi={ar:{dashboard_title:" ",dashboard_subtitle:"     ",total_accuracy:" ",results_title:" ",correct_answers:"",wrong_answers:"",time_spent:" ",review_title:" ",loading_ai:"    ...",btn_start:" ",accuracy_label:"",exams_label:"",placement_title:"  ",placement_desc:"        .",placement_btn:"  ",check_answer:"  "},en:{dashboard_title:"Dashboard",dashboard_subtitle:"Track your progress across subjects",total_accuracy:"Total Accuracy",results_title:"Exam Results",correct_answers:"Correct",wrong_answers:"Wrong",time_spent:"Time Spent",review_title:"Review Answers",loading_ai:"AI is analyzing your answers...",btn_start:"Start Exam",accuracy_label:"Accuracy",exams_label:"Exams",placement_title:"Placement Exam",placement_desc:"Start by assessing your overall level to get a personalized study plan.",placement_btn:"Start Assessment Now",check_answer:"Check Answer"}},Sx=[{id:"math",name:{ar:"",en:"Mathematics"},icon:"",color:"bg-blue-500"},{id:"science",name:{ar:"",en:"Science"},icon:"",color:"bg-green-500"},{id:"history",name:{ar:"",en:"History"},icon:"",color:"bg-amber-500"},{id:"english",name:{ar:" ",en:"English Language"},icon:"",color:"bg-purple-500"}];window.router={navigate(i){document.querySelectorAll(".view").forEach(o=>o.classList.add("hidden"));const t=document.getElementById(`view-${i}`);t&&(t.classList.remove("hidden"),t.classList.add("active")),i==="home"&&Yu()}};function Tx(){Ex(),_x(),Yu(),document.getElementById("next-btn").addEventListener("click",Ax),document.getElementById("prev-btn").addEventListener("click",xx)}function Ex(){const i=document.getElementById("themeToggle");i.onclick=()=>{document.documentElement.classList.toggle("dark"),localStorage.setItem("theme",document.documentElement.classList.contains("dark")?"dark":"light")},localStorage.getItem("theme")==="dark"&&document.documentElement.classList.add("dark")}function _x(){const i=document.getElementById("langToggle");i.onclick=()=>{De=De==="ar"?"en":"ar",document.documentElement.dir=De==="ar"?"rtl":"ltr",document.documentElement.lang=De,i.innerText=De==="ar"?"English":"",Cx(),Yu()}}function Cx(){document.querySelectorAll("[data-i18n]").forEach(i=>{const t=i.getAttribute("data-i18n");i.innerText=pi[De][t]})}function Yu(){const i=document.getElementById("subject-grid"),t=document.getElementById("placement-banner-container");t&&(t.innerHTML=`
            <div class="bg-gradient-to-l from-indigo-600 to-violet-700 dark:from-indigo-900 dark:to-violet-950 rounded-[2.5rem] p-8 md:p-10 text-white mb-10 shadow-xl shadow-indigo-200 dark:shadow-none relative overflow-hidden animate-slide-up">
                <div class="relative z-10 max-w-2xl">
                    <span class="bg-white/20 backdrop-blur-md px-4 py-1 rounded-full text-xs font-bold uppercase tracking-widest mb-4 inline-block">New / </span>
                    <h2 class="text-3xl md:text-4xl font-black mb-4">${pi[De].placement_title}</h2>
                    <p class="text-indigo-100 mb-8 text-lg opacity-90">${pi[De].placement_desc}</p>
                    <button onclick="startPlacementExam()" class="bg-white text-indigo-600 px-8 py-4 rounded-2xl font-bold hover:scale-105 transition-transform shadow-lg">
                        ${pi[De].placement_btn}
                    </button>
                </div>
                <div class="absolute -right-20 -bottom-20 text-[15rem] opacity-10 select-none"></div>
            </div>
        `),i.innerHTML="",Sx.forEach(o=>{const a=Va.getSubjectData(o.id),r=document.createElement("div");r.className="bg-white dark:bg-slate-900 rounded-[2rem] p-7 border border-slate-100 dark:border-slate-800 shadow-sm hover:shadow-xl transition-all group animate-slide-up",r.innerHTML=`
            <div class="flex justify-between items-start mb-6">
                <div class="w-14 h-14 ${o.color} rounded-2xl flex items-center justify-center text-3xl shadow-inner">${o.icon}</div>
                <div class="text-right rtl">
                    <p class="text-xs text-slate-400 font-bold uppercase">${a.examsTaken} ${pi[De].exams_label}</p>
                </div>
            </div>
            <h3 class="text-xl font-bold mb-2 dark:text-white">${o.name[De]}</h3>
            <div class="flex items-center gap-3 mb-6">
                <div class="flex-1 h-2 bg-slate-100 dark:bg-slate-800 rounded-full overflow-hidden">
                    <div class="h-full bg-indigo-600 transition-all duration-500" style="width: ${a.accuracy}%"></div>
                </div>
                <span class="text-sm font-black text-indigo-600 dark:text-indigo-400">${a.accuracy}%</span>
            </div>
            <button onclick="startExam('${o.id}')" class="w-full py-4 bg-slate-50 dark:bg-slate-800 rounded-xl font-bold group-hover:bg-indigo-600 group-hover:text-white transition-all">
                ${pi[De].btn_start}
            </button>
        `,i.appendChild(r)})}window.startPlacementExam=async()=>{try{const t=await(await fetch("exams/placement.json")).json();ke=new kg("placement",t,De),Ya={},router.navigate("exam"),so()}catch{alert("Error loading exam")}};window.startExam=async i=>{try{const o=await(await fetch(`exams/${i}.json`)).json();ke=new kg(i,o,De),Ya={},router.navigate("exam"),so()}catch{alert("Exam file not found.")}};async function wh(i,t){const o=ke.data.questions.find(r=>r.id===i);let a=!1;o.type==="fill-in-the-blank"?(document.getElementById("loading-overlay").classList.remove("hidden"),a=(await Hg.checkAnswer(t,o.correctAnswer,De)).isCorrect,document.getElementById("loading-overlay").classList.add("hidden")):a=String(t)===String(o.correctAnswer),Ya[i]={isCorrect:a,isChecked:!0},so()}function so(){if(!ke)return;const i=ke.currentQuestion,t=Ya[i.id];document.getElementById("question-counter").innerText=`${De==="ar"?"":"Question"} ${ke.currentIndex+1} / ${ke.data.questions.length}`,document.getElementById("exam-progress-bar").style.width=`${ke.progress}%`,document.getElementById("question-text").innerText=i.questionText[De];const o=document.getElementById("star-question");o.innerText=Va.isStarred(ke.subjectId,i.id)?"":"",o.onclick=()=>{Va.toggleStar(ke.subjectId,i.id),so()};const a=document.getElementById("options-container"),r=document.getElementById("fill-blank-container");if(a.innerHTML="",a.classList.add("hidden"),r.classList.add("hidden"),i.type==="multiple-choice"||i.type==="true-false")a.classList.remove("hidden"),i.options.forEach((p,h)=>{const y=document.createElement("button"),g=ke.userAnswers[ke.currentIndex]===h;let v="option-btn w-full p-5 text-right rtl rounded-2xl border-2 border-slate-100 dark:border-slate-800 flex items-center gap-4 transition-all";g?t!=null&&t.isChecked?v+=t.isCorrect?" border-green-500 bg-green-50/50":" border-red-500 bg-red-50/50":v+=" border-indigo-600 bg-indigo-50/50":t!=null&&t.isChecked&&String(h)===String(i.correctAnswer)&&(v+=" border-green-200 opacity-60"),y.className=v,y.disabled=t==null?void 0:t.isChecked,y.innerHTML=`
                <span class="w-8 h-8 rounded-lg ${g&&(t!=null&&t.isChecked)?t.isCorrect?"bg-green-500":"bg-red-500":"bg-slate-100"} flex items-center justify-center font-bold text-xs ${g&&(t!=null&&t.isChecked)?"text-white":""}">
                    ${t!=null&&t.isChecked&&g?t.isCorrect?"":"":String.fromCharCode(65+h)}
                </span>
                <span class="font-medium">${p[De]}</span>
            `,y.onclick=()=>{ke.setAnswer(h),wh(i.id,h)},a.appendChild(y)});else{r.classList.remove("hidden"),r.innerHTML=`
            <input type="text" id="blank-input" placeholder="${De==="ar"?"  ...":"Type your answer..."}" 
                   class="w-full p-6 text-xl rounded-2xl border-2 dark:bg-slate-950 focus:border-indigo-500 outline-none text-center
                   ${t!=null&&t.isChecked?t.isCorrect?"border-green-500 bg-green-50/30":"border-red-500 bg-red-50/30":"border-slate-100"}"
                   ${t!=null&&t.isChecked?"disabled":""}>
            ${t!=null&&t.isChecked?"":`<button id="check-btn" class="mt-4 w-full py-3 bg-indigo-100 dark:bg-indigo-900/40 text-indigo-700 rounded-xl font-bold">${pi[De].check_answer}</button>`}
            ${t!=null&&t.isChecked&&!t.isCorrect?`<p class="mt-2 text-center text-indigo-600 font-bold">${De==="ar"?" :":"Correct:"} ${i.correctAnswer}</p>`:""}
        `;const p=document.getElementById("blank-input");p.value=ke.userAnswers[ke.currentIndex]||"",p.oninput=y=>ke.setAnswer(y.target.value);const h=document.getElementById("check-btn");h&&(h.onclick=()=>wh(i.id,p.value))}const f=document.getElementById("next-btn");f.innerText=ke.currentIndex===ke.data.questions.length-1?De==="ar"?"":"Finish":De==="ar"?"":"Next"}async function Ax(){if(ke.currentIndex===ke.data.questions.length-1){document.getElementById("loading-overlay").classList.remove("hidden");const i=await ke.calculateResults();document.getElementById("loading-overlay").classList.add("hidden"),Rx(i)}else ke.next(),so()}function xx(){ke.prev()&&so()}function Rx(i){router.navigate("results"),document.getElementById("result-subject-name").innerText=ke.data.title[De],document.getElementById("result-score").innerText=`${i.score}%`,document.getElementById("result-correct").innerText=i.correctCount,document.getElementById("result-wrong").innerText=i.wrongCount,document.getElementById("result-time").innerText=Nx(i.timeSpent);const t=document.getElementById("review-list");t.innerHTML="",i.review.forEach(o=>{const a=document.createElement("div");a.className="p-6 rounded-3xl border border-slate-100 dark:border-slate-800 bg-white dark:bg-slate-900 shadow-sm",a.innerHTML=`
            <div class="flex justify-between items-start mb-3">
                <p class="font-bold flex-1">${o.text}</p>
                <span class="text-2xl">${o.isCorrect?"":""}</span>
            </div>
            <div class="flex gap-10 mt-4 text-sm">
                <div><span class="text-slate-400 block mb-1">${De==="ar"?":":"Your Answer:"}</span> <span class="${o.isCorrect?"text-green-600":"text-red-500"} font-bold">${o.userAnswer}</span></div>
                ${o.isCorrect?"":`<div><span class="text-slate-400 block mb-1">${De==="ar"?":":"Correct:"}</span> <span class="text-indigo-600 font-bold">${o.correctAnswer}</span></div>`}
            </div>
        `,t.appendChild(a)})}function Nx(i){const t=Math.floor(i/60),o=i%60;return`${t.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`}Tx();function qg(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var pu={exports:{}},ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ih;function Mx(){if(Ih)return ol;Ih=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,r,f){var p=null;if(f!==void 0&&(p=""+f),r.key!==void 0&&(p=""+r.key),"key"in r){f={};for(var h in r)h!=="key"&&(f[h]=r[h])}else f=r;return r=f.ref,{$$typeof:i,type:a,key:p,ref:r!==void 0?r:null,props:f}}return ol.Fragment=t,ol.jsx=o,ol.jsxs=o,ol}var Dh;function bx(){return Dh||(Dh=1,pu.exports=Mx()),pu.exports}var N=bx(),mu={exports:{}},le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function wx(){if(Uh)return le;Uh=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),p=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(R){return R===null||typeof R!="object"?null:(R=E&&R[E]||R["@@iterator"],typeof R=="function"?R:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},G=Object.assign,L={};function z(R,B,K){this.props=R,this.context=B,this.refs=L,this.updater=K||I}z.prototype.isReactComponent={},z.prototype.setState=function(R,B){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,B,"setState")},z.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function Y(){}Y.prototype=z.prototype;function O(R,B,K){this.props=R,this.context=B,this.refs=L,this.updater=K||I}var P=O.prototype=new Y;P.constructor=O,G(P,z.prototype),P.isPureReactComponent=!0;var Q=Array.isArray;function ee(){}var J={H:null,A:null,T:null,S:null},ue=Object.prototype.hasOwnProperty;function Z(R,B,K){var W=K.ref;return{$$typeof:i,type:R,key:B,ref:W!==void 0?W:null,props:K}}function ce(R,B){return Z(R.type,B,R.props)}function Te(R){return typeof R=="object"&&R!==null&&R.$$typeof===i}function Ue(R){var B={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(K){return B[K]})}var _e=/\/+/g;function Fe(R,B){return typeof R=="object"&&R!==null&&R.key!=null?Ue(""+R.key):B.toString(36)}function ft(R){switch(R.status){case"fulfilled":return R.value;case"rejected":throw R.reason;default:switch(typeof R.status=="string"?R.then(ee,ee):(R.status="pending",R.then(function(B){R.status==="pending"&&(R.status="fulfilled",R.value=B)},function(B){R.status==="pending"&&(R.status="rejected",R.reason=B)})),R.status){case"fulfilled":return R.value;case"rejected":throw R.reason}}throw R}function k(R,B,K,W,ae){var fe=typeof R;(fe==="undefined"||fe==="boolean")&&(R=null);var Ce=!1;if(R===null)Ce=!0;else switch(fe){case"bigint":case"string":case"number":Ce=!0;break;case"object":switch(R.$$typeof){case i:case t:Ce=!0;break;case v:return Ce=R._init,k(Ce(R._payload),B,K,W,ae)}}if(Ce)return ae=ae(R),Ce=W===""?"."+Fe(R,0):W,Q(ae)?(K="",Ce!=null&&(K=Ce.replace(_e,"$&/")+"/"),k(ae,B,K,"",function(ro){return ro})):ae!=null&&(Te(ae)&&(ae=ce(ae,K+(ae.key==null||R&&R.key===ae.key?"":(""+ae.key).replace(_e,"$&/")+"/")+Ce)),B.push(ae)),1;Ce=0;var st=W===""?".":W+":";if(Q(R))for(var ze=0;ze<R.length;ze++)W=R[ze],fe=st+Fe(W,ze),Ce+=k(W,B,K,fe,ae);else if(ze=C(R),typeof ze=="function")for(R=ze.call(R),ze=0;!(W=R.next()).done;)W=W.value,fe=st+Fe(W,ze++),Ce+=k(W,B,K,fe,ae);else if(fe==="object"){if(typeof R.then=="function")return k(ft(R),B,K,W,ae);throw B=String(R),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ce}function F(R,B,K){if(R==null)return R;var W=[],ae=0;return k(R,W,"","",function(fe){return B.call(K,fe,ae++)}),W}function ne(R){if(R._status===-1){var B=R._result;B=B(),B.then(function(K){(R._status===0||R._status===-1)&&(R._status=1,R._result=K)},function(K){(R._status===0||R._status===-1)&&(R._status=2,R._result=K)}),R._status===-1&&(R._status=0,R._result=B)}if(R._status===1)return R._result.default;throw R._result}var Re=typeof reportError=="function"?reportError:function(R){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof R=="object"&&R!==null&&typeof R.message=="string"?String(R.message):String(R),error:R});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",R);return}console.error(R)},we={map:F,forEach:function(R,B,K){F(R,function(){B.apply(this,arguments)},K)},count:function(R){var B=0;return F(R,function(){B++}),B},toArray:function(R){return F(R,function(B){return B})||[]},only:function(R){if(!Te(R))throw Error("React.Children.only expected to receive a single React element child.");return R}};return le.Activity=T,le.Children=we,le.Component=z,le.Fragment=o,le.Profiler=r,le.PureComponent=O,le.StrictMode=a,le.Suspense=y,le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,le.__COMPILER_RUNTIME={__proto__:null,c:function(R){return J.H.useMemoCache(R)}},le.cache=function(R){return function(){return R.apply(null,arguments)}},le.cacheSignal=function(){return null},le.cloneElement=function(R,B,K){if(R==null)throw Error("The argument must be a React element, but you passed "+R+".");var W=G({},R.props),ae=R.key;if(B!=null)for(fe in B.key!==void 0&&(ae=""+B.key),B)!ue.call(B,fe)||fe==="key"||fe==="__self"||fe==="__source"||fe==="ref"&&B.ref===void 0||(W[fe]=B[fe]);var fe=arguments.length-2;if(fe===1)W.children=K;else if(1<fe){for(var Ce=Array(fe),st=0;st<fe;st++)Ce[st]=arguments[st+2];W.children=Ce}return Z(R.type,ae,W)},le.createContext=function(R){return R={$$typeof:p,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null},R.Provider=R,R.Consumer={$$typeof:f,_context:R},R},le.createElement=function(R,B,K){var W,ae={},fe=null;if(B!=null)for(W in B.key!==void 0&&(fe=""+B.key),B)ue.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ae[W]=B[W]);var Ce=arguments.length-2;if(Ce===1)ae.children=K;else if(1<Ce){for(var st=Array(Ce),ze=0;ze<Ce;ze++)st[ze]=arguments[ze+2];ae.children=st}if(R&&R.defaultProps)for(W in Ce=R.defaultProps,Ce)ae[W]===void 0&&(ae[W]=Ce[W]);return Z(R,fe,ae)},le.createRef=function(){return{current:null}},le.forwardRef=function(R){return{$$typeof:h,render:R}},le.isValidElement=Te,le.lazy=function(R){return{$$typeof:v,_payload:{_status:-1,_result:R},_init:ne}},le.memo=function(R,B){return{$$typeof:g,type:R,compare:B===void 0?null:B}},le.startTransition=function(R){var B=J.T,K={};J.T=K;try{var W=R(),ae=J.S;ae!==null&&ae(K,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(ee,Re)}catch(fe){Re(fe)}finally{B!==null&&K.types!==null&&(B.types=K.types),J.T=B}},le.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},le.use=function(R){return J.H.use(R)},le.useActionState=function(R,B,K){return J.H.useActionState(R,B,K)},le.useCallback=function(R,B){return J.H.useCallback(R,B)},le.useContext=function(R){return J.H.useContext(R)},le.useDebugValue=function(){},le.useDeferredValue=function(R,B){return J.H.useDeferredValue(R,B)},le.useEffect=function(R,B){return J.H.useEffect(R,B)},le.useEffectEvent=function(R){return J.H.useEffectEvent(R)},le.useId=function(){return J.H.useId()},le.useImperativeHandle=function(R,B,K){return J.H.useImperativeHandle(R,B,K)},le.useInsertionEffect=function(R,B){return J.H.useInsertionEffect(R,B)},le.useLayoutEffect=function(R,B){return J.H.useLayoutEffect(R,B)},le.useMemo=function(R,B){return J.H.useMemo(R,B)},le.useOptimistic=function(R,B){return J.H.useOptimistic(R,B)},le.useReducer=function(R,B,K){return J.H.useReducer(R,B,K)},le.useRef=function(R){return J.H.useRef(R)},le.useState=function(R){return J.H.useState(R)},le.useSyncExternalStore=function(R,B,K){return J.H.useSyncExternalStore(R,B,K)},le.useTransition=function(){return J.H.useTransition()},le.version="19.2.4",le}var Lh;function Ku(){return Lh||(Lh=1,mu.exports=wx()),mu.exports}var We=Ku();const Ix=qg(We);var hu={exports:{}},ll={},gu={exports:{}},yu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gh;function Dx(){return Gh||(Gh=1,(function(i){function t(k,F){var ne=k.length;k.push(F);e:for(;0<ne;){var Re=ne-1>>>1,we=k[Re];if(0<r(we,F))k[Re]=F,k[ne]=we,ne=Re;else break e}}function o(k){return k.length===0?null:k[0]}function a(k){if(k.length===0)return null;var F=k[0],ne=k.pop();if(ne!==F){k[0]=ne;e:for(var Re=0,we=k.length,R=we>>>1;Re<R;){var B=2*(Re+1)-1,K=k[B],W=B+1,ae=k[W];if(0>r(K,ne))W<we&&0>r(ae,K)?(k[Re]=ae,k[W]=ne,Re=W):(k[Re]=K,k[B]=ne,Re=B);else if(W<we&&0>r(ae,ne))k[Re]=ae,k[W]=ne,Re=W;else break e}}return F}function r(k,F){var ne=k.sortIndex-F.sortIndex;return ne!==0?ne:k.id-F.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;i.unstable_now=function(){return f.now()}}else{var p=Date,h=p.now();i.unstable_now=function(){return p.now()-h}}var y=[],g=[],v=1,T=null,E=3,C=!1,I=!1,G=!1,L=!1,z=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;function P(k){for(var F=o(g);F!==null;){if(F.callback===null)a(g);else if(F.startTime<=k)a(g),F.sortIndex=F.expirationTime,t(y,F);else break;F=o(g)}}function Q(k){if(G=!1,P(k),!I)if(o(y)!==null)I=!0,ee||(ee=!0,Ue());else{var F=o(g);F!==null&&ft(Q,F.startTime-k)}}var ee=!1,J=-1,ue=5,Z=-1;function ce(){return L?!0:!(i.unstable_now()-Z<ue)}function Te(){if(L=!1,ee){var k=i.unstable_now();Z=k;var F=!0;try{e:{I=!1,G&&(G=!1,Y(J),J=-1),C=!0;var ne=E;try{t:{for(P(k),T=o(y);T!==null&&!(T.expirationTime>k&&ce());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,E=T.priorityLevel;var we=Re(T.expirationTime<=k);if(k=i.unstable_now(),typeof we=="function"){T.callback=we,P(k),F=!0;break t}T===o(y)&&a(y),P(k)}else a(y);T=o(y)}if(T!==null)F=!0;else{var R=o(g);R!==null&&ft(Q,R.startTime-k),F=!1}}break e}finally{T=null,E=ne,C=!1}F=void 0}}finally{F?Ue():ee=!1}}}var Ue;if(typeof O=="function")Ue=function(){O(Te)};else if(typeof MessageChannel<"u"){var _e=new MessageChannel,Fe=_e.port2;_e.port1.onmessage=Te,Ue=function(){Fe.postMessage(null)}}else Ue=function(){z(Te,0)};function ft(k,F){J=z(function(){k(i.unstable_now())},F)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(k){k.callback=null},i.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<k?Math.floor(1e3/k):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(k){switch(E){case 1:case 2:case 3:var F=3;break;default:F=E}var ne=E;E=F;try{return k()}finally{E=ne}},i.unstable_requestPaint=function(){L=!0},i.unstable_runWithPriority=function(k,F){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var ne=E;E=k;try{return F()}finally{E=ne}},i.unstable_scheduleCallback=function(k,F,ne){var Re=i.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Re+ne:Re):ne=Re,k){case 1:var we=-1;break;case 2:we=250;break;case 5:we=1073741823;break;case 4:we=1e4;break;default:we=5e3}return we=ne+we,k={id:v++,callback:F,priorityLevel:k,startTime:ne,expirationTime:we,sortIndex:-1},ne>Re?(k.sortIndex=ne,t(g,k),o(y)===null&&k===o(g)&&(G?(Y(J),J=-1):G=!0,ft(Q,ne-Re))):(k.sortIndex=we,t(y,k),I||C||(I=!0,ee||(ee=!0,Ue()))),k},i.unstable_shouldYield=ce,i.unstable_wrapCallback=function(k){var F=E;return function(){var ne=E;E=F;try{return k.apply(this,arguments)}finally{E=ne}}}})(yu)),yu}var Hh;function Ux(){return Hh||(Hh=1,gu.exports=Dx()),gu.exports}var vu={exports:{}},lt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kh;function Lx(){if(kh)return lt;kh=1;var i=Ku();function t(y){var g="https://react.dev/errors/"+y;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},r=Symbol.for("react.portal");function f(y,g,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:g,implementation:v}}var p=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,g){if(y==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return lt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,lt.createPortal=function(y,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return f(y,g,null,v)},lt.flushSync=function(y){var g=p.T,v=a.p;try{if(p.T=null,a.p=2,y)return y()}finally{p.T=g,a.p=v,a.d.f()}},lt.preconnect=function(y,g){typeof y=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,a.d.C(y,g))},lt.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},lt.preinit=function(y,g){if(typeof y=="string"&&g&&typeof g.as=="string"){var v=g.as,T=h(v,g.crossOrigin),E=typeof g.integrity=="string"?g.integrity:void 0,C=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?a.d.S(y,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},lt.preinitModule=function(y,g){if(typeof y=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=h(g.as,g.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&a.d.M(y)},lt.preload=function(y,g){if(typeof y=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,T=h(v,g.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},lt.preloadModule=function(y,g){if(typeof y=="string")if(g){var v=h(g.as,g.crossOrigin);a.d.m(y,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else a.d.m(y)},lt.requestFormReset=function(y){a.d.r(y)},lt.unstable_batchedUpdates=function(y,g){return y(g)},lt.useFormState=function(y,g,v){return p.H.useFormState(y,g,v)},lt.useFormStatus=function(){return p.H.useHostTransitionStatus()},lt.version="19.2.4",lt}var qh;function Gx(){if(qh)return vu.exports;qh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),vu.exports=Lx(),vu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vh;function Hx(){if(Vh)return ll;Vh=1;var i=Ux(),t=Ku(),o=Gx();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)n+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var n=e,l=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(l=n.return),e=n.return;while(e)}return n.tag===3?l:null}function p(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function h(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(f(e)!==e)throw Error(a(188))}function g(e){var n=e.alternate;if(!n){if(n=f(e),n===null)throw Error(a(188));return n!==e?null:e}for(var l=e,s=n;;){var d=l.return;if(d===null)break;var m=d.alternate;if(m===null){if(s=d.return,s!==null){l=s;continue}break}if(d.child===m.child){for(m=d.child;m;){if(m===l)return y(d),e;if(m===s)return y(d),n;m=m.sibling}throw Error(a(188))}if(l.return!==s.return)l=d,s=m;else{for(var S=!1,_=d.child;_;){if(_===l){S=!0,l=d,s=m;break}if(_===s){S=!0,s=d,l=m;break}_=_.sibling}if(!S){for(_=m.child;_;){if(_===l){S=!0,l=m,s=d;break}if(_===s){S=!0,s=m,l=d;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==s)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),Y=Symbol.for("react.consumer"),O=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),ue=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ce=Symbol.for("react.memo_cache_sentinel"),Te=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=Te&&e[Te]||e["@@iterator"],typeof e=="function"?e:null)}var _e=Symbol.for("react.client.reference");function Fe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===_e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case G:return"Fragment";case z:return"Profiler";case L:return"StrictMode";case Q:return"Suspense";case ee:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case I:return"Portal";case O:return e.displayName||"Context";case Y:return(e._context.displayName||"Context")+".Consumer";case P:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:Fe(e.type)||"Memo";case ue:n=e._payload,e=e._init;try{return Fe(e(n))}catch{}}return null}var ft=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Re=[],we=-1;function R(e){return{current:e}}function B(e){0>we||(e.current=Re[we],Re[we]=null,we--)}function K(e,n){we++,Re[we]=e.current,e.current=n}var W=R(null),ae=R(null),fe=R(null),Ce=R(null);function st(e,n){switch(K(fe,n),K(ae,e),K(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Tp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Tp(n),e=Ep(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(W),K(W,e)}function ze(){B(W),B(ae),B(fe)}function ro(e){e.memoizedState!==null&&K(Ce,e);var n=W.current,l=Ep(n,e.type);n!==l&&(K(ae,e),K(W,l))}function rl(e){ae.current===e&&(B(W),B(ae)),Ce.current===e&&(B(Ce),Wo._currentValue=ne)}var Ka,Qu;function Kn(e){if(Ka===void 0)try{throw Error()}catch(l){var n=l.stack.trim().match(/\n( *(at )?)/);Ka=n&&n[1]||"",Qu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ka+e+Qu}var Xa=!1;function Qa(e,n){if(!e||Xa)return"";Xa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(n){var V=function(){throw Error()};if(Object.defineProperty(V.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(V,[])}catch(U){var D=U}Reflect.construct(e,[],V)}else{try{V.call()}catch(U){D=U}e.call(V.prototype)}}else{try{throw Error()}catch(U){D=U}(V=e())&&typeof V.catch=="function"&&V.catch(function(){})}}catch(U){if(U&&D&&typeof U.stack=="string")return[U.stack,D.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=s.DetermineComponentFrameRoot(),S=m[0],_=m[1];if(S&&_){var A=S.split(`
`),w=_.split(`
`);for(d=s=0;s<A.length&&!A[s].includes("DetermineComponentFrameRoot");)s++;for(;d<w.length&&!w[d].includes("DetermineComponentFrameRoot");)d++;if(s===A.length||d===w.length)for(s=A.length-1,d=w.length-1;1<=s&&0<=d&&A[s]!==w[d];)d--;for(;1<=s&&0<=d;s--,d--)if(A[s]!==w[d]){if(s!==1||d!==1)do if(s--,d--,0>d||A[s]!==w[d]){var H=`
`+A[s].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=s&&0<=d);break}}}finally{Xa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?Kn(l):""}function Vg(e,n){switch(e.tag){case 26:case 27:case 5:return Kn(e.type);case 16:return Kn("Lazy");case 13:return e.child!==n&&n!==null?Kn("Suspense Fallback"):Kn("Suspense");case 19:return Kn("SuspenseList");case 0:case 15:return Qa(e.type,!1);case 11:return Qa(e.type.render,!1);case 1:return Qa(e.type,!0);case 31:return Kn("Activity");default:return""}}function Zu(e){try{var n="",l=null;do n+=Vg(e,l),l=e,e=e.return;while(e);return n}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Za=Object.prototype.hasOwnProperty,$a=i.unstable_scheduleCallback,Wa=i.unstable_cancelCallback,Bg=i.unstable_shouldYield,zg=i.unstable_requestPaint,St=i.unstable_now,Pg=i.unstable_getCurrentPriorityLevel,$u=i.unstable_ImmediatePriority,Wu=i.unstable_UserBlockingPriority,ul=i.unstable_NormalPriority,Og=i.unstable_LowPriority,ju=i.unstable_IdlePriority,Fg=i.log,Jg=i.unstable_setDisableYieldValue,uo=null,Tt=null;function En(e){if(typeof Fg=="function"&&Jg(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(uo,e)}catch{}}var Et=Math.clz32?Math.clz32:Xg,Yg=Math.log,Kg=Math.LN2;function Xg(e){return e>>>=0,e===0?32:31-(Yg(e)/Kg|0)|0}var cl=256,fl=262144,dl=4194304;function Xn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pl(e,n,l){var s=e.pendingLanes;if(s===0)return 0;var d=0,m=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=s&134217727;return _!==0?(s=_&~m,s!==0?d=Xn(s):(S&=_,S!==0?d=Xn(S):l||(l=_&~e,l!==0&&(d=Xn(l))))):(_=s&~m,_!==0?d=Xn(_):S!==0?d=Xn(S):l||(l=s&~e,l!==0&&(d=Xn(l)))),d===0?0:n!==0&&n!==d&&(n&m)===0&&(m=d&-d,l=n&-n,m>=l||m===32&&(l&4194048)!==0)?n:d}function co(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qg(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ec(){var e=dl;return dl<<=1,(dl&62914560)===0&&(dl=4194304),e}function ja(e){for(var n=[],l=0;31>l;l++)n.push(e);return n}function fo(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Zg(e,n,l,s,d,m){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,A=e.expirationTimes,w=e.hiddenUpdates;for(l=S&~l;0<l;){var H=31-Et(l),V=1<<H;_[H]=0,A[H]=-1;var D=w[H];if(D!==null)for(w[H]=null,H=0;H<D.length;H++){var U=D[H];U!==null&&(U.lane&=-536870913)}l&=~V}s!==0&&tc(e,s,0),m!==0&&d===0&&e.tag!==0&&(e.suspendedLanes|=m&~(S&~n))}function tc(e,n,l){e.pendingLanes|=n,e.suspendedLanes&=~n;var s=31-Et(n);e.entangledLanes|=n,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function nc(e,n){var l=e.entangledLanes|=n;for(e=e.entanglements;l;){var s=31-Et(l),d=1<<s;d&n|e[s]&n&&(e[s]|=n),l&=~d}}function ic(e,n){var l=n&-n;return l=(l&42)!==0?1:es(l),(l&(e.suspendedLanes|n))!==0?0:l}function es(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ts(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function oc(){var e=F.p;return e!==0?e:(e=window.event,e===void 0?32:Fp(e.type))}function lc(e,n){var l=F.p;try{return F.p=e,n()}finally{F.p=l}}var _n=Math.random().toString(36).slice(2),et="__reactFiber$"+_n,dt="__reactProps$"+_n,hi="__reactContainer$"+_n,ns="__reactEvents$"+_n,$g="__reactListeners$"+_n,Wg="__reactHandles$"+_n,ac="__reactResources$"+_n,po="__reactMarker$"+_n;function is(e){delete e[et],delete e[dt],delete e[ns],delete e[$g],delete e[Wg]}function gi(e){var n=e[et];if(n)return n;for(var l=e.parentNode;l;){if(n=l[hi]||l[et]){if(l=n.alternate,n.child!==null||l!==null&&l.child!==null)for(e=Mp(e);e!==null;){if(l=e[et])return l;e=Mp(e)}return n}e=l,l=e.parentNode}return null}function yi(e){if(e=e[et]||e[hi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mo(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function vi(e){var n=e[ac];return n||(n=e[ac]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ze(e){e[po]=!0}var sc=new Set,rc={};function Qn(e,n){Si(e,n),Si(e+"Capture",n)}function Si(e,n){for(rc[e]=n,e=0;e<n.length;e++)sc.add(n[e])}var jg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uc={},cc={};function ey(e){return Za.call(cc,e)?!0:Za.call(uc,e)?!1:jg.test(e)?cc[e]=!0:(uc[e]=!0,!1)}function ml(e,n,l){if(ey(n))if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var s=n.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+l)}}function hl(e,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+l)}}function jt(e,n,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(n,l,""+s)}}function bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fc(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ty(e,n,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var d=s.get,m=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){l=""+S,m.call(this,S)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function os(e){if(!e._valueTracker){var n=fc(e)?"checked":"value";e._valueTracker=ty(e,n,""+e[n])}}function dc(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var l=n.getValue(),s="";return e&&(s=fc(e)?e.checked?"true":"false":e.value),e=s,e!==l?(n.setValue(e),!0):!1}function gl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ny=/[\n"\\]/g;function wt(e){return e.replace(ny,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ls(e,n,l,s,d,m,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),n!=null?S==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+bt(n)):e.value!==""+bt(n)&&(e.value=""+bt(n)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),n!=null?as(e,S,bt(n)):l!=null?as(e,S,bt(l)):s!=null&&e.removeAttribute("value"),d==null&&m!=null&&(e.defaultChecked=!!m),d!=null&&(e.checked=d&&typeof d!="function"&&typeof d!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+bt(_):e.removeAttribute("name")}function pc(e,n,l,s,d,m,S,_){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.type=m),n!=null||l!=null){if(!(m!=="submit"&&m!=="reset"||n!=null)){os(e);return}l=l!=null?""+bt(l):"",n=n!=null?""+bt(n):l,_||n===e.value||(e.value=n),e.defaultValue=n}s=s??d,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=_?e.checked:!!s,e.defaultChecked=!!s,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),os(e)}function as(e,n,l){n==="number"&&gl(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ti(e,n,l,s){if(e=e.options,n){n={};for(var d=0;d<l.length;d++)n["$"+l[d]]=!0;for(l=0;l<e.length;l++)d=n.hasOwnProperty("$"+e[l].value),e[l].selected!==d&&(e[l].selected=d),d&&s&&(e[l].defaultSelected=!0)}else{for(l=""+bt(l),n=null,d=0;d<e.length;d++){if(e[d].value===l){e[d].selected=!0,s&&(e[d].defaultSelected=!0);return}n!==null||e[d].disabled||(n=e[d])}n!==null&&(n.selected=!0)}}function mc(e,n,l){if(n!=null&&(n=""+bt(n),n!==e.value&&(e.value=n),l==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=l!=null?""+bt(l):""}function hc(e,n,l,s){if(n==null){if(s!=null){if(l!=null)throw Error(a(92));if(ft(s)){if(1<s.length)throw Error(a(93));s=s[0]}l=s}l==null&&(l=""),n=l}l=bt(n),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),os(e)}function Ei(e,n){if(n){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=n;return}}e.textContent=n}var iy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gc(e,n,l){var s=n.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":s?e.setProperty(n,l):typeof l!="number"||l===0||iy.has(n)?n==="float"?e.cssFloat=l:e[n]=(""+l).trim():e[n]=l+"px"}function yc(e,n,l){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||n!=null&&n.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var d in n)s=n[d],n.hasOwnProperty(d)&&l[d]!==s&&gc(e,d,s)}else for(var m in n)n.hasOwnProperty(m)&&gc(e,m,n[m])}function ss(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ly=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yl(e){return ly.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function en(){}var rs=null;function us(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _i=null,Ci=null;function vc(e){var n=yi(e);if(n&&(e=n.stateNode)){var l=e[dt]||null;e:switch(e=n.stateNode,n.type){case"input":if(ls(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),n=l.name,l.type==="radio"&&n!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+wt(""+n)+'"][type="radio"]'),n=0;n<l.length;n++){var s=l[n];if(s!==e&&s.form===e.form){var d=s[dt]||null;if(!d)throw Error(a(90));ls(s,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<l.length;n++)s=l[n],s.form===e.form&&dc(s)}break e;case"textarea":mc(e,l.value,l.defaultValue);break e;case"select":n=l.value,n!=null&&Ti(e,!!l.multiple,n,!1)}}}var cs=!1;function Sc(e,n,l){if(cs)return e(n,l);cs=!0;try{var s=e(n);return s}finally{if(cs=!1,(_i!==null||Ci!==null)&&(oa(),_i&&(n=_i,e=Ci,Ci=_i=null,vc(n),e)))for(n=0;n<e.length;n++)vc(e[n])}}function ho(e,n){var l=e.stateNode;if(l===null)return null;var s=l[dt]||null;if(s===null)return null;l=s[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,n,typeof l));return l}var tn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(tn)try{var go={};Object.defineProperty(go,"passive",{get:function(){fs=!0}}),window.addEventListener("test",go,go),window.removeEventListener("test",go,go)}catch{fs=!1}var Cn=null,ds=null,vl=null;function Tc(){if(vl)return vl;var e,n=ds,l=n.length,s,d="value"in Cn?Cn.value:Cn.textContent,m=d.length;for(e=0;e<l&&n[e]===d[e];e++);var S=l-e;for(s=1;s<=S&&n[l-s]===d[m-s];s++);return vl=d.slice(e,1<s?1-s:void 0)}function Sl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Tl(){return!0}function Ec(){return!1}function pt(e){function n(l,s,d,m,S){this._reactName=l,this._targetInst=d,this.type=s,this.nativeEvent=m,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(m):m[_]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?Tl:Ec,this.isPropagationStopped=Ec,this}return T(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Tl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Tl)},persist:function(){},isPersistent:Tl}),n}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},El=pt(Zn),yo=T({},Zn,{view:0,detail:0}),ay=pt(yo),ps,ms,vo,_l=T({},yo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==vo&&(vo&&e.type==="mousemove"?(ps=e.screenX-vo.screenX,ms=e.screenY-vo.screenY):ms=ps=0,vo=e),ps)},movementY:function(e){return"movementY"in e?e.movementY:ms}}),_c=pt(_l),sy=T({},_l,{dataTransfer:0}),ry=pt(sy),uy=T({},yo,{relatedTarget:0}),hs=pt(uy),cy=T({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),fy=pt(cy),dy=T({},Zn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),py=pt(dy),my=T({},Zn,{data:0}),Cc=pt(my),hy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yy[e])?!!n[e]:!1}function gs(){return vy}var Sy=T({},yo,{key:function(e){if(e.key){var n=hy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?Sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ty=pt(Sy),Ey=T({},_l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=pt(Ey),_y=T({},yo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),Cy=pt(_y),Ay=T({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),xy=pt(Ay),Ry=T({},_l,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ny=pt(Ry),My=T({},Zn,{newState:0,oldState:0}),by=pt(My),wy=[9,13,27,32],ys=tn&&"CompositionEvent"in window,So=null;tn&&"documentMode"in document&&(So=document.documentMode);var Iy=tn&&"TextEvent"in window&&!So,xc=tn&&(!ys||So&&8<So&&11>=So),Rc=" ",Nc=!1;function Mc(e,n){switch(e){case"keyup":return wy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function bc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ai=!1;function Dy(e,n){switch(e){case"compositionend":return bc(n);case"keypress":return n.which!==32?null:(Nc=!0,Rc);case"textInput":return e=n.data,e===Rc&&Nc?null:e;default:return null}}function Uy(e,n){if(Ai)return e==="compositionend"||!ys&&Mc(e,n)?(e=Tc(),vl=ds=Cn=null,Ai=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xc&&n.locale!=="ko"?null:n.data;default:return null}}var Ly={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ly[e.type]:n==="textarea"}function Ic(e,n,l,s){_i?Ci?Ci.push(s):Ci=[s]:_i=s,n=fa(n,"onChange"),0<n.length&&(l=new El("onChange","change",null,l,s),e.push({event:l,listeners:n}))}var To=null,Eo=null;function Gy(e){mp(e,0)}function Cl(e){var n=mo(e);if(dc(n))return e}function Dc(e,n){if(e==="change")return n}var Uc=!1;if(tn){var vs;if(tn){var Ss="oninput"in document;if(!Ss){var Lc=document.createElement("div");Lc.setAttribute("oninput","return;"),Ss=typeof Lc.oninput=="function"}vs=Ss}else vs=!1;Uc=vs&&(!document.documentMode||9<document.documentMode)}function Gc(){To&&(To.detachEvent("onpropertychange",Hc),Eo=To=null)}function Hc(e){if(e.propertyName==="value"&&Cl(Eo)){var n=[];Ic(n,Eo,e,us(e)),Sc(Gy,n)}}function Hy(e,n,l){e==="focusin"?(Gc(),To=n,Eo=l,To.attachEvent("onpropertychange",Hc)):e==="focusout"&&Gc()}function ky(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cl(Eo)}function qy(e,n){if(e==="click")return Cl(n)}function Vy(e,n){if(e==="input"||e==="change")return Cl(n)}function By(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var _t=typeof Object.is=="function"?Object.is:By;function _o(e,n){if(_t(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var l=Object.keys(e),s=Object.keys(n);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var d=l[s];if(!Za.call(n,d)||!_t(e[d],n[d]))return!1}return!0}function kc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function qc(e,n){var l=kc(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=n&&s>=n)return{node:l,offset:n-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=kc(l)}}function Vc(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vc(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Bc(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=gl(e.document);n instanceof e.HTMLIFrameElement;){try{var l=typeof n.contentWindow.location.href=="string"}catch{l=!1}if(l)e=n.contentWindow;else break;n=gl(e.document)}return n}function Ts(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var zy=tn&&"documentMode"in document&&11>=document.documentMode,xi=null,Es=null,Co=null,_s=!1;function zc(e,n,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;_s||xi==null||xi!==gl(s)||(s=xi,"selectionStart"in s&&Ts(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),Co&&_o(Co,s)||(Co=s,s=fa(Es,"onSelect"),0<s.length&&(n=new El("onSelect","select",null,n,l),e.push({event:n,listeners:s}),n.target=xi)))}function $n(e,n){var l={};return l[e.toLowerCase()]=n.toLowerCase(),l["Webkit"+e]="webkit"+n,l["Moz"+e]="moz"+n,l}var Ri={animationend:$n("Animation","AnimationEnd"),animationiteration:$n("Animation","AnimationIteration"),animationstart:$n("Animation","AnimationStart"),transitionrun:$n("Transition","TransitionRun"),transitionstart:$n("Transition","TransitionStart"),transitioncancel:$n("Transition","TransitionCancel"),transitionend:$n("Transition","TransitionEnd")},Cs={},Pc={};tn&&(Pc=document.createElement("div").style,"AnimationEvent"in window||(delete Ri.animationend.animation,delete Ri.animationiteration.animation,delete Ri.animationstart.animation),"TransitionEvent"in window||delete Ri.transitionend.transition);function Wn(e){if(Cs[e])return Cs[e];if(!Ri[e])return e;var n=Ri[e],l;for(l in n)if(n.hasOwnProperty(l)&&l in Pc)return Cs[e]=n[l];return e}var Oc=Wn("animationend"),Fc=Wn("animationiteration"),Jc=Wn("animationstart"),Py=Wn("transitionrun"),Oy=Wn("transitionstart"),Fy=Wn("transitioncancel"),Yc=Wn("transitionend"),Kc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Pt(e,n){Kc.set(e,n),Qn(n,[e])}var Al=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},It=[],Ni=0,xs=0;function xl(){for(var e=Ni,n=xs=Ni=0;n<e;){var l=It[n];It[n++]=null;var s=It[n];It[n++]=null;var d=It[n];It[n++]=null;var m=It[n];if(It[n++]=null,s!==null&&d!==null){var S=s.pending;S===null?d.next=d:(d.next=S.next,S.next=d),s.pending=d}m!==0&&Xc(l,d,m)}}function Rl(e,n,l,s){It[Ni++]=e,It[Ni++]=n,It[Ni++]=l,It[Ni++]=s,xs|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Rs(e,n,l,s){return Rl(e,n,l,s),Nl(e)}function jn(e,n){return Rl(e,null,null,n),Nl(e)}function Xc(e,n,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var d=!1,m=e.return;m!==null;)m.childLanes|=l,s=m.alternate,s!==null&&(s.childLanes|=l),m.tag===22&&(e=m.stateNode,e===null||e._visibility&1||(d=!0)),e=m,m=m.return;return e.tag===3?(m=e.stateNode,d&&n!==null&&(d=31-Et(l),e=m.hiddenUpdates,s=e[d],s===null?e[d]=[n]:s.push(n),n.lane=l|536870912),m):null}function Nl(e){if(50<Jo)throw Jo=0,Gr=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Mi={};function Jy(e,n,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ct(e,n,l,s){return new Jy(e,n,l,s)}function Ns(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nn(e,n){var l=e.alternate;return l===null?(l=Ct(e.tag,n,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=n,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,n=e.dependencies,l.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Qc(e,n){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,n=l.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ml(e,n,l,s,d,m){var S=0;if(s=e,typeof e=="function")Ns(e)&&(S=1);else if(typeof e=="string")S=Z0(e,l,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=Ct(31,l,n,d),e.elementType=Z,e.lanes=m,e;case G:return ei(l.children,d,m,n);case L:S=8,d|=24;break;case z:return e=Ct(12,l,n,d|2),e.elementType=z,e.lanes=m,e;case Q:return e=Ct(13,l,n,d),e.elementType=Q,e.lanes=m,e;case ee:return e=Ct(19,l,n,d),e.elementType=ee,e.lanes=m,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case O:S=10;break e;case Y:S=9;break e;case P:S=11;break e;case J:S=14;break e;case ue:S=16,s=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),s=null}return n=Ct(S,l,n,d),n.elementType=e,n.type=s,n.lanes=m,n}function ei(e,n,l,s){return e=Ct(7,e,s,n),e.lanes=l,e}function Ms(e,n,l){return e=Ct(6,e,null,n),e.lanes=l,e}function Zc(e){var n=Ct(18,null,null,0);return n.stateNode=e,n}function bs(e,n,l){return n=Ct(4,e.children!==null?e.children:[],e.key,n),n.lanes=l,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var $c=new WeakMap;function Dt(e,n){if(typeof e=="object"&&e!==null){var l=$c.get(e);return l!==void 0?l:(n={value:e,source:n,stack:Zu(n)},$c.set(e,n),n)}return{value:e,source:n,stack:Zu(n)}}var bi=[],wi=0,bl=null,Ao=0,Ut=[],Lt=0,An=null,Xt=1,Qt="";function on(e,n){bi[wi++]=Ao,bi[wi++]=bl,bl=e,Ao=n}function Wc(e,n,l){Ut[Lt++]=Xt,Ut[Lt++]=Qt,Ut[Lt++]=An,An=e;var s=Xt;e=Qt;var d=32-Et(s)-1;s&=~(1<<d),l+=1;var m=32-Et(n)+d;if(30<m){var S=d-d%5;m=(s&(1<<S)-1).toString(32),s>>=S,d-=S,Xt=1<<32-Et(n)+d|l<<d|s,Qt=m+e}else Xt=1<<m|l<<d|s,Qt=e}function ws(e){e.return!==null&&(on(e,1),Wc(e,1,0))}function Is(e){for(;e===bl;)bl=bi[--wi],bi[wi]=null,Ao=bi[--wi],bi[wi]=null;for(;e===An;)An=Ut[--Lt],Ut[Lt]=null,Qt=Ut[--Lt],Ut[Lt]=null,Xt=Ut[--Lt],Ut[Lt]=null}function jc(e,n){Ut[Lt++]=Xt,Ut[Lt++]=Qt,Ut[Lt++]=An,Xt=n.id,Qt=n.overflow,An=e}var tt=null,Le=null,ge=!1,xn=null,Gt=!1,Ds=Error(a(519));function Rn(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw xo(Dt(n,e)),Ds}function ef(e){var n=e.stateNode,l=e.type,s=e.memoizedProps;switch(n[et]=e,n[dt]=s,l){case"dialog":pe("cancel",n),pe("close",n);break;case"iframe":case"object":case"embed":pe("load",n);break;case"video":case"audio":for(l=0;l<Ko.length;l++)pe(Ko[l],n);break;case"source":pe("error",n);break;case"img":case"image":case"link":pe("error",n),pe("load",n);break;case"details":pe("toggle",n);break;case"input":pe("invalid",n),pc(n,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":pe("invalid",n);break;case"textarea":pe("invalid",n),hc(n,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||n.textContent===""+l||s.suppressHydrationWarning===!0||vp(n.textContent,l)?(s.popover!=null&&(pe("beforetoggle",n),pe("toggle",n)),s.onScroll!=null&&pe("scroll",n),s.onScrollEnd!=null&&pe("scrollend",n),s.onClick!=null&&(n.onclick=en),n=!0):n=!1,n||Rn(e,!0)}function tf(e){for(tt=e.return;tt;)switch(tt.tag){case 5:case 31:case 13:Gt=!1;return;case 27:case 3:Gt=!0;return;default:tt=tt.return}}function Ii(e){if(e!==tt)return!1;if(!ge)return tf(e),ge=!0,!1;var n=e.tag,l;if((l=n!==3&&n!==27)&&((l=n===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Zr(e.type,e.memoizedProps)),l=!l),l&&Le&&Rn(e),tf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Np(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Le=Np(e)}else n===27?(n=Le,Bn(e.type)?(e=tu,tu=null,Le=e):Le=n):Le=tt?kt(e.stateNode.nextSibling):null;return!0}function ti(){Le=tt=null,ge=!1}function Us(){var e=xn;return e!==null&&(yt===null?yt=e:yt.push.apply(yt,e),xn=null),e}function xo(e){xn===null?xn=[e]:xn.push(e)}var Ls=R(null),ni=null,ln=null;function Nn(e,n,l){K(Ls,n._currentValue),n._currentValue=l}function an(e){e._currentValue=Ls.current,B(Ls)}function Gs(e,n,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,s!==null&&(s.childLanes|=n)):s!==null&&(s.childLanes&n)!==n&&(s.childLanes|=n),e===l)break;e=e.return}}function Hs(e,n,l,s){var d=e.child;for(d!==null&&(d.return=e);d!==null;){var m=d.dependencies;if(m!==null){var S=d.child;m=m.firstContext;e:for(;m!==null;){var _=m;m=d;for(var A=0;A<n.length;A++)if(_.context===n[A]){m.lanes|=l,_=m.alternate,_!==null&&(_.lanes|=l),Gs(m.return,l,e),s||(S=null);break e}m=_.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=l,m=S.alternate,m!==null&&(m.lanes|=l),Gs(S,l,e),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===e){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Di(e,n,l,s){e=null;for(var d=n,m=!1;d!==null;){if(!m){if((d.flags&524288)!==0)m=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=d.type;_t(d.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(d===Ce.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(e!==null?e.push(Wo):e=[Wo])}d=d.return}e!==null&&Hs(n,e,l,s),n.flags|=262144}function wl(e){for(e=e.firstContext;e!==null;){if(!_t(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ii(e){ni=e,ln=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function nt(e){return nf(ni,e)}function Il(e,n){return ni===null&&ii(e),nf(e,n)}function nf(e,n){var l=n._currentValue;if(n={context:n,memoizedValue:l,next:null},ln===null){if(e===null)throw Error(a(308));ln=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ln=ln.next=n;return l}var Yy=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){n.aborted=!0,e.forEach(function(l){return l()})}},Ky=i.unstable_scheduleCallback,Xy=i.unstable_NormalPriority,Je={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ks(){return{controller:new Yy,data:new Map,refCount:0}}function Ro(e){e.refCount--,e.refCount===0&&Ky(Xy,function(){e.controller.abort()})}var No=null,qs=0,Ui=0,Li=null;function Qy(e,n){if(No===null){var l=No=[];qs=0,Ui=zr(),Li={status:"pending",value:void 0,then:function(s){l.push(s)}}}return qs++,n.then(of,of),n}function of(){if(--qs===0&&No!==null){Li!==null&&(Li.status="fulfilled");var e=No;No=null,Ui=0,Li=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Zy(e,n){var l=[],s={status:"pending",value:null,reason:null,then:function(d){l.push(d)}};return e.then(function(){s.status="fulfilled",s.value=n;for(var d=0;d<l.length;d++)(0,l[d])(n)},function(d){for(s.status="rejected",s.reason=d,d=0;d<l.length;d++)(0,l[d])(void 0)}),s}var lf=k.S;k.S=function(e,n){Pd=St(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qy(e,n),lf!==null&&lf(e,n)};var oi=R(null);function Vs(){var e=oi.current;return e!==null?e:Ie.pooledCache}function Dl(e,n){n===null?K(oi,oi.current):K(oi,n.pool)}function af(){var e=Vs();return e===null?null:{parent:Je._currentValue,pool:e}}var Gi=Error(a(460)),Bs=Error(a(474)),Ul=Error(a(542)),Ll={then:function(){}};function sf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rf(e,n,l){switch(l=e[l],l===void 0?e.push(n):l!==n&&(n.then(en,en),n=l),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cf(e),e;default:if(typeof n.status=="string")n.then(en,en);else{if(e=Ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(s){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=s}},function(s){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=s}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,cf(e),e}throw ai=n,Gi}}function li(e){try{var n=e._init;return n(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(ai=l,Gi):l}}var ai=null;function uf(){if(ai===null)throw Error(a(459));var e=ai;return ai=null,e}function cf(e){if(e===Gi||e===Ul)throw Error(a(483))}var Hi=null,Mo=0;function Gl(e){var n=Mo;return Mo+=1,Hi===null&&(Hi=[]),rf(Hi,e,n)}function bo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Hl(e,n){throw n.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ff(e){function n(M,x){if(e){var b=M.deletions;b===null?(M.deletions=[x],M.flags|=16):b.push(x)}}function l(M,x){if(!e)return null;for(;x!==null;)n(M,x),x=x.sibling;return null}function s(M){for(var x=new Map;M!==null;)M.key!==null?x.set(M.key,M):x.set(M.index,M),M=M.sibling;return x}function d(M,x){return M=nn(M,x),M.index=0,M.sibling=null,M}function m(M,x,b){return M.index=b,e?(b=M.alternate,b!==null?(b=b.index,b<x?(M.flags|=67108866,x):b):(M.flags|=67108866,x)):(M.flags|=1048576,x)}function S(M){return e&&M.alternate===null&&(M.flags|=67108866),M}function _(M,x,b,q){return x===null||x.tag!==6?(x=Ms(b,M.mode,q),x.return=M,x):(x=d(x,b),x.return=M,x)}function A(M,x,b,q){var te=b.type;return te===G?H(M,x,b.props.children,q,b.key):x!==null&&(x.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ue&&li(te)===x.type)?(x=d(x,b.props),bo(x,b),x.return=M,x):(x=Ml(b.type,b.key,b.props,null,M.mode,q),bo(x,b),x.return=M,x)}function w(M,x,b,q){return x===null||x.tag!==4||x.stateNode.containerInfo!==b.containerInfo||x.stateNode.implementation!==b.implementation?(x=bs(b,M.mode,q),x.return=M,x):(x=d(x,b.children||[]),x.return=M,x)}function H(M,x,b,q,te){return x===null||x.tag!==7?(x=ei(b,M.mode,q,te),x.return=M,x):(x=d(x,b),x.return=M,x)}function V(M,x,b){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return x=Ms(""+x,M.mode,b),x.return=M,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case C:return b=Ml(x.type,x.key,x.props,null,M.mode,b),bo(b,x),b.return=M,b;case I:return x=bs(x,M.mode,b),x.return=M,x;case ue:return x=li(x),V(M,x,b)}if(ft(x)||Ue(x))return x=ei(x,M.mode,b,null),x.return=M,x;if(typeof x.then=="function")return V(M,Gl(x),b);if(x.$$typeof===O)return V(M,Il(M,x),b);Hl(M,x)}return null}function D(M,x,b,q){var te=x!==null?x.key:null;if(typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint")return te!==null?null:_(M,x,""+b,q);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case C:return b.key===te?A(M,x,b,q):null;case I:return b.key===te?w(M,x,b,q):null;case ue:return b=li(b),D(M,x,b,q)}if(ft(b)||Ue(b))return te!==null?null:H(M,x,b,q,null);if(typeof b.then=="function")return D(M,x,Gl(b),q);if(b.$$typeof===O)return D(M,x,Il(M,b),q);Hl(M,b)}return null}function U(M,x,b,q,te){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return M=M.get(b)||null,_(x,M,""+q,te);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case C:return M=M.get(q.key===null?b:q.key)||null,A(x,M,q,te);case I:return M=M.get(q.key===null?b:q.key)||null,w(x,M,q,te);case ue:return q=li(q),U(M,x,b,q,te)}if(ft(q)||Ue(q))return M=M.get(b)||null,H(x,M,q,te,null);if(typeof q.then=="function")return U(M,x,b,Gl(q),te);if(q.$$typeof===O)return U(M,x,b,Il(x,q),te);Hl(x,q)}return null}function $(M,x,b,q){for(var te=null,ye=null,j=x,re=x=0,he=null;j!==null&&re<b.length;re++){j.index>re?(he=j,j=null):he=j.sibling;var ve=D(M,j,b[re],q);if(ve===null){j===null&&(j=he);break}e&&j&&ve.alternate===null&&n(M,j),x=m(ve,x,re),ye===null?te=ve:ye.sibling=ve,ye=ve,j=he}if(re===b.length)return l(M,j),ge&&on(M,re),te;if(j===null){for(;re<b.length;re++)j=V(M,b[re],q),j!==null&&(x=m(j,x,re),ye===null?te=j:ye.sibling=j,ye=j);return ge&&on(M,re),te}for(j=s(j);re<b.length;re++)he=U(j,M,re,b[re],q),he!==null&&(e&&he.alternate!==null&&j.delete(he.key===null?re:he.key),x=m(he,x,re),ye===null?te=he:ye.sibling=he,ye=he);return e&&j.forEach(function(Jn){return n(M,Jn)}),ge&&on(M,re),te}function ie(M,x,b,q){if(b==null)throw Error(a(151));for(var te=null,ye=null,j=x,re=x=0,he=null,ve=b.next();j!==null&&!ve.done;re++,ve=b.next()){j.index>re?(he=j,j=null):he=j.sibling;var Jn=D(M,j,ve.value,q);if(Jn===null){j===null&&(j=he);break}e&&j&&Jn.alternate===null&&n(M,j),x=m(Jn,x,re),ye===null?te=Jn:ye.sibling=Jn,ye=Jn,j=he}if(ve.done)return l(M,j),ge&&on(M,re),te;if(j===null){for(;!ve.done;re++,ve=b.next())ve=V(M,ve.value,q),ve!==null&&(x=m(ve,x,re),ye===null?te=ve:ye.sibling=ve,ye=ve);return ge&&on(M,re),te}for(j=s(j);!ve.done;re++,ve=b.next())ve=U(j,M,re,ve.value,q),ve!==null&&(e&&ve.alternate!==null&&j.delete(ve.key===null?re:ve.key),x=m(ve,x,re),ye===null?te=ve:ye.sibling=ve,ye=ve);return e&&j.forEach(function(sv){return n(M,sv)}),ge&&on(M,re),te}function be(M,x,b,q){if(typeof b=="object"&&b!==null&&b.type===G&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case C:e:{for(var te=b.key;x!==null;){if(x.key===te){if(te=b.type,te===G){if(x.tag===7){l(M,x.sibling),q=d(x,b.props.children),q.return=M,M=q;break e}}else if(x.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===ue&&li(te)===x.type){l(M,x.sibling),q=d(x,b.props),bo(q,b),q.return=M,M=q;break e}l(M,x);break}else n(M,x);x=x.sibling}b.type===G?(q=ei(b.props.children,M.mode,q,b.key),q.return=M,M=q):(q=Ml(b.type,b.key,b.props,null,M.mode,q),bo(q,b),q.return=M,M=q)}return S(M);case I:e:{for(te=b.key;x!==null;){if(x.key===te)if(x.tag===4&&x.stateNode.containerInfo===b.containerInfo&&x.stateNode.implementation===b.implementation){l(M,x.sibling),q=d(x,b.children||[]),q.return=M,M=q;break e}else{l(M,x);break}else n(M,x);x=x.sibling}q=bs(b,M.mode,q),q.return=M,M=q}return S(M);case ue:return b=li(b),be(M,x,b,q)}if(ft(b))return $(M,x,b,q);if(Ue(b)){if(te=Ue(b),typeof te!="function")throw Error(a(150));return b=te.call(b),ie(M,x,b,q)}if(typeof b.then=="function")return be(M,x,Gl(b),q);if(b.$$typeof===O)return be(M,x,Il(M,b),q);Hl(M,b)}return typeof b=="string"&&b!==""||typeof b=="number"||typeof b=="bigint"?(b=""+b,x!==null&&x.tag===6?(l(M,x.sibling),q=d(x,b),q.return=M,M=q):(l(M,x),q=Ms(b,M.mode,q),q.return=M,M=q),S(M)):l(M,x)}return function(M,x,b,q){try{Mo=0;var te=be(M,x,b,q);return Hi=null,te}catch(j){if(j===Gi||j===Ul)throw j;var ye=Ct(29,j,null,M.mode);return ye.lanes=q,ye.return=M,ye}finally{}}}var si=ff(!0),df=ff(!1),Mn=!1;function zs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ps(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function wn(e,n,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ee&2)!==0){var d=s.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),s.pending=n,n=Nl(e),Xc(e,null,l),n}return Rl(e,s,n,l),Nl(e)}function wo(e,n,l){if(n=n.updateQueue,n!==null&&(n=n.shared,(l&4194048)!==0)){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,nc(e,l)}}function Os(e,n){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var d=null,m=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};m===null?d=m=S:m=m.next=S,l=l.next}while(l!==null);m===null?d=m=n:m=m.next=n}else d=m=n;l={baseState:s.baseState,firstBaseUpdate:d,lastBaseUpdate:m,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=n:e.next=n,l.lastBaseUpdate=n}var Fs=!1;function Io(){if(Fs){var e=Li;if(e!==null)throw e}}function Do(e,n,l,s){Fs=!1;var d=e.updateQueue;Mn=!1;var m=d.firstBaseUpdate,S=d.lastBaseUpdate,_=d.shared.pending;if(_!==null){d.shared.pending=null;var A=_,w=A.next;A.next=null,S===null?m=w:S.next=w,S=A;var H=e.alternate;H!==null&&(H=H.updateQueue,_=H.lastBaseUpdate,_!==S&&(_===null?H.firstBaseUpdate=w:_.next=w,H.lastBaseUpdate=A))}if(m!==null){var V=d.baseState;S=0,H=w=A=null,_=m;do{var D=_.lane&-536870913,U=D!==_.lane;if(U?(me&D)===D:(s&D)===D){D!==0&&D===Ui&&(Fs=!0),H!==null&&(H=H.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var $=e,ie=_;D=n;var be=l;switch(ie.tag){case 1:if($=ie.payload,typeof $=="function"){V=$.call(be,V,D);break e}V=$;break e;case 3:$.flags=$.flags&-65537|128;case 0:if($=ie.payload,D=typeof $=="function"?$.call(be,V,D):$,D==null)break e;V=T({},V,D);break e;case 2:Mn=!0}}D=_.callback,D!==null&&(e.flags|=64,U&&(e.flags|=8192),U=d.callbacks,U===null?d.callbacks=[D]:U.push(D))}else U={lane:D,tag:_.tag,payload:_.payload,callback:_.callback,next:null},H===null?(w=H=U,A=V):H=H.next=U,S|=D;if(_=_.next,_===null){if(_=d.shared.pending,_===null)break;U=_,_=U.next,U.next=null,d.lastBaseUpdate=U,d.shared.pending=null}}while(!0);H===null&&(A=V),d.baseState=A,d.firstBaseUpdate=w,d.lastBaseUpdate=H,m===null&&(d.shared.lanes=0),Gn|=S,e.lanes=S,e.memoizedState=V}}function pf(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function mf(e,n){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)pf(l[e],n)}var ki=R(null),kl=R(0);function hf(e,n){e=hn,K(kl,e),K(ki,n),hn=e|n.baseLanes}function Js(){K(kl,hn),K(ki,ki.current)}function Ys(){hn=kl.current,B(ki),B(kl)}var At=R(null),Ht=null;function In(e){var n=e.alternate;K(Pe,Pe.current&1),K(At,e),Ht===null&&(n===null||ki.current!==null||n.memoizedState!==null)&&(Ht=e)}function Ks(e){K(Pe,Pe.current),K(At,e),Ht===null&&(Ht=e)}function gf(e){e.tag===22?(K(Pe,Pe.current),K(At,e),Ht===null&&(Ht=e)):Dn()}function Dn(){K(Pe,Pe.current),K(At,At.current)}function xt(e){B(At),Ht===e&&(Ht=null),B(Pe)}var Pe=R(0);function ql(e){for(var n=e;n!==null;){if(n.tag===13){var l=n.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||jr(l)||eu(l)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var sn=0,se=null,Ne=null,Ye=null,Vl=!1,qi=!1,ri=!1,Bl=0,Uo=0,Vi=null,$y=0;function qe(){throw Error(a(321))}function Xs(e,n){if(n===null)return!1;for(var l=0;l<n.length&&l<e.length;l++)if(!_t(e[l],n[l]))return!1;return!0}function Qs(e,n,l,s,d,m){return sn=m,se=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,k.H=e===null||e.memoizedState===null?jf:cr,ri=!1,m=l(s,d),ri=!1,qi&&(m=vf(n,l,s,d)),yf(e),m}function yf(e){k.H=Ho;var n=Ne!==null&&Ne.next!==null;if(sn=0,Ye=Ne=se=null,Vl=!1,Uo=0,Vi=null,n)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&wl(e)&&(Ke=!0))}function vf(e,n,l,s){se=e;var d=0;do{if(qi&&(Vi=null),Uo=0,qi=!1,25<=d)throw Error(a(301));if(d+=1,Ye=Ne=null,e.updateQueue!=null){var m=e.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}k.H=ed,m=n(l,s)}while(qi);return m}function Wy(){var e=k.H,n=e.useState()[0];return n=typeof n.then=="function"?Lo(n):n,e=e.useState()[0],(Ne!==null?Ne.memoizedState:null)!==e&&(se.flags|=1024),n}function Zs(){var e=Bl!==0;return Bl=0,e}function $s(e,n,l){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~l}function Ws(e){if(Vl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vl=!1}sn=0,Ye=Ne=se=null,qi=!1,Uo=Bl=0,Vi=null}function rt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?se.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Oe(){if(Ne===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var n=Ye===null?se.memoizedState:Ye.next;if(n!==null)Ye=n,Ne=e;else{if(e===null)throw se.alternate===null?Error(a(467)):Error(a(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ye===null?se.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function zl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lo(e){var n=Uo;return Uo+=1,Vi===null&&(Vi=[]),e=rf(Vi,e,n),n=se,(Ye===null?n.memoizedState:Ye.next)===null&&(n=n.alternate,k.H=n===null||n.memoizedState===null?jf:cr),e}function Pl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Lo(e);if(e.$$typeof===O)return nt(e)}throw Error(a(438,String(e)))}function js(e){var n=null,l=se.updateQueue;if(l!==null&&(n=l.memoCache),n==null){var s=se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(n={data:s.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),l===null&&(l=zl(),se.updateQueue=l),l.memoCache=n,l=n.data[n.index],l===void 0)for(l=n.data[n.index]=Array(e),s=0;s<e;s++)l[s]=ce;return n.index++,l}function rn(e,n){return typeof n=="function"?n(e):n}function Ol(e){var n=Oe();return er(n,Ne,e)}function er(e,n,l){var s=e.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=l;var d=e.baseQueue,m=s.pending;if(m!==null){if(d!==null){var S=d.next;d.next=m.next,m.next=S}n.baseQueue=d=m,s.pending=null}if(m=e.baseState,d===null)e.memoizedState=m;else{n=d.next;var _=S=null,A=null,w=n,H=!1;do{var V=w.lane&-536870913;if(V!==w.lane?(me&V)===V:(sn&V)===V){var D=w.revertLane;if(D===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null}),V===Ui&&(H=!0);else if((sn&D)===D){w=w.next,D===Ui&&(H=!0);continue}else V={lane:0,revertLane:w.revertLane,gesture:null,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(_=A=V,S=m):A=A.next=V,se.lanes|=D,Gn|=D;V=w.action,ri&&l(m,V),m=w.hasEagerState?w.eagerState:l(m,V)}else D={lane:V,revertLane:w.revertLane,gesture:w.gesture,action:w.action,hasEagerState:w.hasEagerState,eagerState:w.eagerState,next:null},A===null?(_=A=D,S=m):A=A.next=D,se.lanes|=V,Gn|=V;w=w.next}while(w!==null&&w!==n);if(A===null?S=m:A.next=_,!_t(m,e.memoizedState)&&(Ke=!0,H&&(l=Li,l!==null)))throw l;e.memoizedState=m,e.baseState=S,e.baseQueue=A,s.lastRenderedState=m}return d===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function tr(e){var n=Oe(),l=n.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var s=l.dispatch,d=l.pending,m=n.memoizedState;if(d!==null){l.pending=null;var S=d=d.next;do m=e(m,S.action),S=S.next;while(S!==d);_t(m,n.memoizedState)||(Ke=!0),n.memoizedState=m,n.baseQueue===null&&(n.baseState=m),l.lastRenderedState=m}return[m,s]}function Sf(e,n,l){var s=se,d=Oe(),m=ge;if(m){if(l===void 0)throw Error(a(407));l=l()}else l=n();var S=!_t((Ne||d).memoizedState,l);if(S&&(d.memoizedState=l,Ke=!0),d=d.queue,or(_f.bind(null,s,d,e),[e]),d.getSnapshot!==n||S||Ye!==null&&Ye.memoizedState.tag&1){if(s.flags|=2048,Bi(9,{destroy:void 0},Ef.bind(null,s,d,l,n),null),Ie===null)throw Error(a(349));m||(sn&127)!==0||Tf(s,n,l)}return l}function Tf(e,n,l){e.flags|=16384,e={getSnapshot:n,value:l},n=se.updateQueue,n===null?(n=zl(),se.updateQueue=n,n.stores=[e]):(l=n.stores,l===null?n.stores=[e]:l.push(e))}function Ef(e,n,l,s){n.value=l,n.getSnapshot=s,Cf(n)&&Af(e)}function _f(e,n,l){return l(function(){Cf(n)&&Af(e)})}function Cf(e){var n=e.getSnapshot;e=e.value;try{var l=n();return!_t(e,l)}catch{return!0}}function Af(e){var n=jn(e,2);n!==null&&vt(n,e,2)}function nr(e){var n=rt();if(typeof e=="function"){var l=e;if(e=l(),ri){En(!0);try{l()}finally{En(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:e},n}function xf(e,n,l,s){return e.baseState=l,er(e,Ne,typeof s=="function"?s:rn)}function jy(e,n,l,s,d){if(Yl(e))throw Error(a(485));if(e=n.action,e!==null){var m={payload:d,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){m.listeners.push(S)}};k.T!==null?l(!0):m.isTransition=!1,s(m),l=n.pending,l===null?(m.next=n.pending=m,Rf(n,m)):(m.next=l.next,n.pending=l.next=m)}}function Rf(e,n){var l=n.action,s=n.payload,d=e.state;if(n.isTransition){var m=k.T,S={};k.T=S;try{var _=l(d,s),A=k.S;A!==null&&A(S,_),Nf(e,n,_)}catch(w){ir(e,n,w)}finally{m!==null&&S.types!==null&&(m.types=S.types),k.T=m}}else try{m=l(d,s),Nf(e,n,m)}catch(w){ir(e,n,w)}}function Nf(e,n,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){Mf(e,n,s)},function(s){return ir(e,n,s)}):Mf(e,n,l)}function Mf(e,n,l){n.status="fulfilled",n.value=l,bf(n),e.state=l,n=e.pending,n!==null&&(l=n.next,l===n?e.pending=null:(l=l.next,n.next=l,Rf(e,l)))}function ir(e,n,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do n.status="rejected",n.reason=l,bf(n),n=n.next;while(n!==s)}e.action=null}function bf(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wf(e,n){return n}function If(e,n){if(ge){var l=Ie.formState;if(l!==null){e:{var s=se;if(ge){if(Le){t:{for(var d=Le,m=Gt;d.nodeType!==8;){if(!m){d=null;break t}if(d=kt(d.nextSibling),d===null){d=null;break t}}m=d.data,d=m==="F!"||m==="F"?d:null}if(d){Le=kt(d.nextSibling),s=d.data==="F!";break e}}Rn(s)}s=!1}s&&(n=l[0])}}return l=rt(),l.memoizedState=l.baseState=n,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wf,lastRenderedState:n},l.queue=s,l=Zf.bind(null,se,s),s.dispatch=l,s=nr(!1),m=ur.bind(null,se,!1,s.queue),s=rt(),d={state:n,dispatch:null,action:e,pending:null},s.queue=d,l=jy.bind(null,se,d,m,l),d.dispatch=l,s.memoizedState=e,[n,l,!1]}function Df(e){var n=Oe();return Uf(n,Ne,e)}function Uf(e,n,l){if(n=er(e,n,wf)[0],e=Ol(rn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var s=Lo(n)}catch(S){throw S===Gi?Ul:S}else s=n;n=Oe();var d=n.queue,m=d.dispatch;return l!==n.memoizedState&&(se.flags|=2048,Bi(9,{destroy:void 0},e0.bind(null,d,l),null)),[s,m,e]}function e0(e,n){e.action=n}function Lf(e){var n=Oe(),l=Ne;if(l!==null)return Uf(n,l,e);Oe(),n=n.memoizedState,l=Oe();var s=l.queue.dispatch;return l.memoizedState=e,[n,s,!1]}function Bi(e,n,l,s){return e={tag:e,create:l,deps:s,inst:n,next:null},n=se.updateQueue,n===null&&(n=zl(),se.updateQueue=n),l=n.lastEffect,l===null?n.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,n.lastEffect=e),e}function Gf(){return Oe().memoizedState}function Fl(e,n,l,s){var d=rt();se.flags|=e,d.memoizedState=Bi(1|n,{destroy:void 0},l,s===void 0?null:s)}function Jl(e,n,l,s){var d=Oe();s=s===void 0?null:s;var m=d.memoizedState.inst;Ne!==null&&s!==null&&Xs(s,Ne.memoizedState.deps)?d.memoizedState=Bi(n,m,l,s):(se.flags|=e,d.memoizedState=Bi(1|n,m,l,s))}function Hf(e,n){Fl(8390656,8,e,n)}function or(e,n){Jl(2048,8,e,n)}function t0(e){se.flags|=4;var n=se.updateQueue;if(n===null)n=zl(),se.updateQueue=n,n.events=[e];else{var l=n.events;l===null?n.events=[e]:l.push(e)}}function kf(e){var n=Oe().memoizedState;return t0({ref:n,nextImpl:e}),function(){if((Ee&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function qf(e,n){return Jl(4,2,e,n)}function Vf(e,n){return Jl(4,4,e,n)}function Bf(e,n){if(typeof n=="function"){e=e();var l=n(e);return function(){typeof l=="function"?l():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function zf(e,n,l){l=l!=null?l.concat([e]):null,Jl(4,4,Bf.bind(null,n,e),l)}function lr(){}function Pf(e,n){var l=Oe();n=n===void 0?null:n;var s=l.memoizedState;return n!==null&&Xs(n,s[1])?s[0]:(l.memoizedState=[e,n],e)}function Of(e,n){var l=Oe();n=n===void 0?null:n;var s=l.memoizedState;if(n!==null&&Xs(n,s[1]))return s[0];if(s=e(),ri){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[s,n],s}function ar(e,n,l){return l===void 0||(sn&1073741824)!==0&&(me&261930)===0?e.memoizedState=n:(e.memoizedState=l,e=Fd(),se.lanes|=e,Gn|=e,l)}function Ff(e,n,l,s){return _t(l,n)?l:ki.current!==null?(e=ar(e,l,s),_t(e,n)||(Ke=!0),e):(sn&42)===0||(sn&1073741824)!==0&&(me&261930)===0?(Ke=!0,e.memoizedState=l):(e=Fd(),se.lanes|=e,Gn|=e,n)}function Jf(e,n,l,s,d){var m=F.p;F.p=m!==0&&8>m?m:8;var S=k.T,_={};k.T=_,ur(e,!1,n,l);try{var A=d(),w=k.S;if(w!==null&&w(_,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Zy(A,s);Go(e,n,H,Mt(e))}else Go(e,n,s,Mt(e))}catch(V){Go(e,n,{then:function(){},status:"rejected",reason:V},Mt())}finally{F.p=m,S!==null&&_.types!==null&&(S.types=_.types),k.T=S}}function n0(){}function sr(e,n,l,s){if(e.tag!==5)throw Error(a(476));var d=Yf(e).queue;Jf(e,d,n,ne,l===null?n0:function(){return Kf(e),l(s)})}function Yf(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:ne},next:null};var l={};return n.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:rn,lastRenderedState:l},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kf(e){var n=Yf(e);n.next===null&&(n=e.alternate.memoizedState),Go(e,n.next.queue,{},Mt())}function rr(){return nt(Wo)}function Xf(){return Oe().memoizedState}function Qf(){return Oe().memoizedState}function i0(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var l=Mt();e=bn(l);var s=wn(n,e,l);s!==null&&(vt(s,n,l),wo(s,n,l)),n={cache:ks()},e.payload=n;return}n=n.return}}function o0(e,n,l){var s=Mt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yl(e)?$f(n,l):(l=Rs(e,n,l,s),l!==null&&(vt(l,e,s),Wf(l,n,s)))}function Zf(e,n,l){var s=Mt();Go(e,n,l,s)}function Go(e,n,l,s){var d={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Yl(e))$f(n,d);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=n.lastRenderedReducer,m!==null))try{var S=n.lastRenderedState,_=m(S,l);if(d.hasEagerState=!0,d.eagerState=_,_t(_,S))return Rl(e,n,d,0),Ie===null&&xl(),!1}catch{}finally{}if(l=Rs(e,n,d,s),l!==null)return vt(l,e,s),Wf(l,n,s),!0}return!1}function ur(e,n,l,s){if(s={lane:2,revertLane:zr(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yl(e)){if(n)throw Error(a(479))}else n=Rs(e,l,s,2),n!==null&&vt(n,e,2)}function Yl(e){var n=e.alternate;return e===se||n!==null&&n===se}function $f(e,n){qi=Vl=!0;var l=e.pending;l===null?n.next=n:(n.next=l.next,l.next=n),e.pending=n}function Wf(e,n,l){if((l&4194048)!==0){var s=n.lanes;s&=e.pendingLanes,l|=s,n.lanes=l,nc(e,l)}}var Ho={readContext:nt,use:Pl,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useLayoutEffect:qe,useInsertionEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useSyncExternalStore:qe,useId:qe,useHostTransitionStatus:qe,useFormState:qe,useActionState:qe,useOptimistic:qe,useMemoCache:qe,useCacheRefresh:qe};Ho.useEffectEvent=qe;var jf={readContext:nt,use:Pl,useCallback:function(e,n){return rt().memoizedState=[e,n===void 0?null:n],e},useContext:nt,useEffect:Hf,useImperativeHandle:function(e,n,l){l=l!=null?l.concat([e]):null,Fl(4194308,4,Bf.bind(null,n,e),l)},useLayoutEffect:function(e,n){return Fl(4194308,4,e,n)},useInsertionEffect:function(e,n){Fl(4,2,e,n)},useMemo:function(e,n){var l=rt();n=n===void 0?null:n;var s=e();if(ri){En(!0);try{e()}finally{En(!1)}}return l.memoizedState=[s,n],s},useReducer:function(e,n,l){var s=rt();if(l!==void 0){var d=l(n);if(ri){En(!0);try{l(n)}finally{En(!1)}}}else d=n;return s.memoizedState=s.baseState=d,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:d},s.queue=e,e=e.dispatch=o0.bind(null,se,e),[s.memoizedState,e]},useRef:function(e){var n=rt();return e={current:e},n.memoizedState=e},useState:function(e){e=nr(e);var n=e.queue,l=Zf.bind(null,se,n);return n.dispatch=l,[e.memoizedState,l]},useDebugValue:lr,useDeferredValue:function(e,n){var l=rt();return ar(l,e,n)},useTransition:function(){var e=nr(!1);return e=Jf.bind(null,se,e.queue,!0,!1),rt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,l){var s=se,d=rt();if(ge){if(l===void 0)throw Error(a(407));l=l()}else{if(l=n(),Ie===null)throw Error(a(349));(me&127)!==0||Tf(s,n,l)}d.memoizedState=l;var m={value:l,getSnapshot:n};return d.queue=m,Hf(_f.bind(null,s,m,e),[e]),s.flags|=2048,Bi(9,{destroy:void 0},Ef.bind(null,s,m,l,n),null),l},useId:function(){var e=rt(),n=Ie.identifierPrefix;if(ge){var l=Qt,s=Xt;l=(s&~(1<<32-Et(s)-1)).toString(32)+l,n="_"+n+"R_"+l,l=Bl++,0<l&&(n+="H"+l.toString(32)),n+="_"}else l=$y++,n="_"+n+"r_"+l.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:rr,useFormState:If,useActionState:If,useOptimistic:function(e){var n=rt();n.memoizedState=n.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=l,n=ur.bind(null,se,!0,l),l.dispatch=n,[e,n]},useMemoCache:js,useCacheRefresh:function(){return rt().memoizedState=i0.bind(null,se)},useEffectEvent:function(e){var n=rt(),l={impl:e};return n.memoizedState=l,function(){if((Ee&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},cr={readContext:nt,use:Pl,useCallback:Pf,useContext:nt,useEffect:or,useImperativeHandle:zf,useInsertionEffect:qf,useLayoutEffect:Vf,useMemo:Of,useReducer:Ol,useRef:Gf,useState:function(){return Ol(rn)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Oe();return Ff(l,Ne.memoizedState,e,n)},useTransition:function(){var e=Ol(rn)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:Sf,useId:Xf,useHostTransitionStatus:rr,useFormState:Df,useActionState:Df,useOptimistic:function(e,n){var l=Oe();return xf(l,Ne,e,n)},useMemoCache:js,useCacheRefresh:Qf};cr.useEffectEvent=kf;var ed={readContext:nt,use:Pl,useCallback:Pf,useContext:nt,useEffect:or,useImperativeHandle:zf,useInsertionEffect:qf,useLayoutEffect:Vf,useMemo:Of,useReducer:tr,useRef:Gf,useState:function(){return tr(rn)},useDebugValue:lr,useDeferredValue:function(e,n){var l=Oe();return Ne===null?ar(l,e,n):Ff(l,Ne.memoizedState,e,n)},useTransition:function(){var e=tr(rn)[0],n=Oe().memoizedState;return[typeof e=="boolean"?e:Lo(e),n]},useSyncExternalStore:Sf,useId:Xf,useHostTransitionStatus:rr,useFormState:Lf,useActionState:Lf,useOptimistic:function(e,n){var l=Oe();return Ne!==null?xf(l,Ne,e,n):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:js,useCacheRefresh:Qf};ed.useEffectEvent=kf;function fr(e,n,l,s){n=e.memoizedState,l=l(s,n),l=l==null?n:T({},n,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var dr={enqueueSetState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=bn(s);d.payload=n,l!=null&&(d.callback=l),n=wn(e,d,s),n!==null&&(vt(n,e,s),wo(n,e,s))},enqueueReplaceState:function(e,n,l){e=e._reactInternals;var s=Mt(),d=bn(s);d.tag=1,d.payload=n,l!=null&&(d.callback=l),n=wn(e,d,s),n!==null&&(vt(n,e,s),wo(n,e,s))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var l=Mt(),s=bn(l);s.tag=2,n!=null&&(s.callback=n),n=wn(e,s,l),n!==null&&(vt(n,e,l),wo(n,e,l))}};function td(e,n,l,s,d,m,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,m,S):n.prototype&&n.prototype.isPureReactComponent?!_o(l,s)||!_o(d,m):!0}function nd(e,n,l,s){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(l,s),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(l,s),n.state!==e&&dr.enqueueReplaceState(n,n.state,null)}function ui(e,n){var l=n;if("ref"in n){l={};for(var s in n)s!=="ref"&&(l[s]=n[s])}if(e=e.defaultProps){l===n&&(l=T({},l));for(var d in e)l[d]===void 0&&(l[d]=e[d])}return l}function id(e){Al(e)}function od(e){console.error(e)}function ld(e){Al(e)}function Kl(e,n){try{var l=e.onUncaughtError;l(n.value,{componentStack:n.stack})}catch(s){setTimeout(function(){throw s})}}function ad(e,n,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function pr(e,n,l){return l=bn(l),l.tag=3,l.payload={element:null},l.callback=function(){Kl(e,n)},l}function sd(e){return e=bn(e),e.tag=3,e}function rd(e,n,l,s){var d=l.type.getDerivedStateFromError;if(typeof d=="function"){var m=s.value;e.payload=function(){return d(m)},e.callback=function(){ad(n,l,s)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){ad(n,l,s),typeof d!="function"&&(Hn===null?Hn=new Set([this]):Hn.add(this));var _=s.stack;this.componentDidCatch(s.value,{componentStack:_!==null?_:""})})}function l0(e,n,l,s,d){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(n=l.alternate,n!==null&&Di(n,l,d,!0),l=At.current,l!==null){switch(l.tag){case 31:case 13:return Ht===null?la():l.alternate===null&&Ve===0&&(Ve=3),l.flags&=-257,l.flags|=65536,l.lanes=d,s===Ll?l.flags|=16384:(n=l.updateQueue,n===null?l.updateQueue=new Set([s]):n.add(s),qr(e,s,d)),!1;case 22:return l.flags|=65536,s===Ll?l.flags|=16384:(n=l.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=n):(l=n.retryQueue,l===null?n.retryQueue=new Set([s]):l.add(s)),qr(e,s,d)),!1}throw Error(a(435,l.tag))}return qr(e,s,d),la(),!1}if(ge)return n=At.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,s!==Ds&&(e=Error(a(422),{cause:s}),xo(Dt(e,l)))):(s!==Ds&&(n=Error(a(423),{cause:s}),xo(Dt(n,l))),e=e.current.alternate,e.flags|=65536,d&=-d,e.lanes|=d,s=Dt(s,l),d=pr(e.stateNode,s,d),Os(e,d),Ve!==4&&(Ve=2)),!1;var m=Error(a(520),{cause:s});if(m=Dt(m,l),Fo===null?Fo=[m]:Fo.push(m),Ve!==4&&(Ve=2),n===null)return!0;s=Dt(s,l),l=n;do{switch(l.tag){case 3:return l.flags|=65536,e=d&-d,l.lanes|=e,e=pr(l.stateNode,s,e),Os(l,e),!1;case 1:if(n=l.type,m=l.stateNode,(l.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Hn===null||!Hn.has(m))))return l.flags|=65536,d&=-d,l.lanes|=d,d=sd(d),rd(d,e,l,s),Os(l,d),!1}l=l.return}while(l!==null);return!1}var mr=Error(a(461)),Ke=!1;function it(e,n,l,s){n.child=e===null?df(n,null,l,s):si(n,e.child,l,s)}function ud(e,n,l,s,d){l=l.render;var m=n.ref;if("ref"in s){var S={};for(var _ in s)_!=="ref"&&(S[_]=s[_])}else S=s;return ii(n),s=Qs(e,n,l,S,m,d),_=Zs(),e!==null&&!Ke?($s(e,n,d),un(e,n,d)):(ge&&_&&ws(n),n.flags|=1,it(e,n,s,d),n.child)}function cd(e,n,l,s,d){if(e===null){var m=l.type;return typeof m=="function"&&!Ns(m)&&m.defaultProps===void 0&&l.compare===null?(n.tag=15,n.type=m,fd(e,n,m,s,d)):(e=Ml(l.type,null,s,n,n.mode,d),e.ref=n.ref,e.return=n,n.child=e)}if(m=e.child,!_r(e,d)){var S=m.memoizedProps;if(l=l.compare,l=l!==null?l:_o,l(S,s)&&e.ref===n.ref)return un(e,n,d)}return n.flags|=1,e=nn(m,s),e.ref=n.ref,e.return=n,n.child=e}function fd(e,n,l,s,d){if(e!==null){var m=e.memoizedProps;if(_o(m,s)&&e.ref===n.ref)if(Ke=!1,n.pendingProps=s=m,_r(e,d))(e.flags&131072)!==0&&(Ke=!0);else return n.lanes=e.lanes,un(e,n,d)}return hr(e,n,l,s,d)}function dd(e,n,l,s){var d=s.children,m=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((n.flags&128)!==0){if(m=m!==null?m.baseLanes|l:l,e!==null){for(s=n.child=e.child,d=0;s!==null;)d=d|s.lanes|s.childLanes,s=s.sibling;s=d&~m}else s=0,n.child=null;return pd(e,n,m,l,s)}if((l&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Dl(n,m!==null?m.cachePool:null),m!==null?hf(n,m):Js(),gf(n);else return s=n.lanes=536870912,pd(e,n,m!==null?m.baseLanes|l:l,l,s)}else m!==null?(Dl(n,m.cachePool),hf(n,m),Dn(),n.memoizedState=null):(e!==null&&Dl(n,null),Js(),Dn());return it(e,n,d,l),n.child}function ko(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pd(e,n,l,s,d){var m=Vs();return m=m===null?null:{parent:Je._currentValue,pool:m},n.memoizedState={baseLanes:l,cachePool:m},e!==null&&Dl(n,null),Js(),gf(n),e!==null&&Di(e,n,s,!0),n.childLanes=d,null}function Xl(e,n){return n=Zl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function md(e,n,l){return si(n,e.child,null,l),e=Xl(n,n.pendingProps),e.flags|=2,xt(n),n.memoizedState=null,e}function a0(e,n,l){var s=n.pendingProps,d=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ge){if(s.mode==="hidden")return e=Xl(n,s),n.lanes=536870912,ko(null,e);if(Ks(n),(e=Le)?(e=Rp(e,Gt),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=Zc(e),l.return=n,n.child=l,tt=n,Le=null)):e=null,e===null)throw Rn(n);return n.lanes=536870912,null}return Xl(n,s)}var m=e.memoizedState;if(m!==null){var S=m.dehydrated;if(Ks(n),d)if(n.flags&256)n.flags&=-257,n=md(e,n,l);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ke||Di(e,n,l,!1),d=(l&e.childLanes)!==0,Ke||d){if(s=Ie,s!==null&&(S=ic(s,l),S!==0&&S!==m.retryLane))throw m.retryLane=S,jn(e,S),vt(s,e,S),mr;la(),n=md(e,n,l)}else e=m.treeContext,Le=kt(S.nextSibling),tt=n,ge=!0,xn=null,Gt=!1,e!==null&&jc(n,e),n=Xl(n,s),n.flags|=4096;return n}return e=nn(e.child,{mode:s.mode,children:s.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ql(e,n){var l=n.ref;if(l===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(n.flags|=4194816)}}function hr(e,n,l,s,d){return ii(n),l=Qs(e,n,l,s,void 0,d),s=Zs(),e!==null&&!Ke?($s(e,n,d),un(e,n,d)):(ge&&s&&ws(n),n.flags|=1,it(e,n,l,d),n.child)}function hd(e,n,l,s,d,m){return ii(n),n.updateQueue=null,l=vf(n,s,l,d),yf(e),s=Zs(),e!==null&&!Ke?($s(e,n,m),un(e,n,m)):(ge&&s&&ws(n),n.flags|=1,it(e,n,l,m),n.child)}function gd(e,n,l,s,d){if(ii(n),n.stateNode===null){var m=Mi,S=l.contextType;typeof S=="object"&&S!==null&&(m=nt(S)),m=new l(s,m),n.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=dr,n.stateNode=m,m._reactInternals=n,m=n.stateNode,m.props=s,m.state=n.memoizedState,m.refs={},zs(n),S=l.contextType,m.context=typeof S=="object"&&S!==null?nt(S):Mi,m.state=n.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(fr(n,l,S,s),m.state=n.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(S=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),S!==m.state&&dr.enqueueReplaceState(m,m.state,null),Do(n,s,m,d),Io(),m.state=n.memoizedState),typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!0}else if(e===null){m=n.stateNode;var _=n.memoizedProps,A=ui(l,_);m.props=A;var w=m.context,H=l.contextType;S=Mi,typeof H=="object"&&H!==null&&(S=nt(H));var V=l.getDerivedStateFromProps;H=typeof V=="function"||typeof m.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,H||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_||w!==S)&&nd(n,m,s,S),Mn=!1;var D=n.memoizedState;m.state=D,Do(n,s,m,d),Io(),w=n.memoizedState,_||D!==w||Mn?(typeof V=="function"&&(fr(n,l,V,s),w=n.memoizedState),(A=Mn||td(n,l,A,s,D,w,S))?(H||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(n.flags|=4194308)):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=s,n.memoizedState=w),m.props=s,m.state=w,m.context=S,s=A):(typeof m.componentDidMount=="function"&&(n.flags|=4194308),s=!1)}else{m=n.stateNode,Ps(e,n),S=n.memoizedProps,H=ui(l,S),m.props=H,V=n.pendingProps,D=m.context,w=l.contextType,A=Mi,typeof w=="object"&&w!==null&&(A=nt(w)),_=l.getDerivedStateFromProps,(w=typeof _=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(S!==V||D!==A)&&nd(n,m,s,A),Mn=!1,D=n.memoizedState,m.state=D,Do(n,s,m,d),Io();var U=n.memoizedState;S!==V||D!==U||Mn||e!==null&&e.dependencies!==null&&wl(e.dependencies)?(typeof _=="function"&&(fr(n,l,_,s),U=n.memoizedState),(H=Mn||td(n,l,H,s,D,U,A)||e!==null&&e.dependencies!==null&&wl(e.dependencies))?(w||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(s,U,A),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(s,U,A)),typeof m.componentDidUpdate=="function"&&(n.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),n.memoizedProps=s,n.memoizedState=U),m.props=s,m.state=U,m.context=A,s=H):(typeof m.componentDidUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&D===e.memoizedState||(n.flags|=1024),s=!1)}return m=s,Ql(e,n),s=(n.flags&128)!==0,m||s?(m=n.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:m.render(),n.flags|=1,e!==null&&s?(n.child=si(n,e.child,null,d),n.child=si(n,null,l,d)):it(e,n,l,d),n.memoizedState=m.state,e=n.child):e=un(e,n,d),e}function yd(e,n,l,s){return ti(),n.flags|=256,it(e,n,l,s),n.child}var gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yr(e){return{baseLanes:e,cachePool:af()}}function vr(e,n,l){return e=e!==null?e.childLanes&~l:0,n&&(e|=Nt),e}function vd(e,n,l){var s=n.pendingProps,d=!1,m=(n.flags&128)!==0,S;if((S=m)||(S=e!==null&&e.memoizedState===null?!1:(Pe.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,e===null){if(ge){if(d?In(n):Dn(),(e=Le)?(e=Rp(e,Gt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:An!==null?{id:Xt,overflow:Qt}:null,retryLane:536870912,hydrationErrors:null},l=Zc(e),l.return=n,n.child=l,tt=n,Le=null)):e=null,e===null)throw Rn(n);return eu(e)?n.lanes=32:n.lanes=536870912,null}var _=s.children;return s=s.fallback,d?(Dn(),d=n.mode,_=Zl({mode:"hidden",children:_},d),s=ei(s,d,l,null),_.return=n,s.return=n,_.sibling=s,n.child=_,s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,S,l),n.memoizedState=gr,ko(null,s)):(In(n),Sr(n,_))}var A=e.memoizedState;if(A!==null&&(_=A.dehydrated,_!==null)){if(m)n.flags&256?(In(n),n.flags&=-257,n=Tr(e,n,l)):n.memoizedState!==null?(Dn(),n.child=e.child,n.flags|=128,n=null):(Dn(),_=s.fallback,d=n.mode,s=Zl({mode:"visible",children:s.children},d),_=ei(_,d,l,null),_.flags|=2,s.return=n,_.return=n,s.sibling=_,n.child=s,si(n,e.child,null,l),s=n.child,s.memoizedState=yr(l),s.childLanes=vr(e,S,l),n.memoizedState=gr,n=ko(null,s));else if(In(n),eu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var w=S.dgst;S=w,s=Error(a(419)),s.stack="",s.digest=S,xo({value:s,source:null,stack:null}),n=Tr(e,n,l)}else if(Ke||Di(e,n,l,!1),S=(l&e.childLanes)!==0,Ke||S){if(S=Ie,S!==null&&(s=ic(S,l),s!==0&&s!==A.retryLane))throw A.retryLane=s,jn(e,s),vt(S,e,s),mr;jr(_)||la(),n=Tr(e,n,l)}else jr(_)?(n.flags|=192,n.child=e.child,n=null):(e=A.treeContext,Le=kt(_.nextSibling),tt=n,ge=!0,xn=null,Gt=!1,e!==null&&jc(n,e),n=Sr(n,s.children),n.flags|=4096);return n}return d?(Dn(),_=s.fallback,d=n.mode,A=e.child,w=A.sibling,s=nn(A,{mode:"hidden",children:s.children}),s.subtreeFlags=A.subtreeFlags&65011712,w!==null?_=nn(w,_):(_=ei(_,d,l,null),_.flags|=2),_.return=n,s.return=n,s.sibling=_,n.child=s,ko(null,s),s=n.child,_=e.child.memoizedState,_===null?_=yr(l):(d=_.cachePool,d!==null?(A=Je._currentValue,d=d.parent!==A?{parent:A,pool:A}:d):d=af(),_={baseLanes:_.baseLanes|l,cachePool:d}),s.memoizedState=_,s.childLanes=vr(e,S,l),n.memoizedState=gr,ko(e.child,s)):(In(n),l=e.child,e=l.sibling,l=nn(l,{mode:"visible",children:s.children}),l.return=n,l.sibling=null,e!==null&&(S=n.deletions,S===null?(n.deletions=[e],n.flags|=16):S.push(e)),n.child=l,n.memoizedState=null,l)}function Sr(e,n){return n=Zl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zl(e,n){return e=Ct(22,e,null,n),e.lanes=0,e}function Tr(e,n,l){return si(n,e.child,null,l),e=Sr(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Sd(e,n,l){e.lanes|=n;var s=e.alternate;s!==null&&(s.lanes|=n),Gs(e.return,n,l)}function Er(e,n,l,s,d,m){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:d,treeForkCount:m}:(S.isBackwards=n,S.rendering=null,S.renderingStartTime=0,S.last=s,S.tail=l,S.tailMode=d,S.treeForkCount=m)}function Td(e,n,l){var s=n.pendingProps,d=s.revealOrder,m=s.tail;s=s.children;var S=Pe.current,_=(S&2)!==0;if(_?(S=S&1|2,n.flags|=128):S&=1,K(Pe,S),it(e,n,s,l),s=ge?Ao:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Sd(e,l,n);else if(e.tag===19)Sd(e,l,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(d){case"forwards":for(l=n.child,d=null;l!==null;)e=l.alternate,e!==null&&ql(e)===null&&(d=l),l=l.sibling;l=d,l===null?(d=n.child,n.child=null):(d=l.sibling,l.sibling=null),Er(n,!1,d,l,m,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,d=n.child,n.child=null;d!==null;){if(e=d.alternate,e!==null&&ql(e)===null){n.child=d;break}e=d.sibling,d.sibling=l,l=d,d=e}Er(n,!0,l,null,m,s);break;case"together":Er(n,!1,null,null,void 0,s);break;default:n.memoizedState=null}return n.child}function un(e,n,l){if(e!==null&&(n.dependencies=e.dependencies),Gn|=n.lanes,(l&n.childLanes)===0)if(e!==null){if(Di(e,n,l,!1),(l&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,l=nn(e,e.pendingProps),n.child=l,l.return=n;e.sibling!==null;)e=e.sibling,l=l.sibling=nn(e,e.pendingProps),l.return=n;l.sibling=null}return n.child}function _r(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wl(e)))}function s0(e,n,l){switch(n.tag){case 3:st(n,n.stateNode.containerInfo),Nn(n,Je,e.memoizedState.cache),ti();break;case 27:case 5:ro(n);break;case 4:st(n,n.stateNode.containerInfo);break;case 10:Nn(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Ks(n),null;break;case 13:var s=n.memoizedState;if(s!==null)return s.dehydrated!==null?(In(n),n.flags|=128,null):(l&n.child.childLanes)!==0?vd(e,n,l):(In(n),e=un(e,n,l),e!==null?e.sibling:null);In(n);break;case 19:var d=(e.flags&128)!==0;if(s=(l&n.childLanes)!==0,s||(Di(e,n,l,!1),s=(l&n.childLanes)!==0),d){if(s)return Td(e,n,l);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),K(Pe,Pe.current),s)break;return null;case 22:return n.lanes=0,dd(e,n,l,n.pendingProps);case 24:Nn(n,Je,e.memoizedState.cache)}return un(e,n,l)}function Ed(e,n,l){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ke=!0;else{if(!_r(e,l)&&(n.flags&128)===0)return Ke=!1,s0(e,n,l);Ke=(e.flags&131072)!==0}else Ke=!1,ge&&(n.flags&1048576)!==0&&Wc(n,Ao,n.index);switch(n.lanes=0,n.tag){case 16:e:{var s=n.pendingProps;if(e=li(n.elementType),n.type=e,typeof e=="function")Ns(e)?(s=ui(e,s),n.tag=1,n=gd(null,n,e,s,l)):(n.tag=0,n=hr(null,n,e,s,l));else{if(e!=null){var d=e.$$typeof;if(d===P){n.tag=11,n=ud(null,n,e,s,l);break e}else if(d===J){n.tag=14,n=cd(null,n,e,s,l);break e}}throw n=Fe(e)||e,Error(a(306,n,""))}}return n;case 0:return hr(e,n,n.type,n.pendingProps,l);case 1:return s=n.type,d=ui(s,n.pendingProps),gd(e,n,s,d,l);case 3:e:{if(st(n,n.stateNode.containerInfo),e===null)throw Error(a(387));s=n.pendingProps;var m=n.memoizedState;d=m.element,Ps(e,n),Do(n,s,null,l);var S=n.memoizedState;if(s=S.cache,Nn(n,Je,s),s!==m.cache&&Hs(n,[Je],l,!0),Io(),s=S.element,m.isDehydrated)if(m={element:s,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=m,n.memoizedState=m,n.flags&256){n=yd(e,n,s,l);break e}else if(s!==d){d=Dt(Error(a(424)),n),xo(d),n=yd(e,n,s,l);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=kt(e.firstChild),tt=n,ge=!0,xn=null,Gt=!0,l=df(n,null,s,l),n.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ti(),s===d){n=un(e,n,l);break e}it(e,n,s,l)}n=n.child}return n;case 26:return Ql(e,n),e===null?(l=Dp(n.type,null,n.pendingProps,null))?n.memoizedState=l:ge||(l=n.type,e=n.pendingProps,s=da(fe.current).createElement(l),s[et]=n,s[dt]=e,ot(s,l,e),Ze(s),n.stateNode=s):n.memoizedState=Dp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ro(n),e===null&&ge&&(s=n.stateNode=bp(n.type,n.pendingProps,fe.current),tt=n,Gt=!0,d=Le,Bn(n.type)?(tu=d,Le=kt(s.firstChild)):Le=d),it(e,n,n.pendingProps.children,l),Ql(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ge&&((d=s=Le)&&(s=k0(s,n.type,n.pendingProps,Gt),s!==null?(n.stateNode=s,tt=n,Le=kt(s.firstChild),Gt=!1,d=!0):d=!1),d||Rn(n)),ro(n),d=n.type,m=n.pendingProps,S=e!==null?e.memoizedProps:null,s=m.children,Zr(d,m)?s=null:S!==null&&Zr(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Qs(e,n,Wy,null,null,l),Wo._currentValue=d),Ql(e,n),it(e,n,s,l),n.child;case 6:return e===null&&ge&&((e=l=Le)&&(l=q0(l,n.pendingProps,Gt),l!==null?(n.stateNode=l,tt=n,Le=null,e=!0):e=!1),e||Rn(n)),null;case 13:return vd(e,n,l);case 4:return st(n,n.stateNode.containerInfo),s=n.pendingProps,e===null?n.child=si(n,null,s,l):it(e,n,s,l),n.child;case 11:return ud(e,n,n.type,n.pendingProps,l);case 7:return it(e,n,n.pendingProps,l),n.child;case 8:return it(e,n,n.pendingProps.children,l),n.child;case 12:return it(e,n,n.pendingProps.children,l),n.child;case 10:return s=n.pendingProps,Nn(n,n.type,s.value),it(e,n,s.children,l),n.child;case 9:return d=n.type._context,s=n.pendingProps.children,ii(n),d=nt(d),s=s(d),n.flags|=1,it(e,n,s,l),n.child;case 14:return cd(e,n,n.type,n.pendingProps,l);case 15:return fd(e,n,n.type,n.pendingProps,l);case 19:return Td(e,n,l);case 31:return a0(e,n,l);case 22:return dd(e,n,l,n.pendingProps);case 24:return ii(n),s=nt(Je),e===null?(d=Vs(),d===null&&(d=Ie,m=ks(),d.pooledCache=m,m.refCount++,m!==null&&(d.pooledCacheLanes|=l),d=m),n.memoizedState={parent:s,cache:d},zs(n),Nn(n,Je,d)):((e.lanes&l)!==0&&(Ps(e,n),Do(n,null,null,l),Io()),d=e.memoizedState,m=n.memoizedState,d.parent!==s?(d={parent:s,cache:s},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),Nn(n,Je,s)):(s=m.cache,Nn(n,Je,s),s!==d.cache&&Hs(n,[Je],l,!0))),it(e,n,n.pendingProps.children,l),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function cn(e){e.flags|=4}function Cr(e,n,l,s,d){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(d&335544128)===d)if(e.stateNode.complete)e.flags|=8192;else if(Xd())e.flags|=8192;else throw ai=Ll,Bs}else e.flags&=-16777217}function _d(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!kp(n))if(Xd())e.flags|=8192;else throw ai=Ll,Bs}function $l(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ec():536870912,e.lanes|=n,Fi|=n)}function qo(e,n){if(!ge)switch(e.tailMode){case"hidden":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var n=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(n)for(var d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags&65011712,s|=d.flags&65011712,d.return=e,d=d.sibling;else for(d=e.child;d!==null;)l|=d.lanes|d.childLanes,s|=d.subtreeFlags,s|=d.flags,d.return=e,d=d.sibling;return e.subtreeFlags|=s,e.childLanes=l,n}function r0(e,n,l){var s=n.pendingProps;switch(Is(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(n),null;case 1:return Ge(n),null;case 3:return l=n.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),an(Je),ze(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Ii(n)?cn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Us())),Ge(n),null;case 26:var d=n.type,m=n.memoizedState;return e===null?(cn(n),m!==null?(Ge(n),_d(n,m)):(Ge(n),Cr(n,d,null,s,l))):m?m!==e.memoizedState?(cn(n),Ge(n),_d(n,m)):(Ge(n),n.flags&=-16777217):(e=e.memoizedProps,e!==s&&cn(n),Ge(n),Cr(n,d,e,s,l)),null;case 27:if(rl(n),l=fe.current,d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}e=W.current,Ii(n)?ef(n):(e=bp(d,s,l),n.stateNode=e,cn(n))}return Ge(n),null;case 5:if(rl(n),d=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(!s){if(n.stateNode===null)throw Error(a(166));return Ge(n),null}if(m=W.current,Ii(n))ef(n);else{var S=da(fe.current);switch(m){case 1:m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":m=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":m=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":m=S.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof s.is=="string"?S.createElement("select",{is:s.is}):S.createElement("select"),s.multiple?m.multiple=!0:s.size&&(m.size=s.size);break;default:m=typeof s.is=="string"?S.createElement(d,{is:s.is}):S.createElement(d)}}m[et]=n,m[dt]=s;e:for(S=n.child;S!==null;){if(S.tag===5||S.tag===6)m.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===n)break e;for(;S.sibling===null;){if(S.return===null||S.return===n)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}n.stateNode=m;e:switch(ot(m,d,s),d){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&cn(n)}}return Ge(n),Cr(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,l),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==s&&cn(n);else{if(typeof s!="string"&&n.stateNode===null)throw Error(a(166));if(e=fe.current,Ii(n)){if(e=n.stateNode,l=n.memoizedProps,s=null,d=tt,d!==null)switch(d.tag){case 27:case 5:s=d.memoizedProps}e[et]=n,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||vp(e.nodeValue,l)),e||Rn(n,!0)}else e=da(e).createTextNode(s),e[et]=n,n.stateNode=e}return Ge(n),null;case 31:if(l=n.memoizedState,e===null||e.memoizedState!==null){if(s=Ii(n),l!==null){if(e===null){if(!s)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[et]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),e=!1}else l=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return n.flags&256?(xt(n),n):(xt(n),null);if((n.flags&128)!==0)throw Error(a(558))}return Ge(n),null;case 13:if(s=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(d=Ii(n),s!==null&&s.dehydrated!==null){if(e===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[et]=n}else ti(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Ge(n),d=!1}else d=Us(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(xt(n),n):(xt(n),null)}return xt(n),(n.flags&128)!==0?(n.lanes=l,n):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=n.child,d=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(d=s.alternate.memoizedState.cachePool.pool),m=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(m=s.memoizedState.cachePool.pool),m!==d&&(s.flags|=2048)),l!==e&&l&&(n.child.flags|=8192),$l(n,n.updateQueue),Ge(n),null);case 4:return ze(),e===null&&Jr(n.stateNode.containerInfo),Ge(n),null;case 10:return an(n.type),Ge(n),null;case 19:if(B(Pe),s=n.memoizedState,s===null)return Ge(n),null;if(d=(n.flags&128)!==0,m=s.rendering,m===null)if(d)qo(s,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(m=ql(e),m!==null){for(n.flags|=128,qo(s,!1),e=m.updateQueue,n.updateQueue=e,$l(n,e),n.subtreeFlags=0,e=l,l=n.child;l!==null;)Qc(l,e),l=l.sibling;return K(Pe,Pe.current&1|2),ge&&on(n,s.treeForkCount),n.child}e=e.sibling}s.tail!==null&&St()>na&&(n.flags|=128,d=!0,qo(s,!1),n.lanes=4194304)}else{if(!d)if(e=ql(m),e!==null){if(n.flags|=128,d=!0,e=e.updateQueue,n.updateQueue=e,$l(n,e),qo(s,!0),s.tail===null&&s.tailMode==="hidden"&&!m.alternate&&!ge)return Ge(n),null}else 2*St()-s.renderingStartTime>na&&l!==536870912&&(n.flags|=128,d=!0,qo(s,!1),n.lanes=4194304);s.isBackwards?(m.sibling=n.child,n.child=m):(e=s.last,e!==null?e.sibling=m:n.child=m,s.last=m)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,l=Pe.current,K(Pe,d?l&1|2:l&1),ge&&on(n,s.treeForkCount),e):(Ge(n),null);case 22:case 23:return xt(n),Ys(),s=n.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(n.flags|=8192):s&&(n.flags|=8192),s?(l&536870912)!==0&&(n.flags&128)===0&&(Ge(n),n.subtreeFlags&6&&(n.flags|=8192)):Ge(n),l=n.updateQueue,l!==null&&$l(n,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(s=n.memoizedState.cachePool.pool),s!==l&&(n.flags|=2048),e!==null&&B(oi),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),an(Je),Ge(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function u0(e,n){switch(Is(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return an(Je),ze(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return rl(n),null;case 31:if(n.memoizedState!==null){if(xt(n),n.alternate===null)throw Error(a(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));ti()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(Pe),null;case 4:return ze(),null;case 10:return an(n.type),null;case 22:case 23:return xt(n),Ys(),e!==null&&B(oi),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return an(Je),null;case 25:return null;default:return null}}function Cd(e,n){switch(Is(n),n.tag){case 3:an(Je),ze();break;case 26:case 27:case 5:rl(n);break;case 4:ze();break;case 31:n.memoizedState!==null&&xt(n);break;case 13:xt(n);break;case 19:B(Pe);break;case 10:an(n.type);break;case 22:case 23:xt(n),Ys(),e!==null&&B(oi);break;case 24:an(Je)}}function Vo(e,n){try{var l=n.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var d=s.next;l=d;do{if((l.tag&e)===e){s=void 0;var m=l.create,S=l.inst;s=m(),S.destroy=s}l=l.next}while(l!==d)}}catch(_){xe(n,n.return,_)}}function Un(e,n,l){try{var s=n.updateQueue,d=s!==null?s.lastEffect:null;if(d!==null){var m=d.next;s=m;do{if((s.tag&e)===e){var S=s.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,d=n;var A=l,w=_;try{w()}catch(H){xe(d,A,H)}}}s=s.next}while(s!==m)}}catch(H){xe(n,n.return,H)}}function Ad(e){var n=e.updateQueue;if(n!==null){var l=e.stateNode;try{mf(n,l)}catch(s){xe(e,e.return,s)}}}function xd(e,n,l){l.props=ui(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){xe(e,n,s)}}function Bo(e,n){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(d){xe(e,n,d)}}function Zt(e,n){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(d){xe(e,n,d)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(d){xe(e,n,d)}else l.current=null}function Rd(e){var n=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(d){xe(e,e.return,d)}}function Ar(e,n,l){try{var s=e.stateNode;I0(s,e.type,l,n),s[dt]=n}catch(d){xe(e,e.return,d)}}function Nd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Bn(e.type)||e.tag===4}function xr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Nd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Bn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rr(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,n):(n=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,n.appendChild(e),l=l._reactRootContainer,l!=null||n.onclick!==null||(n.onclick=en));else if(s!==4&&(s===27&&Bn(e.type)&&(l=e.stateNode,n=null),e=e.child,e!==null))for(Rr(e,n,l),e=e.sibling;e!==null;)Rr(e,n,l),e=e.sibling}function Wl(e,n,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,n?l.insertBefore(e,n):l.appendChild(e);else if(s!==4&&(s===27&&Bn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Wl(e,n,l),e=e.sibling;e!==null;)Wl(e,n,l),e=e.sibling}function Md(e){var n=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);ot(n,s,l),n[et]=e,n[dt]=l}catch(m){xe(e,e.return,m)}}var fn=!1,Xe=!1,Nr=!1,bd=typeof WeakSet=="function"?WeakSet:Set,$e=null;function c0(e,n){if(e=e.containerInfo,Xr=Sa,e=Bc(e),Ts(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var d=s.anchorOffset,m=s.focusNode;s=s.focusOffset;try{l.nodeType,m.nodeType}catch{l=null;break e}var S=0,_=-1,A=-1,w=0,H=0,V=e,D=null;t:for(;;){for(var U;V!==l||d!==0&&V.nodeType!==3||(_=S+d),V!==m||s!==0&&V.nodeType!==3||(A=S+s),V.nodeType===3&&(S+=V.nodeValue.length),(U=V.firstChild)!==null;)D=V,V=U;for(;;){if(V===e)break t;if(D===l&&++w===d&&(_=S),D===m&&++H===s&&(A=S),(U=V.nextSibling)!==null)break;V=D,D=V.parentNode}V=U}l=_===-1||A===-1?null:{start:_,end:A}}else l=null}l=l||{start:0,end:0}}else l=null;for(Qr={focusedElem:e,selectionRange:l},Sa=!1,$e=n;$e!==null;)if(n=$e,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,$e=e;else for(;$e!==null;){switch(n=$e,m=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)d=e[l],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&m!==null){e=void 0,l=n,d=m.memoizedProps,m=m.memoizedState,s=l.stateNode;try{var $=ui(l.type,d);e=s.getSnapshotBeforeUpdate($,m),s.__reactInternalSnapshotBeforeUpdate=e}catch(ie){xe(l,l.return,ie)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,$e=e;break}$e=n.return}}function wd(e,n,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:pn(e,l),s&4&&Vo(5,l);break;case 1:if(pn(e,l),s&4)if(e=l.stateNode,n===null)try{e.componentDidMount()}catch(S){xe(l,l.return,S)}else{var d=ui(l.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(d,n,e.__reactInternalSnapshotBeforeUpdate)}catch(S){xe(l,l.return,S)}}s&64&&Ad(l),s&512&&Bo(l,l.return);break;case 3:if(pn(e,l),s&64&&(e=l.updateQueue,e!==null)){if(n=null,l.child!==null)switch(l.child.tag){case 27:case 5:n=l.child.stateNode;break;case 1:n=l.child.stateNode}try{mf(e,n)}catch(S){xe(l,l.return,S)}}break;case 27:n===null&&s&4&&Md(l);case 26:case 5:pn(e,l),n===null&&s&4&&Rd(l),s&512&&Bo(l,l.return);break;case 12:pn(e,l);break;case 31:pn(e,l),s&4&&Ud(e,l);break;case 13:pn(e,l),s&4&&Ld(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=S0.bind(null,l),V0(e,l))));break;case 22:if(s=l.memoizedState!==null||fn,!s){n=n!==null&&n.memoizedState!==null||Xe,d=fn;var m=Xe;fn=s,(Xe=n)&&!m?mn(e,l,(l.subtreeFlags&8772)!==0):pn(e,l),fn=d,Xe=m}break;case 30:break;default:pn(e,l)}}function Id(e){var n=e.alternate;n!==null&&(e.alternate=null,Id(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&is(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,mt=!1;function dn(e,n,l){for(l=l.child;l!==null;)Dd(e,n,l),l=l.sibling}function Dd(e,n,l){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(uo,l)}catch{}switch(l.tag){case 26:Xe||Zt(l,n),dn(e,n,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Zt(l,n);var s=He,d=mt;Bn(l.type)&&(He=l.stateNode,mt=!1),dn(e,n,l),Qo(l.stateNode),He=s,mt=d;break;case 5:Xe||Zt(l,n);case 6:if(s=He,d=mt,He=null,dn(e,n,l),He=s,mt=d,He!==null)if(mt)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(l.stateNode)}catch(m){xe(l,n,m)}else try{He.removeChild(l.stateNode)}catch(m){xe(l,n,m)}break;case 18:He!==null&&(mt?(e=He,Ap(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),Wi(e)):Ap(He,l.stateNode));break;case 4:s=He,d=mt,He=l.stateNode.containerInfo,mt=!0,dn(e,n,l),He=s,mt=d;break;case 0:case 11:case 14:case 15:Un(2,l,n),Xe||Un(4,l,n),dn(e,n,l);break;case 1:Xe||(Zt(l,n),s=l.stateNode,typeof s.componentWillUnmount=="function"&&xd(l,n,s)),dn(e,n,l);break;case 21:dn(e,n,l);break;case 22:Xe=(s=Xe)||l.memoizedState!==null,dn(e,n,l),Xe=s;break;default:dn(e,n,l)}}function Ud(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Wi(e)}catch(l){xe(n,n.return,l)}}}function Ld(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Wi(e)}catch(l){xe(n,n.return,l)}}function f0(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new bd),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new bd),n;default:throw Error(a(435,e.tag))}}function jl(e,n){var l=f0(e);n.forEach(function(s){if(!l.has(s)){l.add(s);var d=T0.bind(null,e,s);s.then(d,d)}})}function ht(e,n){var l=n.deletions;if(l!==null)for(var s=0;s<l.length;s++){var d=l[s],m=e,S=n,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Bn(_.type)){He=_.stateNode,mt=!1;break e}break;case 5:He=_.stateNode,mt=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,mt=!0;break e}_=_.return}if(He===null)throw Error(a(160));Dd(m,S,d),He=null,mt=!1,m=d.alternate,m!==null&&(m.return=null),d.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Gd(n,e),n=n.sibling}var Ot=null;function Gd(e,n){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ht(n,e),gt(e),s&4&&(Un(3,e,e.return),Vo(3,e),Un(5,e,e.return));break;case 1:ht(n,e),gt(e),s&512&&(Xe||l===null||Zt(l,l.return)),s&64&&fn&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var d=Ot;if(ht(n,e),gt(e),s&512&&(Xe||l===null||Zt(l,l.return)),s&4){var m=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,d=d.ownerDocument||d;t:switch(s){case"title":m=d.getElementsByTagName("title")[0],(!m||m[po]||m[et]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=d.createElement(s),d.head.insertBefore(m,d.querySelector("head > title"))),ot(m,s,l),m[et]=e,Ze(m),s=m;break e;case"link":var S=Gp("link","href",d).get(s+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(m=S[_],m.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&m.getAttribute("rel")===(l.rel==null?null:l.rel)&&m.getAttribute("title")===(l.title==null?null:l.title)&&m.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}m=d.createElement(s),ot(m,s,l),d.head.appendChild(m);break;case"meta":if(S=Gp("meta","content",d).get(s+(l.content||""))){for(_=0;_<S.length;_++)if(m=S[_],m.getAttribute("content")===(l.content==null?null:""+l.content)&&m.getAttribute("name")===(l.name==null?null:l.name)&&m.getAttribute("property")===(l.property==null?null:l.property)&&m.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&m.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}m=d.createElement(s),ot(m,s,l),d.head.appendChild(m);break;default:throw Error(a(468,s))}m[et]=e,Ze(m),s=m}e.stateNode=s}else Hp(d,e.type,e.stateNode);else e.stateNode=Lp(d,s,e.memoizedProps);else m!==s?(m===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):m.count--,s===null?Hp(d,e.type,e.stateNode):Lp(d,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Ar(e,e.memoizedProps,l.memoizedProps)}break;case 27:ht(n,e),gt(e),s&512&&(Xe||l===null||Zt(l,l.return)),l!==null&&s&4&&Ar(e,e.memoizedProps,l.memoizedProps);break;case 5:if(ht(n,e),gt(e),s&512&&(Xe||l===null||Zt(l,l.return)),e.flags&32){d=e.stateNode;try{Ei(d,"")}catch($){xe(e,e.return,$)}}s&4&&e.stateNode!=null&&(d=e.memoizedProps,Ar(e,d,l!==null?l.memoizedProps:d)),s&1024&&(Nr=!0);break;case 6:if(ht(n,e),gt(e),s&4){if(e.stateNode===null)throw Error(a(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch($){xe(e,e.return,$)}}break;case 3:if(ha=null,d=Ot,Ot=pa(n.containerInfo),ht(n,e),Ot=d,gt(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{Wi(n.containerInfo)}catch($){xe(e,e.return,$)}Nr&&(Nr=!1,Hd(e));break;case 4:s=Ot,Ot=pa(e.stateNode.containerInfo),ht(n,e),gt(e),Ot=s;break;case 12:ht(n,e),gt(e);break;case 31:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jl(e,s)));break;case 13:ht(n,e),gt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ta=St()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jl(e,s)));break;case 22:d=e.memoizedState!==null;var A=l!==null&&l.memoizedState!==null,w=fn,H=Xe;if(fn=w||d,Xe=H||A,ht(n,e),Xe=H,fn=w,gt(e),s&8192)e:for(n=e.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(l===null||A||fn||Xe||ci(e)),l=null,n=e;;){if(n.tag===5||n.tag===26){if(l===null){A=l=n;try{if(m=A.stateNode,d)S=m.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=A.stateNode;var V=A.memoizedProps.style,D=V!=null&&V.hasOwnProperty("display")?V.display:null;_.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch($){xe(A,A.return,$)}}}else if(n.tag===6){if(l===null){A=n;try{A.stateNode.nodeValue=d?"":A.memoizedProps}catch($){xe(A,A.return,$)}}}else if(n.tag===18){if(l===null){A=n;try{var U=A.stateNode;d?xp(U,!0):xp(A.stateNode,!1)}catch($){xe(A,A.return,$)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;l===n&&(l=null),n=n.return}l===n&&(l=null),n.sibling.return=n.return,n=n.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,jl(e,l))));break;case 19:ht(n,e),gt(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,jl(e,s)));break;case 30:break;case 21:break;default:ht(n,e),gt(e)}}function gt(e){var n=e.flags;if(n&2){try{for(var l,s=e.return;s!==null;){if(Nd(s)){l=s;break}s=s.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var d=l.stateNode,m=xr(e);Wl(e,m,d);break;case 5:var S=l.stateNode;l.flags&32&&(Ei(S,""),l.flags&=-33);var _=xr(e);Wl(e,_,S);break;case 3:case 4:var A=l.stateNode.containerInfo,w=xr(e);Rr(e,w,A);break;default:throw Error(a(161))}}catch(H){xe(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Hd(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Hd(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function pn(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wd(e,n.alternate,n),n=n.sibling}function ci(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Un(4,n,n.return),ci(n);break;case 1:Zt(n,n.return);var l=n.stateNode;typeof l.componentWillUnmount=="function"&&xd(n,n.return,l),ci(n);break;case 27:Qo(n.stateNode);case 26:case 5:Zt(n,n.return),ci(n);break;case 22:n.memoizedState===null&&ci(n);break;case 30:ci(n);break;default:ci(n)}e=e.sibling}}function mn(e,n,l){for(l=l&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var s=n.alternate,d=e,m=n,S=m.flags;switch(m.tag){case 0:case 11:case 15:mn(d,m,l),Vo(4,m);break;case 1:if(mn(d,m,l),s=m,d=s.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(w){xe(s,s.return,w)}if(s=m,d=s.updateQueue,d!==null){var _=s.stateNode;try{var A=d.shared.hiddenCallbacks;if(A!==null)for(d.shared.hiddenCallbacks=null,d=0;d<A.length;d++)pf(A[d],_)}catch(w){xe(s,s.return,w)}}l&&S&64&&Ad(m),Bo(m,m.return);break;case 27:Md(m);case 26:case 5:mn(d,m,l),l&&s===null&&S&4&&Rd(m),Bo(m,m.return);break;case 12:mn(d,m,l);break;case 31:mn(d,m,l),l&&S&4&&Ud(d,m);break;case 13:mn(d,m,l),l&&S&4&&Ld(d,m);break;case 22:m.memoizedState===null&&mn(d,m,l),Bo(m,m.return);break;case 30:break;default:mn(d,m,l)}n=n.sibling}}function Mr(e,n){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Ro(l))}function br(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e))}function Ft(e,n,l,s){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kd(e,n,l,s),n=n.sibling}function kd(e,n,l,s){var d=n.flags;switch(n.tag){case 0:case 11:case 15:Ft(e,n,l,s),d&2048&&Vo(9,n);break;case 1:Ft(e,n,l,s);break;case 3:Ft(e,n,l,s),d&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ro(e)));break;case 12:if(d&2048){Ft(e,n,l,s),e=n.stateNode;try{var m=n.memoizedProps,S=m.id,_=m.onPostCommit;typeof _=="function"&&_(S,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){xe(n,n.return,A)}}else Ft(e,n,l,s);break;case 31:Ft(e,n,l,s);break;case 13:Ft(e,n,l,s);break;case 23:break;case 22:m=n.stateNode,S=n.alternate,n.memoizedState!==null?m._visibility&2?Ft(e,n,l,s):zo(e,n):m._visibility&2?Ft(e,n,l,s):(m._visibility|=2,zi(e,n,l,s,(n.subtreeFlags&10256)!==0||!1)),d&2048&&Mr(S,n);break;case 24:Ft(e,n,l,s),d&2048&&br(n.alternate,n);break;default:Ft(e,n,l,s)}}function zi(e,n,l,s,d){for(d=d&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var m=e,S=n,_=l,A=s,w=S.flags;switch(S.tag){case 0:case 11:case 15:zi(m,S,_,A,d),Vo(8,S);break;case 23:break;case 22:var H=S.stateNode;S.memoizedState!==null?H._visibility&2?zi(m,S,_,A,d):zo(m,S):(H._visibility|=2,zi(m,S,_,A,d)),d&&w&2048&&Mr(S.alternate,S);break;case 24:zi(m,S,_,A,d),d&&w&2048&&br(S.alternate,S);break;default:zi(m,S,_,A,d)}n=n.sibling}}function zo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var l=e,s=n,d=s.flags;switch(s.tag){case 22:zo(l,s),d&2048&&Mr(s.alternate,s);break;case 24:zo(l,s),d&2048&&br(s.alternate,s);break;default:zo(l,s)}n=n.sibling}}var Po=8192;function Pi(e,n,l){if(e.subtreeFlags&Po)for(e=e.child;e!==null;)qd(e,n,l),e=e.sibling}function qd(e,n,l){switch(e.tag){case 26:Pi(e,n,l),e.flags&Po&&e.memoizedState!==null&&$0(l,Ot,e.memoizedState,e.memoizedProps);break;case 5:Pi(e,n,l);break;case 3:case 4:var s=Ot;Ot=pa(e.stateNode.containerInfo),Pi(e,n,l),Ot=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=Po,Po=16777216,Pi(e,n,l),Po=s):Pi(e,n,l));break;default:Pi(e,n,l)}}function Vd(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Oo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,zd(s,e)}Vd(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Bd(e),e=e.sibling}function Bd(e){switch(e.tag){case 0:case 11:case 15:Oo(e),e.flags&2048&&Un(9,e,e.return);break;case 3:Oo(e);break;case 12:Oo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ea(e)):Oo(e);break;default:Oo(e)}}function ea(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var l=0;l<n.length;l++){var s=n[l];$e=s,zd(s,e)}Vd(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Un(8,n,n.return),ea(n);break;case 22:l=n.stateNode,l._visibility&2&&(l._visibility&=-3,ea(n));break;default:ea(n)}e=e.sibling}}function zd(e,n){for(;$e!==null;){var l=$e;switch(l.tag){case 0:case 11:case 15:Un(8,l,n);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Ro(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,$e=s;else e:for(l=e;$e!==null;){s=$e;var d=s.sibling,m=s.return;if(Id(s),s===l){$e=null;break e}if(d!==null){d.return=m,$e=d;break e}$e=m}}}var d0={getCacheForType:function(e){var n=nt(Je),l=n.data.get(e);return l===void 0&&(l=e(),n.data.set(e,l)),l},cacheSignal:function(){return nt(Je).controller.signal}},p0=typeof WeakMap=="function"?WeakMap:Map,Ee=0,Ie=null,de=null,me=0,Ae=0,Rt=null,Ln=!1,Oi=!1,wr=!1,hn=0,Ve=0,Gn=0,fi=0,Ir=0,Nt=0,Fi=0,Fo=null,yt=null,Dr=!1,ta=0,Pd=0,na=1/0,ia=null,Hn=null,Qe=0,kn=null,Ji=null,gn=0,Ur=0,Lr=null,Od=null,Jo=0,Gr=null;function Mt(){return(Ee&2)!==0&&me!==0?me&-me:k.T!==null?zr():oc()}function Fd(){if(Nt===0)if((me&536870912)===0||ge){var e=fl;fl<<=1,(fl&3932160)===0&&(fl=262144),Nt=e}else Nt=536870912;return e=At.current,e!==null&&(e.flags|=32),Nt}function vt(e,n,l){(e===Ie&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)&&(Yi(e,0),qn(e,me,Nt,!1)),fo(e,l),((Ee&2)===0||e!==Ie)&&(e===Ie&&((Ee&2)===0&&(fi|=l),Ve===4&&qn(e,me,Nt,!1)),$t(e))}function Jd(e,n,l){if((Ee&6)!==0)throw Error(a(327));var s=!l&&(n&127)===0&&(n&e.expiredLanes)===0||co(e,n),d=s?g0(e,n):kr(e,n,!0),m=s;do{if(d===0){Oi&&!s&&qn(e,n,0,!1);break}else{if(l=e.current.alternate,m&&!m0(l)){d=kr(e,n,!1),m=!1;continue}if(d===2){if(m=n,e.errorRecoveryDisabledLanes&m)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var _=e;d=Fo;var A=_.current.memoizedState.isDehydrated;if(A&&(Yi(_,S).flags|=256),S=kr(_,S,!1),S!==2){if(wr&&!A){_.errorRecoveryDisabledLanes|=m,fi|=m,d=4;break e}m=yt,yt=d,m!==null&&(yt===null?yt=m:yt.push.apply(yt,m))}d=S}if(m=!1,d!==2)continue}}if(d===1){Yi(e,0),qn(e,n,0,!0);break}e:{switch(s=e,m=d,m){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qn(s,n,Nt,!Ln);break e;case 2:yt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=ta+300-St(),10<d)){if(qn(s,n,Nt,!Ln),pl(s,0,!0)!==0)break e;gn=n,s.timeoutHandle=_p(Yd.bind(null,s,l,yt,ia,Dr,n,Nt,fi,Fi,Ln,m,"Throttled",-0,0),d);break e}Yd(s,l,yt,ia,Dr,n,Nt,fi,Fi,Ln,m,null,-0,0)}}break}while(!0);$t(e)}function Yd(e,n,l,s,d,m,S,_,A,w,H,V,D,U){if(e.timeoutHandle=-1,V=n.subtreeFlags,V&8192||(V&16785408)===16785408){V={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:en},qd(n,m,V);var $=(m&62914560)===m?ta-St():(m&4194048)===m?Pd-St():0;if($=W0(V,$),$!==null){gn=m,e.cancelPendingCommit=$(ep.bind(null,e,n,m,l,s,d,S,_,A,H,V,null,D,U)),qn(e,m,S,!w);return}}ep(e,n,m,l,s,d,S,_,A)}function m0(e){for(var n=e;;){var l=n.tag;if((l===0||l===11||l===15)&&n.flags&16384&&(l=n.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var d=l[s],m=d.getSnapshot;d=d.value;try{if(!_t(m(),d))return!1}catch{return!1}}if(l=n.child,n.subtreeFlags&16384&&l!==null)l.return=n,n=l;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qn(e,n,l,s){n&=~Ir,n&=~fi,e.suspendedLanes|=n,e.pingedLanes&=~n,s&&(e.warmLanes|=n),s=e.expirationTimes;for(var d=n;0<d;){var m=31-Et(d),S=1<<m;s[m]=-1,d&=~S}l!==0&&tc(e,l,n)}function oa(){return(Ee&6)===0?(Yo(0),!1):!0}function Hr(){if(de!==null){if(Ae===0)var e=de.return;else e=de,ln=ni=null,Ws(e),Hi=null,Mo=0,e=de;for(;e!==null;)Cd(e.alternate,e),e=e.return;de=null}}function Yi(e,n){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,L0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),gn=0,Hr(),Ie=e,de=l=nn(e.current,null),me=n,Ae=0,Rt=null,Ln=!1,Oi=co(e,n),wr=!1,Fi=Nt=Ir=fi=Gn=Ve=0,yt=Fo=null,Dr=!1,(n&8)!==0&&(n|=n&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=n;0<s;){var d=31-Et(s),m=1<<d;n|=e[d],s&=~m}return hn=n,xl(),l}function Kd(e,n){se=null,k.H=Ho,n===Gi||n===Ul?(n=uf(),Ae=3):n===Bs?(n=uf(),Ae=4):Ae=n===mr?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rt=n,de===null&&(Ve=1,Kl(e,Dt(n,e.current)))}function Xd(){var e=At.current;return e===null?!0:(me&4194048)===me?Ht===null:(me&62914560)===me||(me&536870912)!==0?e===Ht:!1}function Qd(){var e=k.H;return k.H=Ho,e===null?Ho:e}function Zd(){var e=k.A;return k.A=d0,e}function la(){Ve=4,Ln||(me&4194048)!==me&&At.current!==null||(Oi=!0),(Gn&134217727)===0&&(fi&134217727)===0||Ie===null||qn(Ie,me,Nt,!1)}function kr(e,n,l){var s=Ee;Ee|=2;var d=Qd(),m=Zd();(Ie!==e||me!==n)&&(ia=null,Yi(e,n)),n=!1;var S=Ve;e:do try{if(Ae!==0&&de!==null){var _=de,A=Rt;switch(Ae){case 8:Hr(),S=6;break e;case 3:case 2:case 9:case 6:At.current===null&&(n=!0);var w=Ae;if(Ae=0,Rt=null,Ki(e,_,A,w),l&&Oi){S=0;break e}break;default:w=Ae,Ae=0,Rt=null,Ki(e,_,A,w)}}h0(),S=Ve;break}catch(H){Kd(e,H)}while(!0);return n&&e.shellSuspendCounter++,ln=ni=null,Ee=s,k.H=d,k.A=m,de===null&&(Ie=null,me=0,xl()),S}function h0(){for(;de!==null;)$d(de)}function g0(e,n){var l=Ee;Ee|=2;var s=Qd(),d=Zd();Ie!==e||me!==n?(ia=null,na=St()+500,Yi(e,n)):Oi=co(e,n);e:do try{if(Ae!==0&&de!==null){n=de;var m=Rt;t:switch(Ae){case 1:Ae=0,Rt=null,Ki(e,n,m,1);break;case 2:case 9:if(sf(m)){Ae=0,Rt=null,Wd(n);break}n=function(){Ae!==2&&Ae!==9||Ie!==e||(Ae=7),$t(e)},m.then(n,n);break e;case 3:Ae=7;break e;case 4:Ae=5;break e;case 7:sf(m)?(Ae=0,Rt=null,Wd(n)):(Ae=0,Rt=null,Ki(e,n,m,7));break;case 5:var S=null;switch(de.tag){case 26:S=de.memoizedState;case 5:case 27:var _=de;if(S?kp(S):_.stateNode.complete){Ae=0,Rt=null;var A=_.sibling;if(A!==null)de=A;else{var w=_.return;w!==null?(de=w,aa(w)):de=null}break t}}Ae=0,Rt=null,Ki(e,n,m,5);break;case 6:Ae=0,Rt=null,Ki(e,n,m,6);break;case 8:Hr(),Ve=6;break e;default:throw Error(a(462))}}y0();break}catch(H){Kd(e,H)}while(!0);return ln=ni=null,k.H=s,k.A=d,Ee=l,de!==null?0:(Ie=null,me=0,xl(),Ve)}function y0(){for(;de!==null&&!Bg();)$d(de)}function $d(e){var n=Ed(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?aa(e):de=n}function Wd(e){var n=e,l=n.alternate;switch(n.tag){case 15:case 0:n=hd(l,n,n.pendingProps,n.type,void 0,me);break;case 11:n=hd(l,n,n.pendingProps,n.type.render,n.ref,me);break;case 5:Ws(n);default:Cd(l,n),n=de=Qc(n,hn),n=Ed(l,n,hn)}e.memoizedProps=e.pendingProps,n===null?aa(e):de=n}function Ki(e,n,l,s){ln=ni=null,Ws(n),Hi=null,Mo=0;var d=n.return;try{if(l0(e,d,n,l,me)){Ve=1,Kl(e,Dt(l,e.current)),de=null;return}}catch(m){if(d!==null)throw de=d,m;Ve=1,Kl(e,Dt(l,e.current)),de=null;return}n.flags&32768?(ge||s===1?e=!0:Oi||(me&536870912)!==0?e=!1:(Ln=e=!0,(s===2||s===9||s===3||s===6)&&(s=At.current,s!==null&&s.tag===13&&(s.flags|=16384))),jd(n,e)):aa(n)}function aa(e){var n=e;do{if((n.flags&32768)!==0){jd(n,Ln);return}e=n.return;var l=r0(n.alternate,n,hn);if(l!==null){de=l;return}if(n=n.sibling,n!==null){de=n;return}de=n=e}while(n!==null);Ve===0&&(Ve=5)}function jd(e,n){do{var l=u0(e.alternate,e);if(l!==null){l.flags&=32767,de=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!n&&(e=e.sibling,e!==null)){de=e;return}de=e=l}while(e!==null);Ve=6,de=null}function ep(e,n,l,s,d,m,S,_,A){e.cancelPendingCommit=null;do sa();while(Qe!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(m=n.lanes|n.childLanes,m|=xs,Zg(e,l,m,S,_,A),e===Ie&&(de=Ie=null,me=0),Ji=n,kn=e,gn=l,Ur=m,Lr=d,Od=s,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,E0(ul,function(){return lp(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||s){s=k.T,k.T=null,d=F.p,F.p=2,S=Ee,Ee|=4;try{c0(e,n,l)}finally{Ee=S,F.p=d,k.T=s}}Qe=1,tp(),np(),ip()}}function tp(){if(Qe===1){Qe=0;var e=kn,n=Ji,l=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||l){l=k.T,k.T=null;var s=F.p;F.p=2;var d=Ee;Ee|=4;try{Gd(n,e);var m=Qr,S=Bc(e.containerInfo),_=m.focusedElem,A=m.selectionRange;if(S!==_&&_&&_.ownerDocument&&Vc(_.ownerDocument.documentElement,_)){if(A!==null&&Ts(_)){var w=A.start,H=A.end;if(H===void 0&&(H=w),"selectionStart"in _)_.selectionStart=w,_.selectionEnd=Math.min(H,_.value.length);else{var V=_.ownerDocument||document,D=V&&V.defaultView||window;if(D.getSelection){var U=D.getSelection(),$=_.textContent.length,ie=Math.min(A.start,$),be=A.end===void 0?ie:Math.min(A.end,$);!U.extend&&ie>be&&(S=be,be=ie,ie=S);var M=qc(_,ie),x=qc(_,be);if(M&&x&&(U.rangeCount!==1||U.anchorNode!==M.node||U.anchorOffset!==M.offset||U.focusNode!==x.node||U.focusOffset!==x.offset)){var b=V.createRange();b.setStart(M.node,M.offset),U.removeAllRanges(),ie>be?(U.addRange(b),U.extend(x.node,x.offset)):(b.setEnd(x.node,x.offset),U.addRange(b))}}}}for(V=[],U=_;U=U.parentNode;)U.nodeType===1&&V.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<V.length;_++){var q=V[_];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}Sa=!!Xr,Qr=Xr=null}finally{Ee=d,F.p=s,k.T=l}}e.current=n,Qe=2}}function np(){if(Qe===2){Qe=0;var e=kn,n=Ji,l=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||l){l=k.T,k.T=null;var s=F.p;F.p=2;var d=Ee;Ee|=4;try{wd(e,n.alternate,n)}finally{Ee=d,F.p=s,k.T=l}}Qe=3}}function ip(){if(Qe===4||Qe===3){Qe=0,zg();var e=kn,n=Ji,l=gn,s=Od;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Qe=5:(Qe=0,Ji=kn=null,op(e,e.pendingLanes));var d=e.pendingLanes;if(d===0&&(Hn=null),ts(l),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(uo,n,void 0,(n.current.flags&128)===128)}catch{}if(s!==null){n=k.T,d=F.p,F.p=2,k.T=null;try{for(var m=e.onRecoverableError,S=0;S<s.length;S++){var _=s[S];m(_.value,{componentStack:_.stack})}}finally{k.T=n,F.p=d}}(gn&3)!==0&&sa(),$t(e),d=e.pendingLanes,(l&261930)!==0&&(d&42)!==0?e===Gr?Jo++:(Jo=0,Gr=e):Jo=0,Yo(0)}}function op(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ro(n)))}function sa(){return tp(),np(),ip(),lp()}function lp(){if(Qe!==5)return!1;var e=kn,n=Ur;Ur=0;var l=ts(gn),s=k.T,d=F.p;try{F.p=32>l?32:l,k.T=null,l=Lr,Lr=null;var m=kn,S=gn;if(Qe=0,Ji=kn=null,gn=0,(Ee&6)!==0)throw Error(a(331));var _=Ee;if(Ee|=4,Bd(m.current),kd(m,m.current,S,l),Ee=_,Yo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(uo,m)}catch{}return!0}finally{F.p=d,k.T=s,op(e,n)}}function ap(e,n,l){n=Dt(l,n),n=pr(e.stateNode,n,2),e=wn(e,n,2),e!==null&&(fo(e,2),$t(e))}function xe(e,n,l){if(e.tag===3)ap(e,e,l);else for(;n!==null;){if(n.tag===3){ap(n,e,l);break}else if(n.tag===1){var s=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Hn===null||!Hn.has(s))){e=Dt(l,e),l=sd(2),s=wn(n,l,2),s!==null&&(rd(l,s,n,e),fo(s,2),$t(s));break}}n=n.return}}function qr(e,n,l){var s=e.pingCache;if(s===null){s=e.pingCache=new p0;var d=new Set;s.set(n,d)}else d=s.get(n),d===void 0&&(d=new Set,s.set(n,d));d.has(l)||(wr=!0,d.add(l),e=v0.bind(null,e,n,l),n.then(e,e))}function v0(e,n,l){var s=e.pingCache;s!==null&&s.delete(n),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Ie===e&&(me&l)===l&&(Ve===4||Ve===3&&(me&62914560)===me&&300>St()-ta?(Ee&2)===0&&Yi(e,0):Ir|=l,Fi===me&&(Fi=0)),$t(e)}function sp(e,n){n===0&&(n=ec()),e=jn(e,n),e!==null&&(fo(e,n),$t(e))}function S0(e){var n=e.memoizedState,l=0;n!==null&&(l=n.retryLane),sp(e,l)}function T0(e,n){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,d=e.memoizedState;d!==null&&(l=d.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(a(314))}s!==null&&s.delete(n),sp(e,l)}function E0(e,n){return $a(e,n)}var ra=null,Xi=null,Vr=!1,ua=!1,Br=!1,Vn=0;function $t(e){e!==Xi&&e.next===null&&(Xi===null?ra=Xi=e:Xi=Xi.next=e),ua=!0,Vr||(Vr=!0,C0())}function Yo(e,n){if(!Br&&ua){Br=!0;do for(var l=!1,s=ra;s!==null;){if(e!==0){var d=s.pendingLanes;if(d===0)var m=0;else{var S=s.suspendedLanes,_=s.pingedLanes;m=(1<<31-Et(42|e)+1)-1,m&=d&~(S&~_),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(l=!0,fp(s,m))}else m=me,m=pl(s,s===Ie?m:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(m&3)===0||co(s,m)||(l=!0,fp(s,m));s=s.next}while(l);Br=!1}}function _0(){rp()}function rp(){ua=Vr=!1;var e=0;Vn!==0&&U0()&&(e=Vn);for(var n=St(),l=null,s=ra;s!==null;){var d=s.next,m=up(s,n);m===0?(s.next=null,l===null?ra=d:l.next=d,d===null&&(Xi=l)):(l=s,(e!==0||(m&3)!==0)&&(ua=!0)),s=d}Qe!==0&&Qe!==5||Yo(e),Vn!==0&&(Vn=0)}function up(e,n){for(var l=e.suspendedLanes,s=e.pingedLanes,d=e.expirationTimes,m=e.pendingLanes&-62914561;0<m;){var S=31-Et(m),_=1<<S,A=d[S];A===-1?((_&l)===0||(_&s)!==0)&&(d[S]=Qg(_,n)):A<=n&&(e.expiredLanes|=_),m&=~_}if(n=Ie,l=me,l=pl(e,e===n?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===n&&(Ae===2||Ae===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Wa(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||co(e,l)){if(n=l&-l,n===e.callbackPriority)return n;switch(s!==null&&Wa(s),ts(l)){case 2:case 8:l=Wu;break;case 32:l=ul;break;case 268435456:l=ju;break;default:l=ul}return s=cp.bind(null,e),l=$a(l,s),e.callbackPriority=n,e.callbackNode=l,n}return s!==null&&s!==null&&Wa(s),e.callbackPriority=2,e.callbackNode=null,2}function cp(e,n){if(Qe!==0&&Qe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(sa()&&e.callbackNode!==l)return null;var s=me;return s=pl(e,e===Ie?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Jd(e,s,n),up(e,St()),e.callbackNode!=null&&e.callbackNode===l?cp.bind(null,e):null)}function fp(e,n){if(sa())return null;Jd(e,n,!0)}function C0(){G0(function(){(Ee&6)!==0?$a($u,_0):rp()})}function zr(){if(Vn===0){var e=Ui;e===0&&(e=cl,cl<<=1,(cl&261888)===0&&(cl=256)),Vn=e}return Vn}function dp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yl(""+e)}function pp(e,n){var l=n.ownerDocument.createElement("input");return l.name=n.name,l.value=n.value,e.id&&l.setAttribute("form",e.id),n.parentNode.insertBefore(l,n),e=new FormData(e),l.parentNode.removeChild(l),e}function A0(e,n,l,s,d){if(n==="submit"&&l&&l.stateNode===d){var m=dp((d[dt]||null).action),S=s.submitter;S&&(n=(n=S[dt]||null)?dp(n.formAction):S.getAttribute("formAction"),n!==null&&(m=n,S=null));var _=new El("action","action",null,s,d);e.push({event:_,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Vn!==0){var A=S?pp(d,S):new FormData(d);sr(l,{pending:!0,data:A,method:d.method,action:m},null,A)}}else typeof m=="function"&&(_.preventDefault(),A=S?pp(d,S):new FormData(d),sr(l,{pending:!0,data:A,method:d.method,action:m},m,A))},currentTarget:d}]})}}for(var Pr=0;Pr<As.length;Pr++){var Or=As[Pr],x0=Or.toLowerCase(),R0=Or[0].toUpperCase()+Or.slice(1);Pt(x0,"on"+R0)}Pt(Oc,"onAnimationEnd"),Pt(Fc,"onAnimationIteration"),Pt(Jc,"onAnimationStart"),Pt("dblclick","onDoubleClick"),Pt("focusin","onFocus"),Pt("focusout","onBlur"),Pt(Py,"onTransitionRun"),Pt(Oy,"onTransitionStart"),Pt(Fy,"onTransitionCancel"),Pt(Yc,"onTransitionEnd"),Si("onMouseEnter",["mouseout","mouseover"]),Si("onMouseLeave",["mouseout","mouseover"]),Si("onPointerEnter",["pointerout","pointerover"]),Si("onPointerLeave",["pointerout","pointerover"]),Qn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Qn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Qn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Qn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Qn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ko));function mp(e,n){n=(n&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],d=s.event;s=s.listeners;e:{var m=void 0;if(n)for(var S=s.length-1;0<=S;S--){var _=s[S],A=_.instance,w=_.currentTarget;if(_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=w;try{m(d)}catch(H){Al(H)}d.currentTarget=null,m=A}else for(S=0;S<s.length;S++){if(_=s[S],A=_.instance,w=_.currentTarget,_=_.listener,A!==m&&d.isPropagationStopped())break e;m=_,d.currentTarget=w;try{m(d)}catch(H){Al(H)}d.currentTarget=null,m=A}}}}function pe(e,n){var l=n[ns];l===void 0&&(l=n[ns]=new Set);var s=e+"__bubble";l.has(s)||(hp(n,e,2,!1),l.add(s))}function Fr(e,n,l){var s=0;n&&(s|=4),hp(l,e,s,n)}var ca="_reactListening"+Math.random().toString(36).slice(2);function Jr(e){if(!e[ca]){e[ca]=!0,sc.forEach(function(l){l!=="selectionchange"&&(N0.has(l)||Fr(l,!1,e),Fr(l,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[ca]||(n[ca]=!0,Fr("selectionchange",!1,n))}}function hp(e,n,l,s){switch(Fp(n)){case 2:var d=tv;break;case 8:d=nv;break;default:d=au}l=d.bind(null,n,l,e),d=void 0,!fs||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),s?d!==void 0?e.addEventListener(n,l,{capture:!0,passive:d}):e.addEventListener(n,l,!0):d!==void 0?e.addEventListener(n,l,{passive:d}):e.addEventListener(n,l,!1)}function Yr(e,n,l,s,d){var m=s;if((n&1)===0&&(n&2)===0&&s!==null)e:for(;;){if(s===null)return;var S=s.tag;if(S===3||S===4){var _=s.stateNode.containerInfo;if(_===d)break;if(S===4)for(S=s.return;S!==null;){var A=S.tag;if((A===3||A===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;_!==null;){if(S=gi(_),S===null)return;if(A=S.tag,A===5||A===6||A===26||A===27){s=m=S;continue e}_=_.parentNode}}s=s.return}Sc(function(){var w=m,H=us(l),V=[];e:{var D=Kc.get(e);if(D!==void 0){var U=El,$=e;switch(e){case"keypress":if(Sl(l)===0)break e;case"keydown":case"keyup":U=Ty;break;case"focusin":$="focus",U=hs;break;case"focusout":$="blur",U=hs;break;case"beforeblur":case"afterblur":U=hs;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=_c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=ry;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Cy;break;case Oc:case Fc:case Jc:U=fy;break;case Yc:U=xy;break;case"scroll":case"scrollend":U=ay;break;case"wheel":U=Ny;break;case"copy":case"cut":case"paste":U=py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Ac;break;case"toggle":case"beforetoggle":U=by}var ie=(n&4)!==0,be=!ie&&(e==="scroll"||e==="scrollend"),M=ie?D!==null?D+"Capture":null:D;ie=[];for(var x=w,b;x!==null;){var q=x;if(b=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||b===null||M===null||(q=ho(x,M),q!=null&&ie.push(Xo(x,q,b))),be)break;x=x.return}0<ie.length&&(D=new U(D,$,null,l,H),V.push({event:D,listeners:ie}))}}if((n&7)===0){e:{if(D=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",D&&l!==rs&&($=l.relatedTarget||l.fromElement)&&(gi($)||$[hi]))break e;if((U||D)&&(D=H.window===H?H:(D=H.ownerDocument)?D.defaultView||D.parentWindow:window,U?($=l.relatedTarget||l.toElement,U=w,$=$?gi($):null,$!==null&&(be=f($),ie=$.tag,$!==be||ie!==5&&ie!==27&&ie!==6)&&($=null)):(U=null,$=w),U!==$)){if(ie=_c,q="onMouseLeave",M="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Ac,q="onPointerLeave",M="onPointerEnter",x="pointer"),be=U==null?D:mo(U),b=$==null?D:mo($),D=new ie(q,x+"leave",U,l,H),D.target=be,D.relatedTarget=b,q=null,gi(H)===w&&(ie=new ie(M,x+"enter",$,l,H),ie.target=b,ie.relatedTarget=be,q=ie),be=q,U&&$)t:{for(ie=M0,M=U,x=$,b=0,q=M;q;q=ie(q))b++;q=0;for(var te=x;te;te=ie(te))q++;for(;0<b-q;)M=ie(M),b--;for(;0<q-b;)x=ie(x),q--;for(;b--;){if(M===x||x!==null&&M===x.alternate){ie=M;break t}M=ie(M),x=ie(x)}ie=null}else ie=null;U!==null&&gp(V,D,U,ie,!1),$!==null&&be!==null&&gp(V,be,$,ie,!0)}}e:{if(D=w?mo(w):window,U=D.nodeName&&D.nodeName.toLowerCase(),U==="select"||U==="input"&&D.type==="file")var ye=Dc;else if(wc(D))if(Uc)ye=Vy;else{ye=ky;var j=Hy}else U=D.nodeName,!U||U.toLowerCase()!=="input"||D.type!=="checkbox"&&D.type!=="radio"?w&&ss(w.elementType)&&(ye=Dc):ye=qy;if(ye&&(ye=ye(e,w))){Ic(V,ye,l,H);break e}j&&j(e,D,w),e==="focusout"&&w&&D.type==="number"&&w.memoizedProps.value!=null&&as(D,"number",D.value)}switch(j=w?mo(w):window,e){case"focusin":(wc(j)||j.contentEditable==="true")&&(xi=j,Es=w,Co=null);break;case"focusout":Co=Es=xi=null;break;case"mousedown":_s=!0;break;case"contextmenu":case"mouseup":case"dragend":_s=!1,zc(V,l,H);break;case"selectionchange":if(zy)break;case"keydown":case"keyup":zc(V,l,H)}var re;if(ys)e:{switch(e){case"compositionstart":var he="onCompositionStart";break e;case"compositionend":he="onCompositionEnd";break e;case"compositionupdate":he="onCompositionUpdate";break e}he=void 0}else Ai?Mc(e,l)&&(he="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(he="onCompositionStart");he&&(xc&&l.locale!=="ko"&&(Ai||he!=="onCompositionStart"?he==="onCompositionEnd"&&Ai&&(re=Tc()):(Cn=H,ds="value"in Cn?Cn.value:Cn.textContent,Ai=!0)),j=fa(w,he),0<j.length&&(he=new Cc(he,e,null,l,H),V.push({event:he,listeners:j}),re?he.data=re:(re=bc(l),re!==null&&(he.data=re)))),(re=Iy?Dy(e,l):Uy(e,l))&&(he=fa(w,"onBeforeInput"),0<he.length&&(j=new Cc("onBeforeInput","beforeinput",null,l,H),V.push({event:j,listeners:he}),j.data=re)),A0(V,e,w,l,H)}mp(V,n)})}function Xo(e,n,l){return{instance:e,listener:n,currentTarget:l}}function fa(e,n){for(var l=n+"Capture",s=[];e!==null;){var d=e,m=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||m===null||(d=ho(e,l),d!=null&&s.unshift(Xo(e,d,m)),d=ho(e,n),d!=null&&s.push(Xo(e,d,m))),e.tag===3)return s;e=e.return}return[]}function M0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function gp(e,n,l,s,d){for(var m=n._reactName,S=[];l!==null&&l!==s;){var _=l,A=_.alternate,w=_.stateNode;if(_=_.tag,A!==null&&A===s)break;_!==5&&_!==26&&_!==27||w===null||(A=w,d?(w=ho(l,m),w!=null&&S.unshift(Xo(l,w,A))):d||(w=ho(l,m),w!=null&&S.push(Xo(l,w,A)))),l=l.return}S.length!==0&&e.push({event:n,listeners:S})}var b0=/\r\n?/g,w0=/\u0000|\uFFFD/g;function yp(e){return(typeof e=="string"?e:""+e).replace(b0,`
`).replace(w0,"")}function vp(e,n){return n=yp(n),yp(e)===n}function Me(e,n,l,s,d,m){switch(l){case"children":typeof s=="string"?n==="body"||n==="textarea"&&s===""||Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&n!=="body"&&Ei(e,""+s);break;case"className":hl(e,"class",s);break;case"tabIndex":hl(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":hl(e,l,s);break;case"style":yc(e,s,m);break;case"data":if(n!=="object"){hl(e,"data",s);break}case"src":case"href":if(s===""&&(n!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=yl(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(l==="formAction"?(n!=="input"&&Me(e,n,"name",d.name,d,null),Me(e,n,"formEncType",d.formEncType,d,null),Me(e,n,"formMethod",d.formMethod,d,null),Me(e,n,"formTarget",d.formTarget,d,null)):(Me(e,n,"encType",d.encType,d,null),Me(e,n,"method",d.method,d,null),Me(e,n,"target",d.target,d,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=yl(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=en);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=yl(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":pe("beforetoggle",e),pe("toggle",e),ml(e,"popover",s);break;case"xlinkActuate":jt(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":jt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":jt(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":jt(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":jt(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":jt(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":jt(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":jt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":jt(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":ml(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=oy.get(l)||l,ml(e,l,s))}}function Kr(e,n,l,s,d,m){switch(l){case"style":yc(e,s,m);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(a(61));if(l=s.__html,l!=null){if(d.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Ei(e,s):(typeof s=="number"||typeof s=="bigint")&&Ei(e,""+s);break;case"onScroll":s!=null&&pe("scroll",e);break;case"onScrollEnd":s!=null&&pe("scrollend",e);break;case"onClick":s!=null&&(e.onclick=en);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!rc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(d=l.endsWith("Capture"),n=l.slice(2,d?l.length-7:void 0),m=e[dt]||null,m=m!=null?m[l]:null,typeof m=="function"&&e.removeEventListener(n,m,d),typeof s=="function")){typeof m!="function"&&m!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(n,s,d);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):ml(e,l,s)}}}function ot(e,n,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":pe("error",e),pe("load",e);var s=!1,d=!1,m;for(m in l)if(l.hasOwnProperty(m)){var S=l[m];if(S!=null)switch(m){case"src":s=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(e,n,m,S,l,null)}}d&&Me(e,n,"srcSet",l.srcSet,l,null),s&&Me(e,n,"src",l.src,l,null);return;case"input":pe("invalid",e);var _=m=S=d=null,A=null,w=null;for(s in l)if(l.hasOwnProperty(s)){var H=l[s];if(H!=null)switch(s){case"name":d=H;break;case"type":S=H;break;case"checked":A=H;break;case"defaultChecked":w=H;break;case"value":m=H;break;case"defaultValue":_=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Me(e,n,s,H,l,null)}}pc(e,m,_,A,w,S,d,!1);return;case"select":pe("invalid",e),s=S=m=null;for(d in l)if(l.hasOwnProperty(d)&&(_=l[d],_!=null))switch(d){case"value":m=_;break;case"defaultValue":S=_;break;case"multiple":s=_;default:Me(e,n,d,_,l,null)}n=m,l=S,e.multiple=!!s,n!=null?Ti(e,!!s,n,!1):l!=null&&Ti(e,!!s,l,!0);return;case"textarea":pe("invalid",e),m=d=s=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":s=_;break;case"defaultValue":d=_;break;case"children":m=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Me(e,n,S,_,l,null)}hc(e,s,d,m);return;case"option":for(A in l)if(l.hasOwnProperty(A)&&(s=l[A],s!=null))switch(A){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:Me(e,n,A,s,l,null)}return;case"dialog":pe("beforetoggle",e),pe("toggle",e),pe("cancel",e),pe("close",e);break;case"iframe":case"object":pe("load",e);break;case"video":case"audio":for(s=0;s<Ko.length;s++)pe(Ko[s],e);break;case"image":pe("error",e),pe("load",e);break;case"details":pe("toggle",e);break;case"embed":case"source":case"link":pe("error",e),pe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(w in l)if(l.hasOwnProperty(w)&&(s=l[w],s!=null))switch(w){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Me(e,n,w,s,l,null)}return;default:if(ss(n)){for(H in l)l.hasOwnProperty(H)&&(s=l[H],s!==void 0&&Kr(e,n,H,s,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(s=l[_],s!=null&&Me(e,n,_,s,l,null))}function I0(e,n,l,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,m=null,S=null,_=null,A=null,w=null,H=null;for(U in l){var V=l[U];if(l.hasOwnProperty(U)&&V!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":A=V;default:s.hasOwnProperty(U)||Me(e,n,U,null,s,V)}}for(var D in s){var U=s[D];if(V=l[D],s.hasOwnProperty(D)&&(U!=null||V!=null))switch(D){case"type":m=U;break;case"name":d=U;break;case"checked":w=U;break;case"defaultChecked":H=U;break;case"value":S=U;break;case"defaultValue":_=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(a(137,n));break;default:U!==V&&Me(e,n,D,U,s,V)}}ls(e,S,_,A,w,H,m,d);return;case"select":U=S=_=D=null;for(m in l)if(A=l[m],l.hasOwnProperty(m)&&A!=null)switch(m){case"value":break;case"multiple":U=A;default:s.hasOwnProperty(m)||Me(e,n,m,null,s,A)}for(d in s)if(m=s[d],A=l[d],s.hasOwnProperty(d)&&(m!=null||A!=null))switch(d){case"value":D=m;break;case"defaultValue":_=m;break;case"multiple":S=m;default:m!==A&&Me(e,n,d,m,s,A)}n=_,l=S,s=U,D!=null?Ti(e,!!l,D,!1):!!s!=!!l&&(n!=null?Ti(e,!!l,n,!0):Ti(e,!!l,l?[]:"",!1));return;case"textarea":U=D=null;for(_ in l)if(d=l[_],l.hasOwnProperty(_)&&d!=null&&!s.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,n,_,null,s,d)}for(S in s)if(d=s[S],m=l[S],s.hasOwnProperty(S)&&(d!=null||m!=null))switch(S){case"value":D=d;break;case"defaultValue":U=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==m&&Me(e,n,S,d,s,m)}mc(e,D,U);return;case"option":for(var $ in l)if(D=l[$],l.hasOwnProperty($)&&D!=null&&!s.hasOwnProperty($))switch($){case"selected":e.selected=!1;break;default:Me(e,n,$,null,s,D)}for(A in s)if(D=s[A],U=l[A],s.hasOwnProperty(A)&&D!==U&&(D!=null||U!=null))switch(A){case"selected":e.selected=D&&typeof D!="function"&&typeof D!="symbol";break;default:Me(e,n,A,D,s,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)D=l[ie],l.hasOwnProperty(ie)&&D!=null&&!s.hasOwnProperty(ie)&&Me(e,n,ie,null,s,D);for(w in s)if(D=s[w],U=l[w],s.hasOwnProperty(w)&&D!==U&&(D!=null||U!=null))switch(w){case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:Me(e,n,w,D,s,U)}return;default:if(ss(n)){for(var be in l)D=l[be],l.hasOwnProperty(be)&&D!==void 0&&!s.hasOwnProperty(be)&&Kr(e,n,be,void 0,s,D);for(H in s)D=s[H],U=l[H],!s.hasOwnProperty(H)||D===U||D===void 0&&U===void 0||Kr(e,n,H,D,s,U);return}}for(var M in l)D=l[M],l.hasOwnProperty(M)&&D!=null&&!s.hasOwnProperty(M)&&Me(e,n,M,null,s,D);for(V in s)D=s[V],U=l[V],!s.hasOwnProperty(V)||D===U||D==null&&U==null||Me(e,n,V,D,s,U)}function Sp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function D0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var d=l[s],m=d.transferSize,S=d.initiatorType,_=d.duration;if(m&&_&&Sp(S)){for(S=0,_=d.responseEnd,s+=1;s<l.length;s++){var A=l[s],w=A.startTime;if(w>_)break;var H=A.transferSize,V=A.initiatorType;H&&Sp(V)&&(A=A.responseEnd,S+=H*(A<_?1:(_-w)/(A-w)))}if(--s,n+=8*(m+S)/(d.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Xr=null,Qr=null;function da(e){return e.nodeType===9?e:e.ownerDocument}function Tp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ep(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Zr(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $r=null;function U0(){var e=window.event;return e&&e.type==="popstate"?e===$r?!1:($r=e,!0):($r=null,!1)}var _p=typeof setTimeout=="function"?setTimeout:void 0,L0=typeof clearTimeout=="function"?clearTimeout:void 0,Cp=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof Cp<"u"?function(e){return Cp.resolve(null).then(e).catch(H0)}:_p;function H0(e){setTimeout(function(){throw e})}function Bn(e){return e==="head"}function Ap(e,n){var l=n,s=0;do{var d=l.nextSibling;if(e.removeChild(l),d&&d.nodeType===8)if(l=d.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(d),Wi(n);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")Qo(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,Qo(l);for(var m=l.firstChild;m;){var S=m.nextSibling,_=m.nodeName;m[po]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&m.rel.toLowerCase()==="stylesheet"||l.removeChild(m),m=S}}else l==="body"&&Qo(e.ownerDocument.body);l=d}while(l);Wi(n)}function xp(e,n){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?n?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(n?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Wr(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var l=n;switch(n=n.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),is(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function k0(e,n,l,s){for(;e.nodeType===1;){var d=l;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[po])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(m=e.getAttribute("rel"),m==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(m!==d.rel||e.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||e.getAttribute("title")!==(d.title==null?null:d.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(m=e.getAttribute("src"),(m!==(d.src==null?null:d.src)||e.getAttribute("type")!==(d.type==null?null:d.type)||e.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&m&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var m=d.name==null?null:""+d.name;if(d.type==="hidden"&&e.getAttribute("name")===m)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function q0(e,n,l){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=kt(e.nextSibling),e===null))return null;return e}function Rp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=kt(e.nextSibling),e===null))return null;return e}function jr(e){return e.data==="$?"||e.data==="$~"}function eu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function V0(e,n){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||l.readyState!=="loading")n();else{var s=function(){n(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function kt(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var tu=null;function Np(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(n===0)return kt(e.nextSibling);n--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||n++}e=e.nextSibling}return null}function Mp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(n===0)return e;n--}else l!=="/$"&&l!=="/&"||n++}e=e.previousSibling}return null}function bp(e,n,l){switch(n=da(l),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function Qo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);is(e)}var qt=new Map,wp=new Set;function pa(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var yn=F.d;F.d={f:B0,r:z0,D:P0,C:O0,L:F0,m:J0,X:K0,S:Y0,M:X0};function B0(){var e=yn.f(),n=oa();return e||n}function z0(e){var n=yi(e);n!==null&&n.tag===5&&n.type==="form"?Kf(n):yn.r(e)}var Qi=typeof document>"u"?null:document;function Ip(e,n,l){var s=Qi;if(s&&typeof n=="string"&&n){var d=wt(n);d='link[rel="'+e+'"][href="'+d+'"]',typeof l=="string"&&(d+='[crossorigin="'+l+'"]'),wp.has(d)||(wp.add(d),e={rel:e,crossOrigin:l,href:n},s.querySelector(d)===null&&(n=s.createElement("link"),ot(n,"link",e),Ze(n),s.head.appendChild(n)))}}function P0(e){yn.D(e),Ip("dns-prefetch",e,null)}function O0(e,n){yn.C(e,n),Ip("preconnect",e,n)}function F0(e,n,l){yn.L(e,n,l);var s=Qi;if(s&&e&&n){var d='link[rel="preload"][as="'+wt(n)+'"]';n==="image"&&l&&l.imageSrcSet?(d+='[imagesrcset="'+wt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(d+='[imagesizes="'+wt(l.imageSizes)+'"]')):d+='[href="'+wt(e)+'"]';var m=d;switch(n){case"style":m=Zi(e);break;case"script":m=$i(e)}qt.has(m)||(e=T({rel:"preload",href:n==="image"&&l&&l.imageSrcSet?void 0:e,as:n},l),qt.set(m,e),s.querySelector(d)!==null||n==="style"&&s.querySelector(Zo(m))||n==="script"&&s.querySelector($o(m))||(n=s.createElement("link"),ot(n,"link",e),Ze(n),s.head.appendChild(n)))}}function J0(e,n){yn.m(e,n);var l=Qi;if(l&&e){var s=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+wt(s)+'"][href="'+wt(e)+'"]',m=d;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=$i(e)}if(!qt.has(m)&&(e=T({rel:"modulepreload",href:e},n),qt.set(m,e),l.querySelector(d)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector($o(m)))return}s=l.createElement("link"),ot(s,"link",e),Ze(s),l.head.appendChild(s)}}}function Y0(e,n,l){yn.S(e,n,l);var s=Qi;if(s&&e){var d=vi(s).hoistableStyles,m=Zi(e);n=n||"default";var S=d.get(m);if(!S){var _={loading:0,preload:null};if(S=s.querySelector(Zo(m)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":n},l),(l=qt.get(m))&&nu(e,l);var A=S=s.createElement("link");Ze(A),ot(A,"link",e),A._p=new Promise(function(w,H){A.onload=w,A.onerror=H}),A.addEventListener("load",function(){_.loading|=1}),A.addEventListener("error",function(){_.loading|=2}),_.loading|=4,ma(S,n,s)}S={type:"stylesheet",instance:S,count:1,state:_},d.set(m,S)}}}function K0(e,n){yn.X(e,n);var l=Qi;if(l&&e){var s=vi(l).hoistableScripts,d=$i(e),m=s.get(d);m||(m=l.querySelector($o(d)),m||(e=T({src:e,async:!0},n),(n=qt.get(d))&&iu(e,n),m=l.createElement("script"),Ze(m),ot(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function X0(e,n){yn.M(e,n);var l=Qi;if(l&&e){var s=vi(l).hoistableScripts,d=$i(e),m=s.get(d);m||(m=l.querySelector($o(d)),m||(e=T({src:e,async:!0,type:"module"},n),(n=qt.get(d))&&iu(e,n),m=l.createElement("script"),Ze(m),ot(m,"link",e),l.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},s.set(d,m))}}function Dp(e,n,l,s){var d=(d=fe.current)?pa(d):null;if(!d)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(n=Zi(l.href),l=vi(d).hoistableStyles,s=l.get(n),s||(s={type:"style",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=Zi(l.href);var m=vi(d).hoistableStyles,S=m.get(e);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(e,S),(m=d.querySelector(Zo(e)))&&!m._p&&(S.instance=m,S.state.loading=5),qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},qt.set(e,l),m||Q0(d,e,l,S.state))),n&&s===null)throw Error(a(528,""));return S}if(n&&s!==null)throw Error(a(529,""));return null;case"script":return n=l.async,l=l.src,typeof l=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=$i(l),l=vi(d).hoistableScripts,s=l.get(n),s||(s={type:"script",instance:null,count:0,state:null},l.set(n,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Zi(e){return'href="'+wt(e)+'"'}function Zo(e){return'link[rel="stylesheet"]['+e+"]"}function Up(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function Q0(e,n,l,s){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?s.loading=1:(n=e.createElement("link"),s.preload=n,n.addEventListener("load",function(){return s.loading|=1}),n.addEventListener("error",function(){return s.loading|=2}),ot(n,"link",l),Ze(n),e.head.appendChild(n))}function $i(e){return'[src="'+wt(e)+'"]'}function $o(e){return"script[async]"+e}function Lp(e,n,l){if(n.count++,n.instance===null)switch(n.type){case"style":var s=e.querySelector('style[data-href~="'+wt(l.href)+'"]');if(s)return n.instance=s,Ze(s),s;var d=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),Ze(s),ot(s,"style",d),ma(s,l.precedence,e),n.instance=s;case"stylesheet":d=Zi(l.href);var m=e.querySelector(Zo(d));if(m)return n.state.loading|=4,n.instance=m,Ze(m),m;s=Up(l),(d=qt.get(d))&&nu(s,d),m=(e.ownerDocument||e).createElement("link"),Ze(m);var S=m;return S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),ot(m,"link",s),n.state.loading|=4,ma(m,l.precedence,e),n.instance=m;case"script":return m=$i(l.src),(d=e.querySelector($o(m)))?(n.instance=d,Ze(d),d):(s=l,(d=qt.get(m))&&(s=T({},l),iu(s,d)),e=e.ownerDocument||e,d=e.createElement("script"),Ze(d),ot(d,"link",s),e.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(s=n.instance,n.state.loading|=4,ma(s,l.precedence,e));return n.instance}function ma(e,n,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=s.length?s[s.length-1]:null,m=d,S=0;S<s.length;S++){var _=s[S];if(_.dataset.precedence===n)m=_;else if(m!==d)break}m?m.parentNode.insertBefore(e,m.nextSibling):(n=l.nodeType===9?l.head:l,n.insertBefore(e,n.firstChild))}function nu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function iu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var ha=null;function Gp(e,n,l){if(ha===null){var s=new Map,d=ha=new Map;d.set(l,s)}else d=ha,s=d.get(l),s||(s=new Map,d.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),d=0;d<l.length;d++){var m=l[d];if(!(m[po]||m[et]||e==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var S=m.getAttribute(n)||"";S=e+S;var _=s.get(S);_?_.push(m):s.set(S,[m])}}return s}function Hp(e,n,l){e=e.ownerDocument||e,e.head.insertBefore(l,n==="title"?e.querySelector("head > title"):null)}function Z0(e,n,l){if(l===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function kp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function $0(e,n,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var d=Zi(s.href),m=n.querySelector(Zo(d));if(m){n=m._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=ga.bind(e),n.then(e,e)),l.state.loading|=4,l.instance=m,Ze(m);return}m=n.ownerDocument||n,s=Up(s),(d=qt.get(d))&&nu(s,d),m=m.createElement("link"),Ze(m);var S=m;S._p=new Promise(function(_,A){S.onload=_,S.onerror=A}),ot(m,"link",s),l.instance=m}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,n),(n=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=ga.bind(e),n.addEventListener("load",l),n.addEventListener("error",l))}}var ou=0;function W0(e,n){return e.stylesheets&&e.count===0&&va(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&va(e,e.stylesheets),e.unsuspend){var m=e.unsuspend;e.unsuspend=null,m()}},6e4+n);0<e.imgBytes&&ou===0&&(ou=62500*D0());var d=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&va(e,e.stylesheets),e.unsuspend)){var m=e.unsuspend;e.unsuspend=null,m()}},(e.imgBytes>ou?50:800)+n);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(d)}}:null}function ga(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)va(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ya=null;function va(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ya=new Map,n.forEach(j0,e),ya=null,ga.call(e))}function j0(e,n){if(!(n.state.loading&4)){var l=ya.get(e);if(l)var s=l.get(null);else{l=new Map,ya.set(e,l);for(var d=e.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<d.length;m++){var S=d[m];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),s=S)}s&&l.set(null,s)}d=n.instance,S=d.getAttribute("data-precedence"),m=l.get(S)||s,m===s&&l.set(null,d),l.set(S,d),this.count++,s=ga.bind(this),d.addEventListener("load",s),d.addEventListener("error",s),m?m.parentNode.insertBefore(d,m.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(d,e.firstChild)),n.state.loading|=4}}var Wo={$$typeof:O,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function ev(e,n,l,s,d,m,S,_,A){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ja(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ja(0),this.hiddenUpdates=ja(null),this.identifierPrefix=s,this.onUncaughtError=d,this.onCaughtError=m,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function qp(e,n,l,s,d,m,S,_,A,w,H,V){return e=new ev(e,n,l,S,A,w,H,V,_),n=1,m===!0&&(n|=24),m=Ct(3,null,null,n),e.current=m,m.stateNode=e,n=ks(),n.refCount++,e.pooledCache=n,n.refCount++,m.memoizedState={element:s,isDehydrated:l,cache:n},zs(m),e}function Vp(e){return e?(e=Mi,e):Mi}function Bp(e,n,l,s,d,m){d=Vp(d),s.context===null?s.context=d:s.pendingContext=d,s=bn(n),s.payload={element:l},m=m===void 0?null:m,m!==null&&(s.callback=m),l=wn(e,s,n),l!==null&&(vt(l,e,n),wo(l,e,n))}function zp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<n?l:n}}function lu(e,n){zp(e,n),(e=e.alternate)&&zp(e,n)}function Pp(e){if(e.tag===13||e.tag===31){var n=jn(e,67108864);n!==null&&vt(n,e,67108864),lu(e,67108864)}}function Op(e){if(e.tag===13||e.tag===31){var n=Mt();n=es(n);var l=jn(e,n);l!==null&&vt(l,e,n),lu(e,n)}}var Sa=!0;function tv(e,n,l,s){var d=k.T;k.T=null;var m=F.p;try{F.p=2,au(e,n,l,s)}finally{F.p=m,k.T=d}}function nv(e,n,l,s){var d=k.T;k.T=null;var m=F.p;try{F.p=8,au(e,n,l,s)}finally{F.p=m,k.T=d}}function au(e,n,l,s){if(Sa){var d=su(s);if(d===null)Yr(e,n,s,Ta,l),Jp(e,s);else if(ov(d,e,n,l,s))s.stopPropagation();else if(Jp(e,s),n&4&&-1<iv.indexOf(e)){for(;d!==null;){var m=yi(d);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var S=Xn(m.pendingLanes);if(S!==0){var _=m;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var A=1<<31-Et(S);_.entanglements[1]|=A,S&=~A}$t(m),(Ee&6)===0&&(na=St()+500,Yo(0))}}break;case 31:case 13:_=jn(m,2),_!==null&&vt(_,m,2),oa(),lu(m,2)}if(m=su(s),m===null&&Yr(e,n,s,Ta,l),m===d)break;d=m}d!==null&&s.stopPropagation()}else Yr(e,n,s,null,l)}}function su(e){return e=us(e),ru(e)}var Ta=null;function ru(e){if(Ta=null,e=gi(e),e!==null){var n=f(e);if(n===null)e=null;else{var l=n.tag;if(l===13){if(e=p(n),e!==null)return e;e=null}else if(l===31){if(e=h(n),e!==null)return e;e=null}else if(l===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ta=e,null}function Fp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pg()){case $u:return 2;case Wu:return 8;case ul:case Og:return 32;case ju:return 268435456;default:return 32}default:return 32}}var uu=!1,zn=null,Pn=null,On=null,jo=new Map,el=new Map,Fn=[],iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Jp(e,n){switch(e){case"focusin":case"focusout":zn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":jo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":el.delete(n.pointerId)}}function tl(e,n,l,s,d,m){return e===null||e.nativeEvent!==m?(e={blockedOn:n,domEventName:l,eventSystemFlags:s,nativeEvent:m,targetContainers:[d]},n!==null&&(n=yi(n),n!==null&&Pp(n)),e):(e.eventSystemFlags|=s,n=e.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),e)}function ov(e,n,l,s,d){switch(n){case"focusin":return zn=tl(zn,e,n,l,s,d),!0;case"dragenter":return Pn=tl(Pn,e,n,l,s,d),!0;case"mouseover":return On=tl(On,e,n,l,s,d),!0;case"pointerover":var m=d.pointerId;return jo.set(m,tl(jo.get(m)||null,e,n,l,s,d)),!0;case"gotpointercapture":return m=d.pointerId,el.set(m,tl(el.get(m)||null,e,n,l,s,d)),!0}return!1}function Yp(e){var n=gi(e.target);if(n!==null){var l=f(n);if(l!==null){if(n=l.tag,n===13){if(n=p(l),n!==null){e.blockedOn=n,lc(e.priority,function(){Op(l)});return}}else if(n===31){if(n=h(l),n!==null){e.blockedOn=n,lc(e.priority,function(){Op(l)});return}}else if(n===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ea(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);rs=s,l.target.dispatchEvent(s),rs=null}else return n=yi(l),n!==null&&Pp(n),e.blockedOn=l,!1;n.shift()}return!0}function Kp(e,n,l){Ea(e)&&l.delete(n)}function lv(){uu=!1,zn!==null&&Ea(zn)&&(zn=null),Pn!==null&&Ea(Pn)&&(Pn=null),On!==null&&Ea(On)&&(On=null),jo.forEach(Kp),el.forEach(Kp)}function _a(e,n){e.blockedOn===n&&(e.blockedOn=null,uu||(uu=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,lv)))}var Ca=null;function Xp(e){Ca!==e&&(Ca=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Ca===e&&(Ca=null);for(var n=0;n<e.length;n+=3){var l=e[n],s=e[n+1],d=e[n+2];if(typeof s!="function"){if(ru(s||l)===null)continue;break}var m=yi(l);m!==null&&(e.splice(n,3),n-=3,sr(m,{pending:!0,data:d,method:l.method,action:s},s,d))}}))}function Wi(e){function n(A){return _a(A,e)}zn!==null&&_a(zn,e),Pn!==null&&_a(Pn,e),On!==null&&_a(On,e),jo.forEach(n),el.forEach(n);for(var l=0;l<Fn.length;l++){var s=Fn[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Fn.length&&(l=Fn[0],l.blockedOn===null);)Yp(l),l.blockedOn===null&&Fn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var d=l[s],m=l[s+1],S=d[dt]||null;if(typeof m=="function")S||Xp(l);else if(S){var _=null;if(m&&m.hasAttribute("formAction")){if(d=m,S=m[dt]||null)_=S.formAction;else if(ru(d)!==null)continue}else _=S.action;typeof _=="function"?l[s+1]=_:(l.splice(s,3),s-=3),Xp(l)}}}function Qp(){function e(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function n(){d!==null&&(d(),d=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,d=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),d!==null&&(d(),d=null)}}}function cu(e){this._internalRoot=e}Aa.prototype.render=cu.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var l=n.current,s=Mt();Bp(l,s,e,n,null,null)},Aa.prototype.unmount=cu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Bp(e.current,2,null,e,null,null),oa(),n[hi]=null}};function Aa(e){this._internalRoot=e}Aa.prototype.unstable_scheduleHydration=function(e){if(e){var n=oc();e={blockedOn:null,target:e,priority:n};for(var l=0;l<Fn.length&&n!==0&&n<Fn[l].priority;l++);Fn.splice(l,0,e),l===0&&Yp(e)}};var Zp=t.version;if(Zp!=="19.2.4")throw Error(a(527,Zp,"19.2.4"));F.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var av={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xa.isDisabled&&xa.supportsFiber)try{uo=xa.inject(av),Tt=xa}catch{}}return ll.createRoot=function(e,n){if(!r(e))throw Error(a(299));var l=!1,s="",d=id,m=od,S=ld;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(m=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError)),n=qp(e,1,!1,null,null,l,s,null,d,m,S,Qp),e[hi]=n.current,Jr(e),new cu(n)},ll.hydrateRoot=function(e,n,l){if(!r(e))throw Error(a(299));var s=!1,d="",m=id,S=od,_=ld,A=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(d=l.identifierPrefix),l.onUncaughtError!==void 0&&(m=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(A=l.formState)),n=qp(e,1,!0,n,l??null,s,d,A,m,S,_,Qp),n.context=Vp(null),l=n.current,s=Mt(),s=es(s),d=bn(s),d.callback=null,wn(l,d,s),l=s,n.current.lanes=l,fo(n,l),$t(n),e[hi]=n.current,Jr(e),new Aa(n)},ll.version="19.2.4",ll}var Bh;function kx(){if(Bh)return hu.exports;Bh=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),hu.exports=Hx(),hu.exports}var qx=kx();const Vx=qg(qx),Xu=[{id:"math",name:{ar:"",en:"Mathematics"},icon:"",color:"bg-blue-500"},{id:"science",name:{ar:"",en:"Science"},icon:"",color:"bg-green-500"},{id:"history",name:{ar:"",en:"History"},icon:"",color:"bg-amber-500"},{id:"english",name:{ar:" ",en:"English Language"},icon:"",color:"bg-emerald-500"}],Wt={ar:{dashboard:" ",startExam:" ",totalExams:" ",accuracy:" ",progress:"",lastScore:" ",noExams:"    ",next:"",previous:"",submit:" ",backToHome:" ",score:" ",timeSpent:" ",correctAnswers:" ",wrongAnswers:" ",review:" ",checking:" ...",check:"  ",yourAnswer:"",correctAnswer:" ",langToggle:"English",themeToggle:" ",examHistory:" ",date:"",subject:"",stats:" ",correct:"",wrong:"",placement_title:"  ",placement_desc:"        .",placement_btn:"  ",delete:"",open:" ",wrongOften:"   ",subjectStats:" ",starred_exam:" ",starred_desc:"         .",show_all:" ",show_wrong:" ",no_starred:"     .      !",my_favorites:" ",fav_questions:" ",start_fav_test:"  ",add_to_fav:" ",remove_from_fav:"  "},en:{dashboard:"Dashboard",startExam:"Start Exam",totalExams:"Total Exams",accuracy:"Accuracy Rate",progress:"Progress",lastScore:"Last Score",noExams:"No exams taken yet",next:"Next",previous:"Previous",submit:"Finish Exam",backToHome:"Back to Home",score:"Final Score",timeSpent:"Time Spent",correctAnswers:"Correct Answers",wrongAnswers:"Wrong Answers",review:"Review Answers",checking:"Checking...",check:"Check Answer",yourAnswer:"Your Answer",correctAnswer:"Correct Answer",langToggle:"",themeToggle:"Toggle Theme",examHistory:"Exam History",date:"Date",subject:"Subject",stats:"Overall Statistics",correct:"Correct",wrong:"Wrong",placement_title:"Placement Exam",placement_desc:"Start by assessing your overall level to get a personalized study plan.",placement_btn:"Start Assessment Now",delete:"Delete",open:"Open Review",wrongOften:"Frequently Wrong Questions",subjectStats:"Subject Stats",starred_exam:"Starred Challenge",starred_desc:"Test yourself only on the questions you previously starred.",show_all:"Show All",show_wrong:"Wrong Only",no_starred:"No starred questions yet. Click the star during exams to add some!",my_favorites:"My Favorites",fav_questions:"Saved Questions",start_fav_test:"Start Favorites Test",add_to_fav:"Add to Favorites",remove_from_fav:"Remove from Favorites"}},Su="ai_exam_user_stats",Tu="ai_exam_results",zh="ai_exam_starred_data",Be={getStats:()=>{const i=localStorage.getItem(Su);return i?JSON.parse(i):{examsTaken:0,accuracyRate:0,totalQuestionsAnswered:0,correctAnswers:0,starredQuestionIds:[],subjectProgress:{}}},getAllResults:()=>{const i=localStorage.getItem(Tu);return i?JSON.parse(i):[]},getStarredQuestions:()=>{const i=localStorage.getItem(zh);return i?JSON.parse(i):[]},toggleStar:i=>{const t=Be.getStats();let o=Be.getStarredQuestions();const a=t.starredQuestionIds.includes(i.id);return a?(t.starredQuestionIds=t.starredQuestionIds.filter(r=>r!==i.id),o=o.filter(r=>r.id!==i.id)):(t.starredQuestionIds.push(i.id),o.push(i)),localStorage.setItem(Su,JSON.stringify(t)),localStorage.setItem(zh,JSON.stringify(o)),!a},deleteResult:i=>{let t=Be.getAllResults();t=t.filter(o=>o.date!==i),localStorage.setItem(Tu,JSON.stringify(t)),Be.rebuildStats(t)},rebuildStats:i=>{const t=Be.getStats(),o={examsTaken:i.length,accuracyRate:0,totalQuestionsAnswered:0,correctAnswers:0,starredQuestionIds:t.starredQuestionIds,subjectProgress:{}};i.forEach(a=>{o.totalQuestionsAnswered+=a.answers.length,o.correctAnswers+=a.answers.filter(p=>p.isCorrect).length;const r=a.subjectId;o.subjectProgress[r]||(o.subjectProgress[r]={examsCount:0,accuracy:0,lastScore:0});const f=o.subjectProgress[r];f.examsCount+=1,f.lastScore=a.score,f.accuracy=Math.round((f.accuracy*(f.examsCount-1)+a.score)/f.examsCount)}),o.totalQuestionsAnswered>0&&(o.accuracyRate=Math.round(o.correctAnswers/o.totalQuestionsAnswered*100)),localStorage.setItem(Su,JSON.stringify(o))},saveResult:i=>{const t={...i,date:Date.now()},o=Be.getAllResults();o.push(t),localStorage.setItem(Tu,JSON.stringify(o)),Be.rebuildStats(o)}},Bx={checkSemanticSimilarity:async(i,t)=>{try{const o=new Gg({apiKey:void 0}),a=`
        Compare these two Arabic phrases for semantic similarity.
        User Answer: "${i}"
        Correct Answer: "${t}"
        
        Rules:
        1. Ignore Arabic tashkeel (diacritics).
        2. Normalize alef (, ,  to ) and taa marbuta ( to ).
        3. If they mean the same thing, return a high score.
        4. Return ONLY a JSON object with a 'score' property between 0 and 100.
      `,r=await o.models.generateContent({model:"gemini-3-pro-preview",contents:a,config:{responseMimeType:"application/json",responseSchema:{type:Vt.OBJECT,properties:{score:{type:Vt.NUMBER,description:"Similarity score from 0 to 100"}},required:["score"]}}});return JSON.parse(r.text||'{"score": 0}').score||0}catch(o){return console.error("AI Check failed:",o),i.trim().toLowerCase()===t.trim().toLowerCase()?100:0}}},zx=({lang:i,setLang:t,theme:o,toggleTheme:a,onStats:r,onFavorites:f})=>{const p=Wt[i];return N.jsxs("nav",{className:"sticky top-0 z-50 bg-white/70 dark:bg-slate-950/70 backdrop-blur-xl border-b border-slate-200 dark:border-slate-800 px-6 py-4 flex justify-between items-center transition-all",children:[N.jsxs("div",{className:"flex items-center gap-3 cursor-pointer group",onClick:()=>window.location.reload(),children:[N.jsx("div",{className:"w-11 h-11 bg-gradient-to-tr from-indigo-600 to-violet-500 rounded-2xl flex items-center justify-center shadow-lg shadow-indigo-200 dark:shadow-none group-hover:rotate-6 transition-transform",children:N.jsx("span",{className:"text-white text-2xl",children:""})}),N.jsxs("div",{className:"hidden sm:block",children:[N.jsxs("h1",{className:"text-xl font-black tracking-tight text-slate-800 dark:text-white",children:["AI ",N.jsx("span",{className:"text-indigo-600",children:"Exam"})," Pro"]}),N.jsx("p",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest leading-none",children:"Intelligence Testing"})]})]}),N.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[N.jsx("button",{onClick:f,className:"p-3 rounded-2xl bg-amber-50 dark:bg-amber-900/20 text-amber-500 hover:bg-amber-100 transition-colors active:scale-90",title:p.my_favorites,children:""}),N.jsx("button",{onClick:r,className:"p-3 rounded-2xl bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 hover:bg-indigo-100 transition-colors active:scale-90",title:p.examHistory,children:""}),N.jsx("button",{onClick:a,className:"p-3 rounded-2xl bg-slate-50 dark:bg-slate-800 text-slate-600 dark:text-slate-300 hover:bg-slate-100 transition-colors active:scale-90",children:o==="light"?"":""}),N.jsx("div",{className:"h-8 w-px bg-slate-200 dark:bg-slate-800 mx-1 hidden sm:block"}),N.jsx("button",{onClick:()=>t(i==="ar"?"en":"ar"),className:"px-5 py-2.5 rounded-2xl bg-indigo-600 text-white hover:bg-indigo-700 transition-all text-sm font-black shadow-lg shadow-indigo-200 dark:shadow-none active:scale-95",children:p.langToggle})]})]})},Px=({stats:i,onSelectSubject:t,onStartPlacement:o,onStartStarred:a,onSubjectStats:r,lang:f})=>{const p=Wt[f];return N.jsxs("div",{className:"max-w-6xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("header",{className:"mb-12 flex flex-col md:flex-row md:items-center justify-between gap-8",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-4xl font-black mb-2 text-slate-800 dark:text-white",children:p.dashboard}),N.jsx("p",{className:"text-slate-500 font-medium",children:p.stats})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-5 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center gap-5",children:[N.jsx("div",{className:"w-12 h-12 bg-indigo-100 dark:bg-indigo-900/40 rounded-2xl flex items-center justify-center text-2xl",children:""}),N.jsxs("div",{children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-wider",children:p.accuracy}),N.jsxs("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:[i.accuracyRate,"%"]})]})]}),N.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-5 shadow-sm border border-slate-100 dark:border-slate-800 flex items-center gap-5",children:[N.jsx("div",{className:"w-12 h-12 bg-violet-100 dark:bg-violet-900/40 rounded-2xl flex items-center justify-center text-2xl",children:""}),N.jsxs("div",{children:[N.jsx("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-wider",children:p.totalExams}),N.jsx("p",{className:"text-2xl font-black text-slate-800 dark:text-white",children:i.examsTaken})]})]})]})]}),N.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12",children:[N.jsxs("div",{className:"bg-gradient-to-br from-indigo-600 via-indigo-600 to-violet-600 rounded-[3rem] p-10 text-white shadow-2xl shadow-indigo-100 dark:shadow-none relative overflow-hidden group",children:[N.jsxs("div",{className:"relative z-10",children:[N.jsx("span",{className:"bg-white/20 backdrop-blur-md px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest mb-6 inline-block",children:"Special / "}),N.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4 leading-tight",children:p.placement_title}),N.jsx("p",{className:"text-indigo-100 mb-8 text-lg font-medium opacity-90 max-w-sm",children:p.placement_desc}),N.jsx("button",{onClick:o,className:"bg-white text-indigo-600 px-10 py-4 rounded-2xl font-black hover:scale-105 transition-transform shadow-xl active:scale-95",children:p.placement_btn})]}),N.jsx("div",{className:"absolute -right-16 -bottom-16 text-[18rem] opacity-10 select-none group-hover:scale-110 transition-transform duration-1000",children:""})]}),N.jsxs("div",{className:"bg-gradient-to-br from-amber-400 via-amber-500 to-orange-500 rounded-[3rem] p-10 text-white shadow-2xl shadow-amber-50 dark:shadow-none relative overflow-hidden group",children:[N.jsxs("div",{className:"relative z-10",children:[N.jsx("span",{className:"bg-white/20 backdrop-blur-md px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest mb-6 inline-block",children:"Challenge / "}),N.jsx("h2",{className:"text-3xl md:text-4xl font-black mb-4 leading-tight",children:p.starred_exam}),N.jsx("p",{className:"text-amber-50 mb-8 text-lg font-medium opacity-90 max-w-sm",children:p.starred_desc}),N.jsxs("button",{onClick:a,className:"bg-white text-amber-600 px-10 py-4 rounded-2xl font-black hover:scale-105 transition-transform shadow-xl active:scale-95 disabled:opacity-50",disabled:i.starredQuestionIds.length===0,children:[p.startExam," (",i.starredQuestionIds.length,")"]})]}),N.jsx("div",{className:"absolute -right-16 -bottom-16 text-[18rem] opacity-10 select-none group-hover:rotate-12 transition-transform duration-1000",children:""})]})]}),N.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-8",children:Xu.map(h=>N.jsx(Ox,{subject:h,stats:i.subjectProgress[h.id],lang:f,onStart:()=>t(h.id),onStats:()=>r(h.id)},h.id))})]})},Ox=({subject:i,stats:t,onStart:o,onStats:a,lang:r})=>{const f=Wt[r],p=(t==null?void 0:t.accuracy)||0;return N.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-[2.5rem] p-8 flex flex-col hover:-translate-y-2 transition-all group overflow-hidden relative shadow-sm border border-slate-100 dark:border-slate-800",children:[N.jsx("button",{onClick:a,className:"absolute top-6 left-6 p-2.5 bg-slate-50 dark:bg-slate-800 rounded-xl opacity-0 group-hover:opacity-100 transition-all z-20 hover:bg-indigo-50",children:""}),N.jsx("div",{className:"absolute top-0 right-0 p-3 opacity-[0.03] text-9xl group-hover:scale-125 transition-transform duration-700 pointer-events-none",children:i.icon}),N.jsxs("div",{className:"relative z-10 text-start",children:[N.jsx("div",{className:`w-16 h-16 ${i.color} rounded-2xl flex items-center justify-center text-4xl shadow-xl shadow-slate-100 dark:shadow-none mb-8 group-hover:rotate-6 transition-transform`,children:i.icon}),N.jsx("h3",{className:"text-2xl font-black mb-1 text-slate-800 dark:text-white tracking-tight",children:i.name[r]}),N.jsxs("p",{className:"text-[10px] text-slate-400 font-black uppercase tracking-widest mb-6",children:[(t==null?void 0:t.examsCount)||0," ",f.totalExams]}),N.jsxs("div",{className:"mb-8",children:[N.jsxs("div",{className:"flex justify-between items-center mb-2",children:[N.jsx("span",{className:"text-[10px] font-black text-slate-400 uppercase",children:f.progress}),N.jsxs("span",{className:"text-sm font-black text-indigo-600",children:[p,"%"]})]}),N.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-2.5 rounded-full overflow-hidden",children:N.jsx("div",{className:`h-full ${i.color} transition-all duration-1000`,style:{width:`${p}%`}})})]}),N.jsx("button",{onClick:o,className:"w-full bg-indigo-600 text-white py-4 rounded-2xl font-black hover:bg-indigo-700 transition-all shadow-lg shadow-indigo-100 dark:shadow-none active:scale-95",children:f.startExam})]})]})},Fx=({exam:i,lang:t,onFinish:o,onCancel:a})=>{var O;const r=Wt[t],[f,p]=We.useState(0),[h,y]=We.useState({}),[g]=We.useState(Date.now()),[v,T]=We.useState(!1),[E,C]=We.useState(Be.getStats().starredQuestionIds),I=i.questions[f],G=()=>{f<i.questions.length-1?p(P=>P+1):L()},L=async()=>{T(!0);const P=[];let Q=0;for(const ee of i.questions){const J=h[ee.id]||"";let ue=!1,Z;ee.type==="fill-in-the-blank"?(Z=await Bx.checkSemanticSimilarity(J,ee.correctAnswer),ue=Z>=75):ue=String(J)===String(ee.correctAnswer),ue&&Q++,P.push({questionId:ee.id,userAnswer:J,isCorrect:ue,similarityScore:Z})}o({examId:i.id,subjectId:i.subjectId,score:Math.round(Q/i.questions.length*100),timeSpent:Math.floor((Date.now()-g)/1e3),answers:P}),T(!1)},z=E.includes(I.id),Y=()=>{Be.toggleStar(I),C(Be.getStats().starredQuestionIds)};return N.jsxs("div",{className:"max-w-3xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("div",{className:"flex justify-between items-center mb-8",children:[N.jsxs("button",{onClick:a,className:"text-slate-400 hover:text-slate-600 font-bold",children:[" ",r.backToHome]}),N.jsxs("div",{className:"flex items-center gap-4",children:[N.jsxs("span",{className:"text-sm font-black text-indigo-600",children:[f+1," / ",i.questions.length]}),N.jsx("button",{onClick:Y,className:`text-2xl ${z?"text-amber-500":"text-slate-200"}`,children:""})]})]}),N.jsx("div",{className:"w-full bg-slate-100 dark:bg-slate-800 h-2 rounded-full mb-12",children:N.jsx("div",{className:"h-full bg-indigo-600 rounded-full transition-all",style:{width:`${(f+1)/i.questions.length*100}%`}})}),N.jsx("h2",{className:"text-3xl font-black mb-10 text-slate-800 dark:text-white leading-tight",children:I.questionText[t]}),N.jsx("div",{className:"space-y-4 mb-12",children:I.type==="multiple-choice"||I.type==="true-false"?(O=I.options)==null?void 0:O.map((P,Q)=>N.jsxs("button",{onClick:()=>y({...h,[I.id]:String(Q)}),className:`w-full p-6 text-start rounded-3xl border-2 transition-all flex items-center gap-4 ${h[I.id]===String(Q)?"border-indigo-600 bg-indigo-50/50 dark:bg-indigo-900/20":"border-slate-100 dark:border-slate-800 hover:border-slate-200"}`,children:[N.jsx("span",{className:`w-8 h-8 rounded-lg flex items-center justify-center font-bold ${h[I.id]===String(Q)?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800 text-slate-400"}`,children:String.fromCharCode(65+Q)}),N.jsx("span",{className:"font-bold text-slate-700 dark:text-slate-200",children:P[t]})]},Q)):N.jsx("input",{type:"text",value:h[I.id]||"",onChange:P=>y({...h,[I.id]:P.target.value}),placeholder:r.yourAnswer,className:"w-full p-8 text-2xl font-black rounded-[2rem] border-2 border-slate-100 dark:border-slate-800 dark:bg-slate-950 focus:border-indigo-600 outline-none transition-all text-center"})}),N.jsxs("div",{className:"flex justify-between items-center gap-4",children:[N.jsx("button",{onClick:()=>p(P=>Math.max(0,P-1)),disabled:f===0,className:"flex-1 py-5 bg-slate-100 dark:bg-slate-800 rounded-2xl font-black text-slate-500 disabled:opacity-30",children:r.previous}),N.jsx("button",{onClick:G,className:"flex-[2] py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-100 dark:shadow-none hover:bg-indigo-700 transition-all",children:f===i.questions.length-1?r.submit:r.next})]}),v&&N.jsxs("div",{className:"fixed inset-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl z-[100] flex flex-col items-center justify-center",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-6"}),N.jsx("p",{className:"font-black text-2xl text-indigo-600",children:r.checking})]})]})},Jx=({result:i,exam:t,lang:o,onHome:a,onReview:r})=>{const f=Wt[o];return N.jsxs("div",{className:"max-w-2xl mx-auto p-6 animate-fade-in text-center",children:[N.jsx("div",{className:"w-24 h-24 bg-green-100 dark:bg-green-900/40 text-green-600 rounded-full flex items-center justify-center text-5xl mx-auto mb-8 animate-bounce",children:""}),N.jsxs("h2",{className:"text-4xl font-black mb-4 text-slate-800 dark:text-white",children:[f.score,": ",i.score,"%"]}),N.jsx("p",{className:"text-slate-400 font-bold mb-12 uppercase tracking-widest",children:t.title[o]}),N.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-12",children:[N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-100 dark:border-slate-800",children:[N.jsx("p",{className:"text-xs font-black text-slate-400 uppercase mb-1",children:f.timeSpent}),N.jsxs("p",{className:"text-xl font-black text-slate-800 dark:text-white",children:[Math.floor(i.timeSpent/60),":",String(i.timeSpent%60).padStart(2,"0")]})]}),N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl border border-slate-100 dark:border-slate-800",children:[N.jsx("p",{className:"text-xs font-black text-slate-400 uppercase mb-1",children:f.correctAnswers}),N.jsx("p",{className:"text-xl font-black text-green-600",children:i.answers.filter(p=>p.isCorrect).length})]})]}),N.jsxs("div",{className:"space-y-4",children:[N.jsx("button",{onClick:r,className:"w-full py-5 bg-indigo-600 text-white rounded-2xl font-black shadow-xl shadow-indigo-100 dark:shadow-none hover:bg-indigo-700 transition-all",children:f.review}),N.jsx("button",{onClick:a,className:"w-full py-5 bg-slate-100 dark:bg-slate-800 text-slate-600 dark:text-slate-300 rounded-2xl font-black",children:f.backToHome})]})]})},Yx=({lang:i,onBack:t,onStartExam:o,onToggleStar:a})=>{const r=Wt[i],[f,p]=We.useState(Be.getStarredQuestions()),h=y=>{a(y),p(Be.getStarredQuestions())};return N.jsxs("div",{className:"max-w-4xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("header",{className:"mb-12 flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-4xl font-black mb-2 text-slate-800 dark:text-white tracking-tight",children:r.my_favorites}),N.jsxs("p",{className:"text-slate-400 font-bold",children:[f.length," ",r.fav_questions]})]}),N.jsxs("div",{className:"flex gap-4",children:[N.jsx("button",{disabled:f.length===0,onClick:o,className:"bg-amber-500 text-white px-8 py-4 rounded-2xl font-black hover:bg-amber-600 transition-all shadow-lg shadow-amber-100 dark:shadow-none active:scale-95 disabled:opacity-50",children:r.start_fav_test}),N.jsx("button",{onClick:t,className:"bg-slate-100 dark:bg-slate-800 px-8 py-4 rounded-2xl font-black hover:bg-slate-200 transition-all",children:r.backToHome})]})]}),f.length===0?N.jsxs("div",{className:"text-center py-24 bg-white dark:bg-slate-900 rounded-[3rem] border-2 border-dashed border-slate-200 dark:border-slate-800",children:[N.jsx("div",{className:"text-6xl mb-6",children:""}),N.jsx("p",{className:"text-slate-400 font-bold text-lg max-w-sm mx-auto leading-relaxed",children:r.no_starred})]}):N.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:f.map(y=>{var g,v;return N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] shadow-sm border border-slate-100 dark:border-slate-800 relative group transition-all hover:shadow-xl",children:[N.jsx("button",{onClick:()=>h(y),className:"absolute top-6 left-6 text-2xl text-amber-500",children:""}),N.jsx("span",{className:"inline-block px-3 py-1 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 dark:text-indigo-400 text-[10px] font-black rounded-full uppercase mb-4",children:y.type}),N.jsx("p",{className:"font-bold text-lg text-slate-800 dark:text-slate-200 mb-6 line-clamp-3",children:y.questionText[i]}),N.jsxs("div",{className:"pt-4 border-t border-slate-50 dark:border-slate-800",children:[N.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-1",children:r.correctAnswer}),N.jsx("p",{className:"font-bold text-indigo-600",children:y.type==="multiple-choice"?(v=(g=y.options)==null?void 0:g[parseInt(y.correctAnswer)])==null?void 0:v[i]:y.correctAnswer})]})]},y.id)})})]})},Kx=({lang:i,onBack:t,onReview:o,onDelete:a})=>{const r=Wt[i],f=Be.getAllResults().sort((p,h)=>h.date-p.date);return N.jsxs("div",{className:"max-w-5xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("header",{className:"mb-12 flex justify-between items-center",children:[N.jsx("h2",{className:"text-4xl font-black text-slate-800 dark:text-white tracking-tight",children:r.examHistory}),N.jsx("button",{onClick:t,className:"bg-slate-100 dark:bg-slate-800 px-8 py-4 rounded-2xl font-black",children:r.backToHome})]}),f.length===0?N.jsx("div",{className:"text-center py-20 bg-white dark:bg-slate-900 rounded-[3rem] border border-slate-100 dark:border-slate-800",children:N.jsx("p",{className:"text-slate-400 font-bold",children:r.noExams})}):N.jsx("div",{className:"space-y-4",children:f.map(p=>{const h=Xu.find(y=>y.id===p.subjectId);return N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-6 rounded-3xl flex items-center justify-between border border-slate-100 dark:border-slate-800 hover:shadow-lg transition-all",children:[N.jsxs("div",{className:"flex items-center gap-6",children:[N.jsx("div",{className:`w-14 h-14 ${(h==null?void 0:h.color)||"bg-slate-100"} rounded-2xl flex items-center justify-center text-3xl`,children:(h==null?void 0:h.icon)||""}),N.jsxs("div",{children:[N.jsx("h4",{className:"font-black text-slate-800 dark:text-white",children:(h==null?void 0:h.name[i])||p.examId}),N.jsx("p",{className:"text-xs font-bold text-slate-400",children:new Date(p.date).toLocaleDateString(i==="ar"?"ar-EG":"en-US")})]})]}),N.jsxs("div",{className:"flex items-center gap-8",children:[N.jsxs("div",{className:"text-center",children:[N.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase",children:r.accuracy}),N.jsxs("p",{className:`text-xl font-black ${p.score>=70?"text-green-500":"text-amber-500"}`,children:[p.score,"%"]})]}),N.jsxs("div",{className:"flex gap-2",children:[N.jsx("button",{onClick:()=>o(p),className:"px-5 py-3 bg-indigo-50 dark:bg-indigo-900/30 text-indigo-600 rounded-xl font-black text-sm",children:r.open}),N.jsx("button",{onClick:()=>a(p.date),className:"p-3 text-red-400 hover:bg-red-50 rounded-xl transition-colors",children:""})]})]})]},p.date)})})]})},Xx=({result:i,lang:t,onBack:o})=>{const a=Wt[t],[r,f]=We.useState("all");return N.jsxs("div",{className:"max-w-4xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("header",{className:"mb-12 flex justify-between items-center",children:[N.jsxs("div",{children:[N.jsx("h2",{className:"text-4xl font-black text-slate-800 dark:text-white tracking-tight",children:a.review}),N.jsxs("div",{className:"flex gap-4 mt-4",children:[N.jsx("button",{onClick:()=>f("all"),className:`px-5 py-2 rounded-xl font-black text-sm ${r==="all"?"bg-indigo-600 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:a.show_all}),N.jsx("button",{onClick:()=>f("wrong"),className:`px-5 py-2 rounded-xl font-black text-sm ${r==="wrong"?"bg-red-500 text-white":"bg-slate-100 dark:bg-slate-800"}`,children:a.show_wrong})]})]}),N.jsx("button",{onClick:o,className:"bg-slate-100 dark:bg-slate-800 px-8 py-4 rounded-2xl font-black",children:a.previous})]}),N.jsx("div",{className:"space-y-6",children:i.answers.filter(p=>r==="all"||!p.isCorrect).map((p,h)=>N.jsxs("div",{className:`p-8 rounded-[2.5rem] border-2 ${p.isCorrect?"border-green-100 bg-green-50/20":"border-red-100 bg-red-50/20"} relative`,children:[N.jsxs("div",{className:"flex justify-between items-start mb-6",children:[N.jsx("span",{className:`px-4 py-1.5 rounded-full text-[10px] font-black uppercase tracking-widest ${p.isCorrect?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:p.isCorrect?a.correct:a.wrong}),N.jsxs("span",{className:"text-slate-400 font-bold text-sm",children:["#",h+1]})]}),N.jsxs("p",{className:"text-xl font-bold mb-8 text-slate-800 dark:text-slate-100",children:["Question ID: ",p.questionId]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[N.jsxs("div",{className:"bg-white/50 dark:bg-slate-900/50 p-6 rounded-3xl",children:[N.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase mb-2",children:a.yourAnswer}),N.jsx("p",{className:`font-black ${p.isCorrect?"text-green-600":"text-red-500"}`,children:p.userAnswer||"---"})]}),!p.isCorrect&&N.jsxs("div",{className:"bg-white/50 dark:bg-slate-900/50 p-6 rounded-3xl border-2 border-indigo-100 dark:border-indigo-900/30",children:[N.jsx("p",{className:"text-[10px] font-black text-indigo-400 uppercase mb-2",children:a.correctAnswer}),N.jsx("p",{className:"font-black text-indigo-600",children:"Refer to original exam material."})]})]})]},h))})]})},Qx=({subjectId:i,lang:t,onBack:o})=>{const a=Wt[t],r=Xu.find(p=>p.id===i),f=Be.getStats().subjectProgress[i];return N.jsxs("div",{className:"max-w-4xl mx-auto p-6 animate-fade-in text-start",children:[N.jsxs("header",{className:"mb-12 flex justify-between items-center",children:[N.jsxs("div",{className:"flex items-center gap-6",children:[N.jsx("div",{className:`w-20 h-20 ${r==null?void 0:r.color} rounded-3xl flex items-center justify-center text-4xl shadow-xl`,children:r==null?void 0:r.icon}),N.jsxs("div",{children:[N.jsx("h2",{className:"text-4xl font-black text-slate-800 dark:text-white tracking-tight",children:r==null?void 0:r.name[t]}),N.jsx("p",{className:"text-slate-400 font-bold",children:a.subjectStats})]})]}),N.jsx("button",{onClick:o,className:"bg-slate-100 dark:bg-slate-800 px-8 py-4 rounded-2xl font-black",children:a.backToHome})]}),N.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-12",children:[N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800",children:[N.jsx("p",{className:"text-xs font-black text-slate-400 uppercase mb-2",children:a.totalExams}),N.jsx("p",{className:"text-4xl font-black text-slate-800 dark:text-white",children:(f==null?void 0:f.examsCount)||0})]}),N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800",children:[N.jsx("p",{className:"text-xs font-black text-slate-400 uppercase mb-2",children:a.accuracy}),N.jsxs("p",{className:"text-4xl font-black text-indigo-600",children:[(f==null?void 0:f.accuracy)||0,"%"]})]}),N.jsxs("div",{className:"bg-white dark:bg-slate-900 p-8 rounded-[2.5rem] border border-slate-100 dark:border-slate-800",children:[N.jsx("p",{className:"text-xs font-black text-slate-400 uppercase mb-2",children:a.lastScore}),N.jsxs("p",{className:"text-4xl font-black text-amber-500",children:[(f==null?void 0:f.lastScore)||0,"%"]})]})]})]})},Zx=()=>{const[i,t]=We.useState("ar"),[o,a]=We.useState(()=>localStorage.getItem("theme")||"light"),[r,f]=We.useState(Be.getStats()),[p,h]=We.useState("home"),[y,g]=We.useState(null),[v,T]=We.useState(null),[E,C]=We.useState(null),[I,G]=We.useState(!1);We.useEffect(()=>{document.documentElement.dir=i==="ar"?"rtl":"ltr",document.documentElement.lang=i},[i]),We.useEffect(()=>{const P=document.documentElement;o==="dark"?(P.classList.add("dark"),P.classList.remove("light")):(P.classList.add("light"),P.classList.remove("dark")),localStorage.setItem("theme",o)},[o]);const L=async P=>{G(!0);try{const Q=await fetch(`exams/${P}.json`);if(!Q.ok)throw new Error("File not found");const ee=await Q.json();g(ee),h("exam")}catch{alert(i==="ar"?"   .":"Could not load exam file.")}finally{G(!1)}},z=()=>{const P=Be.getStarredQuestions();if(P.length===0){alert(Wt[i].no_starred);return}g({id:"starred-exam",subjectId:"starred",title:{ar:" ",en:"Starred Challenge"},questions:P}),h("exam")},Y=P=>{Be.saveResult(P),f(Be.getStats()),T({...P,date:Date.now()}),h("results")},O=P=>{confirm(i==="ar"?"      ":"Are you sure you want to delete this result?")&&(Be.deleteResult(P),f(Be.getStats()))};return N.jsxs("div",{className:"min-h-screen bg-slate-50 dark:bg-slate-950 text-slate-900 dark:text-slate-100 transition-colors duration-500",children:[N.jsx(zx,{lang:i,setLang:t,theme:o,toggleTheme:()=>a(P=>P==="light"?"dark":"light"),onStats:()=>h("history"),onFavorites:()=>h("favorites")}),N.jsxs("main",{className:"py-12",children:[p==="home"&&N.jsx(Px,{stats:r,onSelectSubject:L,onStartPlacement:()=>L("placement"),onStartStarred:z,lang:i,onSubjectStats:P=>{C(P),h("subject-stats")}}),p==="exam"&&y&&N.jsx(Fx,{exam:y,lang:i,onFinish:Y,onCancel:()=>h("home")}),p==="results"&&v&&y&&N.jsx(Jx,{result:v,exam:y,lang:i,onHome:()=>h("home"),onReview:()=>h("review")}),p==="history"&&N.jsx(Kx,{lang:i,onBack:()=>h("home"),onReview:P=>{T(P),h("review")},onDelete:O}),p==="review"&&v&&N.jsx(Xx,{result:v,lang:i,onBack:()=>h("history")}),p==="subject-stats"&&E&&N.jsx(Qx,{subjectId:E,lang:i,onBack:()=>h("home")}),p==="favorites"&&N.jsx(Yx,{lang:i,onBack:()=>h("home"),onStartExam:z,onToggleStar:P=>{Be.toggleStar(P),f(Be.getStats())}})]}),I&&N.jsxs("div",{className:"fixed inset-0 bg-white/80 dark:bg-slate-950/80 backdrop-blur-xl z-[100] flex flex-col items-center justify-center animate-fade-in",children:[N.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mb-6 shadow-2xl shadow-indigo-200"}),N.jsx("p",{className:"font-black text-2xl text-indigo-600",children:i==="ar"?"  ...":"Preparing your questions..."})]})]})},Ph=document.getElementById("root");Ph?Vx.createRoot(Ph).render(N.jsx(Ix.StrictMode,{children:N.jsx(Zx,{})})):console.error("Critical Error: Could not find root element to mount the application. Ensure <div id='root'></div> exists in index.html.");
